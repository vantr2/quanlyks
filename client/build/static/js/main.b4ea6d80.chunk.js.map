{"version":3,"sources":["hosts/Server.js","apis/KiemTraDangNhapBackEnd.js","apis/LichSuFinder.js","utils/ThemLichSu.js","components/login/LoginBackEnd.js","components/sidebar/SidebarData.js","components/sidebar/SubMenu.js","contexts/AccountContext.js","components/sidebar/Sidebar.js","apis/TaiKhoanFinder.js","components/quanly/taikhoan/ResetPassword.js","components/quanly/taikhoan/SuaThongTinNguoiDung.js","components/quanly/taikhoan/ThayDoiTrangThaiTaiKhoan.js","components/quanly/taikhoan/TimKiemNguoiDung.js","components/quanly/taikhoan/DanhSachTaiKhoan.js","pages/backend/admin/TaiKhoanPage.js","apis/NhaCungCapFinder.js","components/quanly/nhacungcap/XoaNcc.js","utils/NormalizeString.js","components/quanly/nhacungcap/SuaNcc.js","components/quanly/nhacungcap/DanhSachNcc.js","components/quanly/nhacungcap/ThemNcc.js","pages/backend/danhmuc/NhaCungCapPage.js","apis/NhanVienFinder.js","components/quanly/nhanvien/XoaNhanVienType2.js","components/quanly/nhanvien/DanhSachNhanVien.js","components/quanly/nhanvien/ThemNhanVien.js","pages/backend/danhmuc/NhanVienPage.js","components/quanly/nhanvien/ChiTietNhanVien.js","pages/backend/danhmuc/nhanvien/DetailPageNhanVien.js","components/quanly/nhanvien/SuaNhanVien.js","pages/backend/danhmuc/nhanvien/SuaPageNhanVien.js","apis/DichVuFinder.js","firebase/index.js","components/quanly/dichvu/XoaDichVu.js","components/quanly/dichvu/DanhSachDichVu.js","components/quanly/dichvu/ThemDichVu.js","pages/backend/danhmuc/DichVuPage.js","apis/PhongFinder.js","components/quanly/phong/XoaPhong.js","components/quanly/phong/DanhSachPhong.js","components/quanly/phong/ThemPhong.js","pages/backend/danhmuc/PhongPage.js","pages/backend/danhmuc/LoaiPage.js","apis/DatPhongFinder.js","components/quanly/datphong/DanhSachPhong.js","pages/backend/phong/TinhTrangPhongPage.js","components/quanly/datphong/TimKiemPhieuThue.js","components/quanly/datphong/DanhSachDatPhong.js","pages/backend/phong/datphong/DanhSachDatPhongPage.js","components/quanly/datphong/CTDPSuDungDichVu.js","components/quanly/datphong/ChiTietDatPhong.js","pages/backend/phong/datphong/ChiTietDatPhongPage.js","apis/DatPhongOnlineFinder.js","components/quanly/datphongonline/TimKiemDPOl.js","components/quanly/datphongonline/DanhSachDatPhongOnline.js","pages/backend/phong/DatPhongOnlinePage.js","components/quanly/datphongonline/DPOLChiTiet.js","pages/backend/phong/datphong/DatPhongOnlineChiTietPage.js","apis/HoaDonFinder.js","components/quanly/hoadon/XoaHoaDon.js","components/quanly/hoadon/SuaHoaDon.js","components/quanly/hoadon/TimKiemHoaDon.js","components/quanly/hoadon/DanhSachHoaDon.js","components/quanly/hoadon/LapHoaDon.js","pages/backend/phong/HoaDonPage.js","components/quanly/hoadon/hoadonct/ThanhToan.js","components/quanly/hoadon/hoadonct/XemChiTietDP.js","components/quanly/hoadon/hoadonct/XemDichVuDaSuDung.js","components/quanly/hoadon/HoaDonChiTiet.js","pages/backend/phong/hoadon/ChiTietHoaDonPage.js","apis/KhachHangFinder.js","components/quanly/khachhang/XoaKhachHang.js","components/quanly/khachhang/DanhSachKhachHang.js","pages/backend/qlkhachhang/ThongTinKHPage.js","apis/TaiSanFinder.js","components/quanly/taisan/XoaTaiSan.js","components/quanly/taisan/TimKiemTaiSan.js","components/quanly/taisan/DanhSachTaiSan.js","apis/DonViTinhFinder.js","components/quanly/taisan/ThemTaiSan.js","pages/backend/qltaisan/TaiSanPage.js","apis/BaoDuongFinder.js","components/quanly/baoduong/XoaBaoDuong.js","components/quanly/baoduong/DanhSachBaoDuong.js","components/quanly/baoduong/ThemBaoDuong.js","pages/backend/qltaisan/BaoDuongPage.js","components/quanly/baoduong/ChiTietBaoDuong.js","components/quanly/baoduong/XoaTaiSanBaoDuong.js","components/quanly/baoduong/SuaTaiSanBaoDuong.js","components/quanly/baoduong/DanhSachTaiSanBaoDuong.js","components/quanly/baoduong/ThemTaiSanBaoDuong.js","pages/backend/qltaisan/baoduong/ChiTietBaoDuongPage.js","components/quanly/baoduong/SuaBaoDuong.js","pages/backend/qltaisan/baoduong/SuaBaoDuongPage.js","apis/PhieuMuaFinder.js","components/quanly/phieumua/XoaPhieuMua.js","components/quanly/phieumua/DanhSachPhieuMua.js","components/quanly/phieumua/ThemPhieuMua.js","pages/backend/qlhanghoa/PhieuMuaPage.js","apis/XinNghiFinder.js","components/quanly/xinnghi/XoaXinNghi.js","components/quanly/xinnghi/DanhSachXinNghi.js","components/quanly/xinnghi/ThemXinNghi.js","pages/backend/qlnhanvien/XinNghiPage.js","components/quanly/xinnghi/ChiTietXinNghi.js","pages/backend/qlnhanvien/xinnghi/ChiTietDonXinNghiPage.js","components/quanly/xinnghi/SuaXinNghi.js","pages/backend/qlnhanvien/xinnghi/SuaDonXinNghiPage.js","pages/backend/qlnhanvien/BangLuongPage.js","components/quanly/profilenhanvien/DoiMatKhau.js","components/quanly/profilenhanvien/ProfileNhanVien.js","pages/backend/qlnhanvien/ProfileNhanVienPage.js","pages/backend/nvquanly/ChamCongPage.js","components/quanly/duyetdon/HanhDongDuyet.js","components/quanly/duyetdon/DanhSachCho.js","components/quanly/duyetdon/XoaDanhSachDaDuyet.js","components/quanly/duyetdon/DanhSachDaDuyet.js","hosts/Host.js","pages/backend/nvquanly/DonXinNghiPage.js","components/quanly/duyetdon/DanhSachDaDuyetChiTiet.js","pages/backend/nvquanly/duyetdon/DuyetDonChiTietPage.js","components/quanly/phong/ChiTietPhong.js","pages/backend/danhmuc/phong/ChiTietPhongPage.js","components/quanly/phong/SuaPhong.js","pages/backend/danhmuc/phong/SuaPhongPage.js","components/quanly/dichvu/ChiTietDichVu.js","pages/backend/danhmuc/dichvu/ChiTietDichVuPage.js","components/quanly/dichvu/SuaDichVu.js","pages/backend/danhmuc/dichvu/SuaDichVuPage.js","components/quanly/taisan/ChiTietTaiSan.js","pages/backend/qltaisan/thongtintaisan/ChiTietTaiSanPage.js","components/quanly/taisan/SuaTaiSan.js","pages/backend/qltaisan/thongtintaisan/SuaTaiSanPage.js","components/quanly/lshoatdong/DanhSachLichSu.js","components/quanly/lshoatdong/LocTheoTaiKhoan.js","pages/backend/LichSuHoatDongPage.js","components/quanly/phieumua/SuaPhieuMua.js","pages/backend/qlhanghoa/phieumua/SuaPhieuMuaPage.js","components/quanly/phieumua/ChiTietPhieuMua.js","components/quanly/phieumua/XoaPhieuMuaChiTiet.js","components/quanly/phieumua/SuaPhieuMuaChiTiet.js","components/quanly/phieumua/DanhSachPhieuMuaChiTiet.js","components/quanly/phieumua/ThemPhieuMuaChiTiet.js","pages/backend/qlhanghoa/phieumua/ChiTietPhieuMuaPage.js","apis/DoiHuyFinder.js","components/quanly/datphong/doihuy/DoiPhong.js","components/quanly/datphong/doihuy/HuyPhong.js","components/quanly/datphong/CheckIn.js","pages/backend/phong/datphong/CheckInPage.js","components/quanly/datphong/ThongTinDatPhong.js","components/quanly/datphong/ThongTinKhachHang.js","pages/backend/phong/datphong/DatPhongPage.js","components/quanly/datphong/XemThanhToan.js","components/quanly/datphong/CheckOut.js","components/quanly/datphong/SuDungDichVu.js","pages/backend/phong/datphong/SuDungDichVuPage.js","components/quanly/phieuxacnhan/Controller.js","components/quanly/phieuxacnhan/SuaPhieuXacNhan.js","components/quanly/phieuxacnhan/XoaPhieuXacNhan.js","components/quanly/phieuxacnhan/PhieuDoiPhong.js","components/quanly/phieuxacnhan/PhieuHuyPhong.js","pages/backend/phong/PhieuXacNhanPage.js","components/quanly/khachhang/ChiTietKhachHang.js","pages/backend/qlkhachhang/ChiTietKhachHangPage.js","components/quanly/lshoatdong/ChiTietLichSu.js","pages/backend/lshoatdong/ChiTietLichSuPage.js","components/quanly/hoadon/hoadonct/InHoaDon.js","pages/backend/phong/hoadon/InHoaDonPage.js","pages/backend/MenuQuanLy.js","pages/BackEnd.js","App.js","index.js","utils/DataHandler.js"],"names":["Server","axios","create","baseURL","ThemLichSu","bundle","a","LichSuFinder","post","nguoithuchien","window","localStorage","getItem","vaitro","hanhdong","doing","dulieucu","JSON","stringify","olddata","dulieumoi","newdata","doituong","tbl","console","log","message","LoginBackEnd","useState","ten","setTen","mk","setMk","messageError","setMessageError","handleSubmit","english","setTimeout","indexOf","test","length","KiemTraDangNhapBackEnd","res","data","status","setItem","ten_ht","avt","location","reload","error","className","action","type","placeholder","id","title","value","onChange","e","target","required","active","onClick","SidebarData","icon","role","path","iconClosed","iconOpened","subNav","cName","SidebarLink","styled","div","SidebarLabel","span","DropdownLink","Link","SubMenu","item","sidebar","subnav","setSubnav","hi","useHistory","push","map","index","to","AccountContext","createContext","AccountContextProvider","props","signedIn","setSignedIn","tenDangNhap","setTenDangNhap","userDisplayName","setUserDisplayName","userRole","setUserRole","userAvatar","setUserAvartar","userId","setUserId","nguoiDungList","setNguoiDungList","msgUserActionSuccess","setMsgUserActionSuccess","dsNhanVien","setDsNhanVien","msgNhanVienActionSuccess","setMsgNhanVienActionSuccess","dsPhong","setDsPhong","msgPhongActionSuccess","setMsgPhongActionSuccess","dsDichVu","setDsDichVu","msgDichVuActionSuccess","setMsgDichVuActionSuccess","dsTaiSan","setDsTaiSan","vitritk","setViTriTk","msgTaiSanActionSuccess","setMsgTaiSanActionSuccess","dsBaoDuong","setDsBaoDuong","dsBaoDuongChiTiet","setDsBaoDuongChiTiet","msgErrorBDCT","setMsgErrorBDCT","msgBaoDuongActionSuccess","setMsgBaoDuongActionSuccess","dsPhieuMua","setDsPhieuMua","dsPhieuMuaChiTiet","setDsPhieuMuaChiTiet","msgErrorPMCT","setMsgErrorPMCT","msgPhieuMuaActionSuccess","setMsgPhieuMuaActionSuccess","dsNcc","setDsNcc","msgNccActionSuccess","setMsgNccActionSuccess","dsDon","setDsDon","msgDonActionSuccess","setMsgDonActionSuccess","khID","setKHID","msgDatPhongActionSuccess","setMsgDatPhongActionSuccess","dsDatPhong","setDsDatPhong","dsDvSuDung","setDsDvSuDung","dsHoaDon","setDsHoaDon","controllerPhieuXacNhan","setControllerPhieuXacNhan","msgKHActionSuccess","setMsgKHActionSuccess","msgKHActionError","setMsgKHActionError","msgPhieuChiActionSuccess","setMsgPhieuChiActionSuccess","dsLichSu","setDsLichSu","dsDpOnline","setDsDpOnline","Provider","themNguoiDung","nguoidung","themNhanVien","nhanvien","themPhong","phong","themDichVu","dichvu","themTaiSan","taisan","themBaoDuong","baoduong","themBaoDuongChiTiet","baoduongchitiet","themNcc","ncc","themDon","don","themPhieuMua","phieumua","themPhieuMuaChiTiet","phieumuaChiTiet","themDvSd","dv","themHoaDon","hoadon","children","SidebarContainer","Nav","NavIcon","SidebarNav","nav","SidebarWrap","Title","InfoContainer","Account","Avatar","img","Logout","UserDisplayName","Sidebar","history","setSidebar","userrole","showSidebar","useContext","color","src","alt","includes","href","ResetPassword","resetPassword","TaiKhoanFinder","put","taikhoan","data-toggle","data-target","data-dismiss","SuaThongTinNguoiDung","old","ten_hienthi","tenHT","setTenHT","setVaiTro","handleUpdate","tenht","newd","new","htmlFor","ThayDoiTrangThaiTaiKhoan","tt","trangthai","trangThai","setTrangThai","handleChangeStatus","username","stopPropagation","TimKiemNguoiDung","kitu","setKitu","get","DanhSachTaiKhoan","useEffect","fetchData","customStyleLine","vt","result","background","borderBottom","style","border","borderRight","cursor","TaiKhoanPage","XoaNcc","isDeleteTs","setIsDeleteTs","isDeletePm","setIsDeletePm","checkDel","NhaCungCapFinder","nhacungcap","count","handleDelete","delete","filter","nhacc","alert","NormalizeString","str","words","trim","split","wordres","forEach","word","wordre","charAt","toUpperCase","slice","toLowerCase","join","SuaNcc","tenncc","setTenNcc","diachi","setDiaChi","sdt","setSdt","setOld","handleSelected","nccSelected","rows","DanhSachNcc","ThemNcc","msgError","setMsgError","aria-expanded","aria-controls","aria-labelledby","data-parent","encType","NhaCungCapPage","XoaNhanVienType2","tenNV","nv","isDel","setIsDel","isHd","setIsHd","NhanVienFinder","handleClick","DanhSachNhanVien","ma_nhan_vien","name","NormalizeDate","ngayvaolam","account","handleNhanVienSelected","ThemNhanVien","setTenNV","gioitinh","setGioiTinh","ngaysinh","setNgaySinh","cmnd","setCMND","email","setEmail","setNgayVaoLam","acc","setAcc","msg","setMsg","checkSpecialCharacter","validateEmail","dontSignEmail","parseInt","convertDate","convertTime","res_nv","disableClock","locale","format","minDate","Date","NhanVienPage","ChiTietNhanVien","useParams","nhanvienSelected","setNhanVienSelected","RenderGioiTinh","renderVaiTro","DetailPageNhanVien","SuaNhanVien","SuaPageNhanVien","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","XoaDichVu","filename","setFileName","tenDV","setTenDV","isDelete","setIsDelete","DichVuFinder","ref","child","DanhSachDichVu","loaidichvu","setLoaiDichVu","loaidv","getLoaiDichVu","renderTenLoaiDichVu","loaidv_id","anhminhhoa","width","NumberFormat","giahientai","loaidichvu_id","handleDichVuSelected","ThemDichVu","tendv","anhDV","setAnhDV","giadichvu","setGiaDichVu","ghichu","setGhiChu","loai","setLoai","image","setImage","loaiDv","setLoaiDv","convertDataTocreatableSelect","getDataCategory","handleAddCategory","customStyles","option","provided","state","isSelected","padding","giadv","anh","accept","files","on","snapshot","getDownloadURL","then","url","suffix","groupSeparator","onValueChange","step","maxLength","editor","ClassicEditor","event","getData","isClearable","dataSelected","actionMeta","options","styles","DichVuPage","XoaPhong","PhongFinder","DanhSachPhong","tieude","giaphongtheongay","giaphongtheogio","loaiphong","handlePhongSelected","ThemPhong","tenphong","setTenPhong","anhphong","setAnhPhong","setGiaPhongTheoNgay","setGiaPhongTheoGio","setTieuDe","motangangon","setMoTaNganGon","motachitiet","setMoTaChiTiet","setLoaiPhong","mtngangon","mtchitiet","config","ckfinder","uploadUrl","PhongPage","LoaiPage","label","timkiem","setTimKiem","dot","alignItems","display","backgroundColor","borderRadius","content","marginRight","height","colourStyles","control","isDisabled","isFocused","chroma","alpha","css","contrast","input","singleValue","renderStyle","buttonStyle","fontSize","phongid","margin","zIndex","DatPhongFinder","datphong","divider","TinhTrangPhongPage","TimKiemPhieuThue","setTt","disabled","DanhSachDatPhong","handleDPSelected","renderTrangThaiDP","renderTrangThaiPhong","ttphongStyle","sty","phong_id","kh_name","kh_sdt","tt_phong","tongtien","DanhSachDatPhongPage","CTDPSuDungDichVu","datphong_chitiet","dvsd","dvname","gia","ngaysd","ChiTietDatPhong","dpSelected","setDPSelected","kh_cmnd","hinhthucdp","ngaydat","checkin","checkout","kh_checkin","kh_checkout","kieuthue","giathue","sotgthue","tiencoc","ChiTietDatPhongPage","TimKiemDPOl","DatPhongOnlineFinder","dponline","DanhSachDatPhongOnline","dpol","khname","khsdt","soluongphong","handleDPOLSelected","DatPhongOnlinePage","DPOLChiTiet","dpolSelected","setDPOLSelected","setTT","handleConfirm","khstk","nguoilon","trecon","DatPhongOnlineChiTietPage","XoaHoaDon","HoaDonFinder","SuaHoaDon","nvId","setNvId","vat","setVat","hinhthuctt","setHinhThucTT","res_hd","hdSelected","nv_id","decimalSeparator","precision","TimKiemHoaDon","setNv","DanhSachHoaDon","ngaylap","nv_name","handleHoaDonSelected","LapHoaDon","khId","setKhId","dsKhachHang","setDsKhachHang","disableDSDP","setDisableDSDP","optitionsDP","setOptionsDP","dpsSelected","setDpsSelected","getListKH","getListNV","tinhTienPhat","co","khco","thanhtien","tienphat","datediff","khachhang_id","hoadon_id_inserted","hd","chitiet","res_dpchitiet","dp","tienphong","hoadon_id","datphong_id","res_hdchitiet","hoadon_chitiet","handleChangeDsKH","kh","kh_id","labelledBy","overrideStrings","allItemsAreSelected","clearSearch","noOptions","search","selectAll","selectSomeItems","HoaDonPage","ThanhToan","dsdp","handleThanhToan","res_dp","XemChiTietDP","datphongSelected","setDatPhongSelected","XemDichVuDaSuDung","dv_name","soluong","dichvu_id","HoaDonChiTiet","hoadonSelected","setHoaDonSelected","dsDPTheoHoaDon","setDPTheoHoaDon","showDSPhong","setShowDsPhong","hdct","renderTrangThaiHoaDon","tongcoc","tongphat","nv_sdt","nv_account","ChiTietHoaDonPage","XoaKhachHang","isDeleteDp","setIsDeleteDp","isDeleteHd","setIsDeleteHd","checkIdKh","KhachHangFinder","khachhang","DanhSachKhachHang","dsKh","setDsKH","kieukhachhang_name","handleKHSelected","ThongTinKHPage","XoaTaiSan","ts","TaiSanFinder","TimKiemTaiSan","res_tk","fetchDataPhong","DanhSachTaiSan","renderTrangThaiTaiSan","ngaymua","giataisan","vitri","handleTaiSanSelected","ThemTaiSan","tents","setTenTs","setGiaTaiSan","setNgayMua","setViTri","loaitsId","setLoaiTsId","dvtId","setDonViTinhId","setNhaCC","phongFilter","setPhongFilter","nhaccFilter","setNhaCCFilter","loaiTS","setLoaiTS","donvitinh","setDonViTinh","getLoaiTaiSan","loaitaisan","getDonViTinh","DonViTinhFinder","filterNhaCC","filterVitri","handleAddDonViTinh","handleAddLoaiTaiSan","bdlancuoi","dvt_id","nhacc_id","loaitaisan_id","TaiSanPage","XoaBaoDuong","bd","BaoDuongFinder","DanhSachBaoDuong","nguoibd","ngaybd","tennv","handleBaoDuongSelected","ThemBaoDuong","nguoiBd","setNguoiBd","setNgayBd","idNV","setIDNV","nhanvienFilter","setNhanVienFilter","filterNhanVien","nvtiepnhan","baoduongInserted","baoduongContext","idnv","min","nativeEvent","selectedIndex","text","BaoDuongPage","ChiTietBaoDuong","baoduongSelected","setBaoDuongSelected","XoaTaiSanBaoDuong","tsId","bdct","bdID","tenTs","bdchitiet","SuaTaiSanBaoDuong","bdId","phibd","setPhiBd","bdChiTietSelected","baoduong_chitiet","DanhSachTaiSanBaoDuong","taisanbd","ThemTaiSanBaoDuong","idTS","setIdTS","taisanFilter","setTaiSanFilter","filterTaiSan","baoduong_id","bdchitetInserted","bdchitietContext","ChiTietBaoDuongPage","SuaBaoDuong","SuaBaoDuongPage","XoaPhieuMua","pm","PhieuMuaFinder","DanhSachPhieuMua","handlePhieuMuaSelected","ThemPhieuMua","phieumuaInserted","phieumuaContext","PhieuMuaPage","XoaXinNghi","xn","XinNghiFinder","DanhSachXinNghi","nvid","setNvid","xinnghi","getNhanVien","renderTrangThaiDon","class","renderThoiGianNghi","tg","nguoiduyet","khinao","baolau","tgvietdon","handleDonSelected","ThemXinNghi","setKhiNao","setBaoLau","lydo","setLyDo","setNhanVien","dateInPast","nhanvien_id","XinNghiPage","ChiTietXinNghi","donSelected","setDonSelected","ph_nguoiduyet","tgduyet","ChiTietDonXinNghiPage","SuaXinNghi","SuaDonXinNghiPage","BangLuongPage","DoiMatKhau","iv","mkCu","setMkCu","mkMoi","setMkMoi","xnMKMoi","setXnMkMoi","msgE","setMsgE","msgS","setMsgS","handleChangePassword","mkcu","mkmoi","ProfileNhanVien","setAvt","progress","setProgress","isUploading","setIsUploading","getFileName","getAvtNow","handlePutData","fname","furl","textAlign","storageRef","onUploadStart","onUploadError","onUploadSuccess","urlRetrieve","onProgress","hidden","max","ProfileNhanVienPage","ChamCongPage","HanhDongDuyet","setTenNv","udisplayname","DanhSachCho","dsDonCho","setDsDonCho","doncho","XoaDanhSachDaDuyet","dsdd","DanhSachDaDuyet","dsDaDuyet","setDsDaDuyet","DonXinNghiPage","DanhSachDaDuyetChiTiet","donDaDuyetSelected","setDonDaDuyetSelected","DuyetDonChiTietPage","ChiTietPhong","phongSelected","setPhongSelected","renderTrangThai","mota_ngangon","dangerouslySetInnerHTML","__html","mota_chitiet","ChiTietPhongPage","SuaPhong","phongUpdate","SuaPhongPage","ChiTietDichVu","dichvuSelected","setDichVuSelected","ChiTietDichVuPage","SuaDichVu","loadDv","setLoadDv","dichvuUpdate","SuaDichVuPage","ChiTietTaiSan","taisanSelected","setTaiSanSelected","loaitaisan_name","donvitinh_name","nhacc_name","nhacc_diachi","nhacc_sdt","ChiTietTaiSanPage","SuaTaiSan","loaiTSSelected","setLoaiTSSelected","donvitinhSelected","setDonViTinhSelected","SuaTaiSanPage","DanhSachLichSu","lichsu","ls","tdthuchien","float","LocTheoTaiKhoan","setTaiKhoan","dsTk","setDsTk","filterTK","tk","LichSuHoatDongPage","SuaPhieuMua","phieumuaSelected","SuaPhieuMuaPage","ChiTietPhieuMua","setPhieuMuaSelected","XoaPhieuMuaChiTiet","pmid","pmct","pmchitiet","SuaPhieuMuaChiTiet","tenhh","setTenHh","dongia","setDonGia","setSoLuong","loaihhId","setLoaiHhId","loaiHH","setLoaiHH","loaiHHSelected","setLoaiHHSelected","getLoaiHangHoa","loaihh","pmCtSelected","phieumua_chitiet","loaihang_id","donvitinh_id","loaihang_name","handleAddLoaiHangHoa","DanhSachPhieuMuaChiTiet","phieumua_id","ThemPhieuMuaChiTiet","ChiTietPhieuMuaPage","DoiPhong","dpid","phongden","setPhongDen","setGiaThue","setKieuThue","handleDoiPhong","DoiHuyFinder","tuphong","denphong","lydodoi","nguoidoi","doiphong","handleChangePhongDen","HuyPhong","handleHuyPhong","phonghuy","lydohuy","nguoihuy","huyphong","CheckIn","setDpSelected","tenKh","setTenKh","cmndKH","setCmndKh","sdtKh","setSdtKh","dpId","setDpId","datPhongSelected","getDatPhong","handleSave","handleCheckIn","CheckInPage","ThongTinDatPhong","user_name","user_displayname","htdatphong","setHtDatPhong","setCheckIn","setCheckOut","htthue","setHtThue","sotgThue","setSoTgThue","setTienCoc","setNV","thuetheongay","setThueTheoNgay","thuetheogio","setThueTheoGio","getPhong","handleOpenRoom","Math","floor","today","tc","round","handleChangeHtThue","ThongTinKhachHang","tenKH","setTenKH","stk","setStk","successMsg","setSuccessMsg","buttonThem","setButtonThem","buttonSua","setButtonSua","disableAccount","setDisableAccount","kieukhID","setKieuKhID","kieuKH","setKieuKH","kieuKHSelected","setKieuKHSelected","optionsKH","setOptionsKH","valueKh","setValueKh","getKieuKhachHang","kieukh","getListKh","getMotKH","khachhangSelected","kieukhachhang_id","handleAddKieuKhachHang","handleInsertKh","res_check_cmnd","res_check_sdt","res_check_stk","r","handleUpdateKh","DatPhongPage","XemThanhToan","CheckOut","handleCheckOut","SuDungDichVu","ldvIdSelected","setLdvIdSelected","dsLoaiDv","setDsLoaiDv","khName","setKhName","khSdt","setKhSdt","getDichVu","res2","handleChangeLDVFilter","handleClickImg","overflow","ldv","marginBottom","SuDungDichVuPage","Controller","SuaPhieuXacNhan","setLydo","XoaPhieuXacNhan","PhieuDoiPhong","dsDoiPhong","setDsDoiPhong","ngaydoi","PhieuHuyPhong","dsHuyPhong","setDsHuyPhong","hp","ngayhuy","PhieuXacNhanPage","ChiTietKhachHang","khSelected","setKhSelected","ChiTietKhachHangPage","ChiTietLichSu","oldData","setOldData","newData","setNewData","parse","indentWidth","displayObjectSize","displayDataTypes","ChiTietLichSuPage","InHoaDon","setHoaDon","hoadonct","setHoaDonCt","getHoaDon","getHoaDonCT","res_dv","print","colSpan","dp_tiencoc","InHoaDonPage","MenuQuanLy","exact","component","DuyetDonPage","BackEnd","App","ReactDOM","render","StrictMode","document","getElementById","date","toLocaleDateString","module","exports","i","num","replace","CMNDFormat","toString","String","arr","obj","firstDate","secondDate","setHours","dt","toLocaleTimeString"],"mappings":"iOAEeA,EADA,oCCEAC,MAAMC,OAAO,CAC1BC,QAASH,EAAS,uC,kBCDLC,MAAMC,OAAO,CAC1BC,QAASH,EAAS,oBCaLI,EAfC,uCAAG,WAAOC,GAAP,SAAAC,EAAA,+EAETC,EAAaC,KAAK,QAAS,CAC/BC,cAAeC,OAAOC,aAAaC,QAAQ,aAC3CC,OAAQH,OAAOC,aAAaC,QAAQ,aACpCE,SAAUT,EAAOU,MACjBC,SAAUC,KAAKC,UAAUb,EAAOc,SAChCC,UAAWH,KAAKC,UAAUb,EAAOgB,SACjCC,SAAUjB,EAAOkB,MARJ,sDAWfC,QAAQC,IAAI,KAAIC,SAXD,wDAAH,sD,OC6JDC,EA3JM,WAAO,IAAD,EACHC,mBAAS,IADN,mBAClBC,EADkB,KACbC,EADa,OAELF,mBAAS,IAFJ,mBAElBG,EAFkB,KAEdC,EAFc,OAGeJ,mBAAS,IAHxB,mBAGlBK,EAHkB,KAGJC,EAHI,KAKnBC,EAAY,uCAAG,8BAAA7B,EAAA,yDACb8B,EAAU,iBACJ,KAARP,EAFe,gBAGjBK,EAAgB,+GAChBG,YAAW,WACTH,EAAgB,MACf,KANc,4BAORL,EAAIS,QAAQ,MAAQ,GAPZ,iBAQjBJ,EAAgB,2FAChBG,YAAW,WACTH,EAAgB,MACf,KAXc,2BAYPE,EAAQG,KAAKV,GAZN,iBAajBK,EAAgB,6HAChBG,YAAW,WACTH,EAAgB,MACf,KAhBc,6BAiBRL,EAAIW,OAAS,GAAKX,EAAIW,OAAS,GAjBvB,iBAkBjBN,EAAgB,6EAChBG,YAAW,WACTH,EAAgB,MACf,KArBc,2BAsBD,KAAPH,EAtBQ,iBAuBjBG,EAAgB,yGAvBC,6BAwBRH,EAAGO,QAAQ,MAAQ,GAxBX,iBAyBjBJ,EAAgB,qFAChBG,YAAW,WACTH,EAAgB,MACf,KA5Bc,2BA6BPE,EAAQG,KAAKR,GA7BN,iBA8BjBG,EAAgB,uHAChBG,YAAW,WACTH,EAAgB,MACf,KAjCc,6BAkCRH,EAAGS,OAAS,GAAKT,EAAGS,OAAS,GAlCrB,iBAmCjBN,EAAgB,uEAChBG,YAAW,WACTH,EAAgB,MACf,KAtCc,mDAyCGO,EAAuBjC,KAAK,IAAK,CACjDqB,IAAKA,EACLE,GAAIA,EACJlB,OAAQ,OA5CK,QA+CS,QANlB6B,EAzCS,QA+CPC,KAAKC,QACXV,EAAgBQ,EAAIC,KAAKC,QACzBP,YAAW,WACTH,EAAgB,MACf,OAEHxB,OAAOC,aAAakC,QAAQ,WAAY,QACxCnC,OAAOC,aAAakC,QAAQ,YAAaH,EAAIC,KAAKA,KAAKd,KACvDnB,OAAOC,aAAakC,QAAQ,mBAAoBH,EAAIC,KAAKA,KAAKG,QAC9DpC,OAAOC,aAAakC,QAAQ,YAAaH,EAAIC,KAAKA,KAAK9B,QACvDH,OAAOC,aAAakC,QAAQ,WAAYH,EAAIC,KAAKA,KAAKI,KAEtD3C,EAAW,CACTW,MAAO,2BACPI,QAAS,GACTE,QAAS,GACTE,IAAK,4BAEPb,OAAOsC,SAASC,UAjEH,mDAoEfzB,QAAQ0B,MAAM,KAAIxB,SApEH,2DAAH,qDAwElB,OACE,qBAAKyB,UAAU,yCAAf,SACE,sBAAKA,UAAU,gEAAf,UACE,oBAAIA,UAAU,wBAAd,sCAEA,uBAAMC,OAAO,GAAGD,UAAU,sBAA1B,UACE,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,iCAGjB,uBACEE,KAAK,OACLC,YAAY,qCACZC,GAAG,WACHJ,UAAU,eACVK,MAAM,kEACNC,MAAO5B,EACP6B,SAAU,SAACC,GACT7B,EAAO6B,EAAEC,OAAOH,QAElBI,UAAQ,OAGZ,sBAAKV,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,gCAGjB,uBACEE,KAAK,WACLC,YAAY,+BACZC,GAAG,WACHJ,UAAU,eACVK,MAAM,mEACNC,MAAO1B,EACP2B,SAAU,SAACC,GACT3B,EAAM2B,EAAEC,OAAOH,QAEjBI,UAAQ,OAIZ,mBAAGV,UAAU,cAAb,SAA4BlB,IAC5B,cAAC,IAAD,UACG,SAAC6B,GAAD,OACC,oBAAGX,UAAU,cAAb,UACG,IACAW,EAAS,qDAAqC,SAerD,wBACET,KAAK,SACLF,UAAU,oCACVY,QAAS5B,EAHX,+C,0GCtIG6B,EAAc,CAEzB,CACER,MAAO,6CACPS,KAAM,cAAC,IAAD,IACNC,KAAM,CAAC,QAAS,OAAQ,MAAO,KAAM,QACrCC,KAAM,KAGR,CACEX,MAAO,QACPS,KAAM,cAAC,IAAD,IACNG,WAAY,cAAC,IAAD,IACZC,WAAY,cAAC,IAAD,IACZH,KAAM,CAAC,SACPI,OAAQ,CACN,CACEd,MAAO,oBACPW,KAAM,2BACNF,KAAM,cAAC,IAAD,OAMZ,CACET,MAAO,WACPS,KAAM,cAAC,IAAD,IACNG,WAAY,cAAC,IAAD,IACZC,WAAY,cAAC,IAAD,IACZH,KAAM,CAAC,QAAS,OAAQ,MACxBI,OAAQ,CACN,CACEd,MAAO,8BACPW,KAAM,4BACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAET,CACEf,MAAO,qBACPW,KAAM,2BACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAET,CACEf,MAAO,8BACPW,KAAM,gCACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAET,CACEf,MAAO,gCACPW,KAAM,kCACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAET,CACEf,MAAO,uBACPW,KAAM,yBACNF,KAAM,cAAC,IAAD,IACNM,MAAO,aAMb,CACEf,MAAO,gBACPS,KAAM,cAAC,IAAD,IACNC,KAAM,CAAC,QAAS,MAChBE,WAAY,cAAC,IAAD,IACZC,WAAY,cAAC,IAAD,IAEZC,OAAQ,CACN,CACEd,MAAO,uBACPW,KAAM,iCACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAET,CACEf,MAAO,kBACPW,KAAM,8BACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAGT,CACEf,MAAO,oBACPW,KAAM,4BACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAGT,CACEf,MAAO,WACPW,KAAM,0BACNF,KAAM,cAAC,IAAD,IACNM,MAAO,aAYb,CACEf,MAAO,mBACPW,KAAM,sBACNF,KAAM,cAAC,IAAD,IACNC,KAAM,CAAC,QAAS,KAAM,SAIxB,CACEV,MAAO,qBACPS,KAAM,cAAC,IAAD,IACNG,WAAY,cAAC,IAAD,IACZC,WAAY,cAAC,IAAD,IACZH,KAAM,CAAC,QAAS,MAAO,MACvBI,OAAQ,CACN,CACEd,MAAO,kBACPW,KAAM,gCACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAET,CACEf,MAAO,2BACPW,KAAM,gCACNF,KAAM,cAAC,IAAD,IACNM,MAAO,aAMb,CACEf,MAAO,oBACPU,KAAM,CAAC,QAAS,MAAO,MACvBD,KAAM,cAAC,IAAD,IACNG,WAAY,cAAC,IAAD,IACZC,WAAY,cAAC,IAAD,IAEZC,OAAQ,CACN,CACEd,MAAO,iBACPW,KAAM,iCACNF,KAAM,cAAC,IAAD,IACNM,MAAO,aAMb,CACEf,MAAO,kBACPS,KAAM,cAAC,IAAD,IACNC,KAAM,CAAC,OAAQ,OAAQ,OACvBE,WAAY,cAAC,IAAD,IACZC,WAAY,cAAC,IAAD,IAEZC,OAAQ,CACN,CACEd,MAAO,UACPW,KAAM,+BACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAET,CACEf,MAAO,gBACPW,KAAM,8BACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAET,CACEf,MAAO,4BACPW,KAAM,gCACNF,KAAM,cAAC,IAAD,IACNM,MAAO,aAMb,CACEf,MAAO,kBACPS,KAAM,cAAC,IAAD,IACNC,KAAM,CAAC,QAAS,MAChBE,WAAY,cAAC,IAAD,IACZC,WAAY,cAAC,IAAD,IAEZC,OAAQ,CACN,CACEd,MAAO,2BACPW,KAAM,gCACNF,KAAM,cAAC,IAAD,IACNM,MAAO,WAET,CACEf,MAAO,uBACPW,KAAM,mCACNF,KAAM,cAAC,IAAD,IACNM,MAAO,aAMb,CACEf,MAAO,kCACPW,KAAM,GACNF,KAAM,cAAC,IAAD,IACNC,KAAM,CAAC,QAAS,QCjOdM,EAAcC,IAAOC,IAAV,0XAoBXC,EAAeF,IAAOG,KAAV,kDAIZC,EAAeJ,YAAOK,IAAPL,CAAH,0TAwEHM,EAtDC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,QAASrC,EAAa,EAAbA,OAAa,EACjBhB,oBAAS,GADQ,mBACtCsD,EADsC,KAC9BC,EAD8B,KAGzCC,EAAKC,cACT,OACE,qCACE,eAACb,EAAD,CAIET,QAAS,SAACJ,GACJqB,EAAKV,OATQa,GAAWD,IAY1BE,EAAGE,KAAKN,EAAKb,MACTvB,GACFqC,MAVR,UAeE,gCACGD,EAAKf,KACN,cAACU,EAAD,UAAeK,EAAKxB,WAEtB,8BACGwB,EAAKV,QAAUY,EACZF,EAAKX,WACLW,EAAKV,OACLU,EAAKZ,WACL,UAGPc,GACCF,EAAKV,OAAOiB,KAAI,SAACP,EAAMQ,GACrB,OACE,eAACX,EAAD,CACEY,GAAIT,EAAKb,KAETJ,QAAS,WACHnB,GACFqC,KALN,UASGD,EAAKf,KACN,cAACU,EAAD,UAAeK,EAAKxB,UARfgC,U,iBClFNE,GAAiBC,0BACjBC,GAAyB,SAACC,GAAU,MAEfjE,mBACc,OAA5ClB,OAAOC,aAAaC,QAAQ,YACxB,QACAF,OAAOC,aAAaC,QAAQ,aALa,mBAExCkF,EAFwC,KAE9BC,EAF8B,OAQTnE,mBACpClB,OAAOC,aAAaC,QAAQ,cATiB,mBAQxCoF,EARwC,KAQ3BC,EAR2B,OAYDrE,mBAC5ClB,OAAOC,aAAaC,QAAQ,qBAbiB,mBAYxCsF,EAZwC,KAYvBC,EAZuB,OAgBfvE,mBACrBlB,OAAOC,aAAaC,QAAQ,cAjBQ,mBAgBxCwF,EAhBwC,KAgB9BC,EAhB8B,OAoBVzE,mBACnClB,OAAOC,aAAaC,QAAQ,aArBiB,mBAoBxC0F,EApBwC,KAoB5BC,EApB4B,OAwBnB3E,mBAASlB,OAAOC,aAAaC,QAAQ,YAxBlB,mBAwBxC4F,EAxBwC,KAwBhCC,EAxBgC,OA2BL7E,mBAAS,IA3BJ,mBA2BxC8E,EA3BwC,KA2BzBC,EA3ByB,OAgCS/E,mBAAS,IAhClB,mBAgCxCgF,EAhCwC,KAgClBC,EAhCkB,OAoCXjF,mBAAS,IApCE,mBAoCxCkF,EApCwC,KAoC5BC,EApC4B,OAyCiBnF,mBAAS,IAzC1B,mBAyCxCoF,EAzCwC,KAyCdC,EAzCc,OA6CjBrF,mBAAS,IA7CQ,mBA6CxCsF,EA7CwC,KA6C/BC,EA7C+B,OAkDWvF,mBAAS,IAlDpB,mBAkDxCwF,EAlDwC,KAkDjBC,EAlDiB,OAqDfzF,mBAAS,IArDM,mBAqDxC0F,GArDwC,KAqD9BC,GArD8B,QA0Da3F,mBAAS,IA1DtB,qBA0DxC4F,GA1DwC,MA0DhBC,GA1DgB,SA6Df7F,mBAAS,IA7DM,qBA6DxC8F,GA7DwC,MA6D9BC,GA7D8B,SAiEjB/F,mBAAS,IAjEQ,qBAiExCgG,GAjEwC,MAiE/BC,GAjE+B,SAmEajG,mBAAS,IAnEtB,qBAmExCkG,GAnEwC,MAmEhBC,GAnEgB,SAsEXnG,mBAAS,IAtEE,qBAsExCoG,GAtEwC,MAsE5BC,GAtE4B,SA0EGrG,mBAAS,IA1EZ,qBA0ExCsG,GA1EwC,MA0ErBC,GA1EqB,SA8EPvG,mBAAS,IA9EF,qBA8ExCwG,GA9EwC,MA8E1BC,GA9E0B,SA+EiBzG,mBAAS,IA/E1B,qBA+ExC0G,GA/EwC,MA+EdC,GA/Ec,SAkFX3G,mBAAS,IAlFE,qBAkFxC4G,GAlFwC,MAkF5BC,GAlF4B,SAsFG7G,mBAAS,IAtFZ,qBAsFxC8G,GAtFwC,MAsFrBC,GAtFqB,SA0FP/G,mBAAS,IA1FF,qBA0FxCgH,GA1FwC,MA0F1BC,GA1F0B,SA2FiBjH,mBAAS,IA3F1B,qBA2FxCkH,GA3FwC,MA2FdC,GA3Fc,SA8FrBnH,mBAAS,IA9FY,qBA8FxCoH,GA9FwC,MA8FjCC,GA9FiC,SAmGOrH,mBAAS,IAnGhB,qBAmGxCsH,GAnGwC,MAmGnBC,GAnGmB,SAuGrBvH,mBAAS,IAvGY,qBAuGxCwH,GAvGwC,MAuGjCC,GAvGiC,SA4GOzH,mBAAS,IA5GhB,qBA4GxC0H,GA5GwC,MA4GnBC,GA5GmB,SA+GvB3H,mBAAS,IA/Gc,qBA+GxC4H,GA/GwC,MA+GlCC,GA/GkC,SAgHiB7H,mBAAS,IAhH1B,qBAgHxC8H,GAhHwC,MAgHdC,GAhHc,SAiHX/H,mBAAS,IAjHE,qBAiHxCgI,GAjHwC,MAiH5BC,GAjH4B,SAoHXjI,mBAAS,IApHE,qBAoHxCkI,GApHwC,MAoH5BC,GApH4B,SA0HfnI,mBAAS,IA1HM,qBA0HxCoI,GA1HwC,MA0H9BC,GA1H8B,SAgIarI,mBAAS,MAhItB,qBAgIxCsI,GAhIwC,MAgIhBC,GAhIgB,SAmIKvI,mBAAS,IAnId,qBAmIxCwI,GAnIwC,MAmIpBC,GAnIoB,SAoICzI,mBAAS,IApIV,qBAoIxC0I,GApIwC,MAoItBC,GApIsB,SAuIiB3I,mBAAS,IAvI1B,qBAuIxC4I,GAvIwC,MAuIdC,GAvIc,SA0If7I,mBAAS,IA1IM,qBA0IxC8I,GA1IwC,MA0I9BC,GA1I8B,SA6IX/I,mBAAS,IA7IE,qBA6IxCgJ,GA7IwC,MA6I5BC,GA7I4B,MA8I/C,OACE,cAACnF,GAAeoF,SAAhB,CACErH,MAAO,CAELqC,WACAC,cACAC,cACAC,iBACAC,kBACAC,qBACAC,WACAC,cACAG,SACAC,YACAH,aACAC,iBAGAG,gBACAC,mBACAoE,cAtIgB,SAACC,GACrBrE,EAAiB,GAAD,oBAAKD,GAAL,CAAoBsE,MAsIhCpE,uBACAC,0BAGAC,aACAmE,aAnIe,SAACC,GACpBnE,EAAc,GAAD,oBAAKD,GAAL,CAAiBoE,MAmI1BnE,gBACAC,2BACAC,8BAGAC,UACAiE,UAjIY,SAACC,GACjBjE,EAAW,GAAD,oBAAKD,GAAL,CAAckE,MAiIpBjE,aACAC,wBACAC,2BAGAC,YACAC,eACA8D,WAjIa,SAACC,GAClB/D,GAAY,GAAD,oBAAKD,IAAL,CAAegE,MAiItB9D,0BACAC,6BAGAC,YACA6D,WA/Ha,SAACC,GAClB7D,GAAY,GAAD,oBAAKD,IAAL,CAAe8D,MA+HtB7D,eACAG,0BACAC,6BACAH,WACAC,cAGAS,4BACAC,+BACAP,cACAC,iBACAwD,aAlIe,SAACC,GACpBzD,GAAc,GAAD,oBAAKD,IAAL,CAAiB0D,MAkI1BxD,qBACAC,wBACAwD,oBAjIsB,SAACC,GAC3BzD,GAAqB,GAAD,oBAAKD,IAAL,CAAwB0D,MAiIxCxD,gBACAC,mBAGAa,uBACAC,0BACAH,SACAC,YACA4C,QAtHU,SAACC,GACf7C,GAAS,GAAD,oBAAKD,IAAL,CAAY8C,MAwHhBxC,uBACAC,0BACAH,SACAC,YACA0C,QApHU,SAACC,GACf3C,GAAS,GAAD,oBAAKD,IAAL,CAAY4C,MAsHhBxD,cACAC,iBACAwD,aA9Ie,SAACC,GACpBzD,GAAc,GAAD,oBAAKD,IAAL,CAAiB0D,MA8I1BxD,qBACAC,wBACAwD,oBA7IsB,SAACC,GAC3BzD,GAAqB,GAAD,oBAAKD,IAAL,CAAwB0D,MA6IxCtD,4BACAC,+BACAH,gBACAC,mBAGAW,QACAC,WACAC,4BACAC,+BACAC,cACAC,iBAGAC,cACAC,iBACAsC,SAhIW,SAACC,GAChBvC,GAAc,GAAD,oBAAKD,IAAL,CAAiBwC,MAkI1BtC,YACAC,eACAsC,WA/Ha,SAACC,GAClBvC,GAAY,GAAD,oBAAKD,IAAL,CAAewC,MAiItBtC,0BACAC,6BAEAC,sBACAC,yBACAC,oBACAC,uBAGAG,YACAC,eAGAH,4BACAC,+BAGAG,cACAC,kBAhIJ,SAmIGhF,EAAM4G,YC1QPC,GAAmBjI,IAAOC,IAAV,gFAMhBiI,GAAMlI,IAAOC,IAAV,0IAQHkI,GAAUnI,YAAOK,IAAPL,CAAH,iKASPoI,GAAapI,IAAOqI,IAAV,wiBAQN,qBAAG7H,QAAyB,IAAM,WAqBtC8H,GAActI,IAAOC,IAAV,4CAIXsI,GAAQvI,IAAOC,IAAV,kIAQLuI,GAAgBxI,IAAOC,IAAV,wIAQbwI,GAAUzI,IAAOC,IAAV,8GAOPyI,GAAS1I,IAAO2I,IAAV,8GAONC,GAAS5I,IAAOG,KAAV,+EAMN0I,GAAkB7I,IAAOG,KAAV,iDAoGN2I,GAhGC,WACd,IAAIC,EAAUnI,cADM,EAEUzD,oBAAS,GAFnB,mBAEbqD,EAFa,KAEJwI,EAFI,KAGdC,EAAWhN,OAAOC,aAAaC,QAAQ,aACvC+M,EAAc,kBAAMF,GAAYxI,IAJlB,EAMoB2I,qBAAWlI,IAA3CQ,EANY,EAMZA,gBAAiBI,EANL,EAMKA,WAmBzB,OACE,cAACoG,GAAD,UACE,eAAC,KAAY5B,SAAb,CAAsBrH,MAAO,CAAEoK,MAAO,QAAtC,UACE,eAAClB,GAAD,WACE,cAACC,GAAD,CAASnH,GAAG,IAAZ,SACE,cAAC,IAAD,CACE1B,QAAS,WACP4J,SAIN,eAACV,GAAD,WACE,cAACD,GAAD,CAAOjJ,QA7BI,WACnByJ,EAAQlI,KAAK,KACTL,GAAS0I,KA2BL,+CACA,eAACT,GAAD,WACE,cAACC,GAAD,CACEpJ,QAAS,WACU,UAAb2J,GAAqC,OAAbA,GAC1BF,EAAQlI,KAAK,iCAGjBwI,IAAKxH,EACLyH,IAAI,WAEN,cAACT,GAAD,CACEvJ,QAAS,WACU,UAAb2J,GAAqC,OAAbA,GAC1BF,EAAQlI,KAAK,iCAHnB,SAOGY,IAjBL,OAoBE,cAACmH,GAAD,CAAQtJ,QA7CC,WACnB3D,EAAW,CACTW,MAAO,2BACPI,QAAS,GACTE,QAAS,GACTE,IAAK,4BAEPb,OAAOC,aAAakC,QAAQ,YAAY,GACxC2K,EAAQlI,KAAK,KACb5E,OAAOsC,SAASC,UAoCN,iDAKN,cAAC4J,GAAD,CAAY5H,QAASA,EAArB,SACE,eAAC8H,GAAD,WACE,cAACH,GAAD,CAASnH,GAAG,IAAZ,SACE,cAAC,IAAD,CAAwB1B,QAAS4J,MAElC3J,EAAYuB,KAAI,SAACP,EAAMQ,GACtB,OAAOR,EAAKd,KAAK8J,SAASN,GACxB,qBACE3J,QAAS,iBACQ,oCAAfiB,EAAKxB,MACA9C,OAAOsC,SAASiL,KACf,gDACF,IALR,SAQE,cAAC,EAAD,CACEhJ,QAAS0I,EACT/K,OAAQqC,EACRD,KAAMA,GACDQ,KAIT,uBAAUA,iBC9LXvF,OAAMC,OAAO,CAC1BC,QAASH,EAAS,sBCgFLkO,GA/EO,SAAC,GAAa,IAAXrM,EAAU,EAAVA,IACnBuD,EAAKC,cACDwB,EAA4B+G,qBAAWlI,IAAvCmB,wBACFsH,EAAa,uCAAG,4BAAA7N,EAAA,+EAEA8N,GAAeC,IAAI,wBAAyB,CAC5DxM,IAAKA,IAHW,OAEZa,EAFY,OAMlBmE,EAAwB,8DACxBxE,YAAW,WACTwE,EAAwB,MACvB,KAEHzG,EAAW,CACTW,MAAO,2BACPI,QAAS,CAAEmN,SAAUzM,GACrBR,QAAS,CAAEiN,SAAUzM,GACrBN,IAAK,4BAGP6D,EAAGE,KAAK,YACRF,EAAGE,KAAK,4BACR9D,QAAQC,IAAIiB,GApBM,kDAsBlBlB,QAAQC,IAAI,KAAIC,SAtBE,0DAAH,qDAyBnB,OACE,gCACE,mBACEyB,UAAU,8BACVoL,cAAY,QACZC,cAAA,aAAmB3M,EAAnB,WAHF,wBAQA,qBAAKsB,UAAU,aAAaI,GAAE,YAAO1B,EAAP,WAA9B,SACE,qBAAKsB,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,oBAAGA,UAAU,YAAb,oFACoC,IAClC,uBAAMA,UAAU,mBAAhB,cAAqCtB,EAArC,OAFF,mBAMF,sBAAKsB,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,wCACVsL,eAAa,QACb1K,QAASoK,EAJX,mBAQA,wBACE9K,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCC8DCC,GA7Hc,SAAC,GAAmB,IAAjB1D,EAAgB,EAAhBA,UAC1B5F,EAAKC,cACHsJ,EAAM,CACV9M,IAAKmJ,EAAUnJ,IACf+M,YAAa5D,EAAU4D,YACvB/N,OAAQmK,EAAUnK,QAL0B,EAOpBe,mBAASoJ,EAAU4D,aAPC,mBAOvCC,EAPuC,KAOhCC,EAPgC,OAQlBlN,mBAASoJ,EAAUnK,QARD,mBAQvCA,EARuC,KAQ/BkO,EAR+B,KAUtClI,EAA4B+G,qBAAWlI,IAAvCmB,wBACFmI,EAAY,uCAAG,WAAOrL,GAAP,iBAAArD,EAAA,+EAEC8N,GAAeC,IAAI,iCAAkC,CACrExM,IAAKmJ,EAAUnJ,IACfoN,MAAOJ,EACPhO,OAAQA,IALO,QAEX6B,EAFW,QAOTC,KAAKC,SACLsM,EAAO,CACXrN,IAAKmJ,EAAUnJ,IACf+M,YAAaC,EACbhO,OAAQA,GAENI,KAAKC,UAAUgO,KAAUjO,KAAKC,UAAUyN,IAC1CvO,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CACP8N,IAAKD,GAEP3N,IAAK,4BAITsF,EAAwBnE,EAAIC,KAAKC,QACjCP,YAAW,WACTwE,EAAwB,MACvB,MACHzB,EAAGE,KAAK,YACRF,EAAGE,KAAK,6BA7BO,gDAgCjB9D,QAAQC,IAAI,KAAIC,SAhCC,yDAAH,sDAwClB,OACE,gCACE,mBACEyB,UAAU,8BACVoL,cAAY,QACZC,cAAA,aAAmBxD,EAAUnJ,KAC7BkC,QAVU,WACd+K,EAAS9D,EAAU4D,aACnBG,EAAU/D,EAAUnK,SAIlB,0BAQA,qBAAKsC,UAAU,SAASI,GAAE,YAAOyH,EAAUnJ,KAA3C,SACE,qBAAKsB,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,2DACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,sBAAKtL,UAAU,uBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,uBAAOiM,QAAO,sBAAiBpE,EAAUnJ,KAAzC,uCAGA,uBACEwB,KAAK,OACLE,GAAE,sBAAiByH,EAAUnJ,KAC7BsB,UAAU,eACVO,SAAU,SAACC,GAAD,OAAOmL,EAASnL,EAAEC,OAAOH,QACnCA,MAAOoL,OAIX,sBAAK1L,UAAU,kBAAf,UACE,uBAAOiM,QAAO,iBAAYpE,EAAUnJ,KAApC,wBACA,yBACEsB,UAAU,eACVI,GAAE,iBAAYyH,EAAUnJ,KACxB6B,SAAU,SAACC,GAAD,OAAOoL,EAAUpL,EAAEC,OAAOH,QACpCA,MAAO5C,EAJT,UAME,wBAAQ4C,MAAM,OAAd,4CACA,wBAAQA,MAAM,KAAd,6CACA,wBAAQA,MAAM,MAAd,qCACA,wBAAQA,MAAM,OAAd,wDAKN,sBAAKN,UAAU,uCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,qCACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAOqL,EAAarL,IAJ/B,sBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,wCCzCCY,GAvEkB,SAAC,GAAwB,IAE/BC,EAFSC,EAAqB,EAArBA,UAAW1N,EAAU,EAAVA,IAAU,EACrBD,mBAAS2N,GADY,mBAChDC,EADgD,KACrCC,EADqC,KAUjDC,EAAkB,uCAAG,WAAO/L,EAAGgM,GAAV,SAAArP,EAAA,6DACzBqD,EAAEiM,kBADuB,kBAGjBxB,GAAeC,IAAI,kCAAmC,CAC1DxM,IAAK8N,EACLJ,WAAYC,IALS,OASrBpP,EADEoP,EACS,CACTzO,MAAO,wCACPI,QAAS,CACPwN,IAAK,CACH9M,IAAK8N,EACLJ,UAAW,aAGflO,QAAS,CACP8N,IAAK,CACHtN,IAAK8N,EACLJ,UAAW,aAGfhO,IAAK,2BAGI,CACTR,MAAO,wCACPI,QAAS,CACPwN,IAAK,CACH9M,IAAK8N,EACLJ,UAAW,aAGflO,QAAS,CACP8N,IAAK,CACHtN,IAAK8N,EACLJ,UAAW,aAGfhO,IAAK,4BAGTkO,GAAcD,GA3CS,gDA6CvBhO,QAAQC,IAAI,KAAIC,SA7CO,yDAAH,wDAgDxB,OACE,8BACE,qBACEqC,QAAS,SAACJ,GACR+L,EAAmB/L,EAAG9B,IAF1B,UA1DqByN,EA+DFE,EA9DjBF,EACK,mBAAGnM,UAAU,mCAEb,mBAAGA,UAAU,4BCqBX0M,GA1BU,WAAO,IACtBlJ,EAAqBiH,qBAAWlI,IAAhCiB,iBADqB,EAEL/E,mBAAS,IAFJ,mBAEtBkO,EAFsB,KAEhBC,EAFgB,KAI7B,OACE,8BACE,qBAAK5M,UAAU,aAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACVM,MAAOqM,EACPpM,SAAQ,uCAAE,WAAOC,GAAP,eAAArD,EAAA,6DACRyP,EAAQpM,EAAEC,OAAOH,OADT,SAGU2K,GAAe4B,IAAf,kCACWrM,EAAEC,OAAOH,MADpB,QAHV,OAGFf,EAHE,OAMRiE,EAAiBjE,EAAIC,KAAKA,KAAKqI,WANvB,2CAAF,sDAQR1H,YAAY,4FC4JP2M,GA3KU,WAAO,IAAD,EAE3BrC,qBAAWlI,IADLgB,EADqB,EACrBA,cAAeC,EADM,EACNA,iBAAkBC,EADZ,EACYA,qBAGzCsJ,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI8N,GAAe4B,IAAI,yBAFvB,OAERtN,EAFQ,OAGdiE,EAAiBjE,EAAIC,KAAKA,KAAKqI,WAHjB,gDAKdxJ,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAACxJ,IAEJ,IAAMyJ,EAAkB,SAACC,GACvB,IAAIC,EACJ,OAAQD,EAAK,IACX,IAAK,OACHC,EAAS,CACPC,WAAY,UACZC,aAAc,sBAEhB,MACF,IAAK,KACHF,EAAS,CACPC,WAAY,UACZC,aAAc,sBAEhB,MACF,IAAK,MACHF,EAAS,CACPC,WAAY,UACZC,aAAc,sBAEhB,MACF,IAAK,KACHF,EAAS,CACPC,WAAY,UACZC,aAAc,sBAEhB,MACF,IAAK,OACHF,EAAS,CACPC,WAAY,UACZC,aAAc,sBAMpB,OAAOF,GAET,OACE,sBAAKnN,UAAU,aAAf,UACE,cAAC,GAAD,IACA,mBAAGA,UAAU,2BAAb,SACE,4BAAIyD,MAGN,wBACEzD,UAAU,qBACVsN,MAAO,CAAEC,OAAQ,oBAAqB7C,MAAO,SAF/C,UAIE,uBAAO1K,UAAU,yBAAjB,SACE,+BACE,oBAAIsN,MAAO,CAAEE,YAAa,qBAA1B,4CACA,oBAAIF,MAAO,CAAEE,YAAa,qBAA1B,uCACA,oBAAIF,MAAO,CAAEE,YAAa,qBAA1B,gCACA,oBAAIF,MAAO,CAAEE,YAAa,qBAA1B,wBACA,oBAAIF,MAAO,CAAEE,YAAa,qBAA1B,sBAEA,4CAGJ,uBAAOxN,UAAU,cAAjB,SACGuD,EAAcnB,KAAI,SAACyF,GAClB,OACE,qBAAwByF,MAAOL,EAAgBpF,EAAUnK,QAAzD,UACE,oBAAI4P,MAAO,CAAEE,YAAa,uBAA1B,SACG3F,EAAUnJ,MAGb,oBAAI4O,MAAO,CAAEE,YAAa,uBAA1B,SACG3F,EAAU4D,cAEb,oBAAI6B,MAAO,CAAEE,YAAa,uBAA1B,SACE,cAAC,GAAD,CACE9O,IAAKmJ,EAAUnJ,IACf0N,UAAWvE,EAAUuE,cAGzB,oBAAIkB,MAAO,CAAEE,YAAa,uBAA1B,SACwB,OAArB3F,EAAUnK,OACP,kBACqB,OAArBmK,EAAUnK,OACV,mBACqB,SAArBmK,EAAUnK,OACV,iCACqB,QAArBmK,EAAUnK,OACV,sBACqB,SAArBmK,EAAUnK,OACV,oCACA,KAEN,oBACE4P,MAAO,CACLG,OAAQ,UACRD,YAAa,uBAHjB,SAMwB,OAArB3F,EAAUnK,OACT,GAEA,cAAC,GAAD,CAAsBmK,UAAWA,MAMrC,oBACEyF,MAAO,CACLG,OAAQ,UACRD,YAAa,uBAHjB,SAME,cAAC,GAAD,CAAe9O,IAAKmJ,EAAUnJ,UAhDzBmJ,EAAUnJ,iBC1ElBgP,GAVM,WACnB,OACE,sBAAK1N,UAAU,OAAf,UACE,oBAAIA,UAAU,kCAAd,+CAEA,cAAC,GAAD,QCPSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,yBCiHL8Q,GAjHA,SAAC,GAAa,IAAXhF,EAAU,EAAVA,IAAU,EAExB8B,qBAAWlI,IADLyD,EADkB,EAClBA,uBAAwBH,EADN,EACMA,MAAOC,EADb,EACaA,SADb,EAGUrH,oBAAS,GAHnB,mBAGnBmP,EAHmB,KAGPC,EAHO,OAIUpP,oBAAS,GAJnB,mBAInBqP,EAJmB,KAIPC,EAJO,KAMpBC,EAAQ,uCAAG,sBAAA7Q,EAAA,+EAEQ8Q,GAAiBpB,IAAjB,yBAAuClE,EAAIvI,KAFnD,aAG6B,MAH7B,OAGFZ,KAAKA,KAAK0O,WAAWC,MAC9BN,GAAc,GAEdA,GAAc,GANH,SASUI,GAAiBpB,IAAjB,6BACClE,EAAIvI,KAVf,OAa+B,MAb/B,OAaAZ,KAAKA,KAAK0O,WAAWC,MAChCJ,GAAc,GAEdA,GAAc,GAhBH,kDAmBb1P,QAAQC,IAAI,KAAIC,SAnBH,0DAAH,qDAsBR6P,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,yDACnBqD,EAAEiM,mBACEmB,IAAcE,EAFC,0CAIGG,GAAiBI,OAAjB,eAAgC1F,EAAIvI,KAJvC,OAME,KANF,OAMPZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAK7C,GAChBzK,QAAS,GACTE,IAAK,yBAGP4H,EAAuB,2BACvB9G,YAAW,WACT8G,EAAuB,MACtB,KACHF,EACED,EAAMyI,QAAO,SAACC,GACZ,OAAOA,EAAMnO,KAAOuI,EAAIvI,QApBf,gDAyBf/B,QAAQC,IAAI,KAAIC,SAzBD,gCA4BjBiQ,MACE,0LA7Be,yDAAH,sDAiClB,OACE,gCACE,mBACExO,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmB1C,EAAIvI,GAAvB,OACAQ,QAASoN,EAJX,wBASA,qBAAKhO,UAAU,kBAAkBI,GAAE,YAAOuI,EAAIvI,GAAX,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,oBAAGA,UAAU,YAAb,8DAC0B,IACxB,uBAAMA,UAAU,mBAAhB,cAAqC2I,EAAIjK,IAAzC,OAFF,mBAMF,sBAAKsB,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCC3FCmD,GAXS,SAACC,GACvB,IAAMC,EAAQD,EAAIE,OAAOC,MAAM,OACzBC,EAAU,GAMhB,OALAH,EAAMI,SAAQ,SAACC,GACb,IAAMC,EAASD,EAAKE,OAAO,GAAGC,cAAgBH,EAAKI,MAAM,GAAGC,cAC5DP,EAAQ3M,KAAK8M,MAEJH,EAAQQ,KAAK,MCqJXC,GArJA,SAAC,GAAY,IAAVnP,EAAS,EAATA,GAAS,EACG3B,mBAAS,IADZ,mBAClB+Q,EADkB,KACVC,EADU,OAEGhR,mBAAS,IAFZ,mBAElBiR,EAFkB,KAEVC,EAFU,OAGHlR,mBAAS,IAHN,mBAGlBmR,EAHkB,KAGbC,EAHa,OAIHpR,mBAAS,IAJN,mBAIlB+M,EAJkB,KAIbsE,EAJa,KAKrB7N,EAAKC,cACD8D,EAA2ByE,qBAAWlI,IAAtCyD,uBAEF+J,EAAc,uCAAG,8BAAA5S,EAAA,+EAED8Q,GAAiBpB,IAAjB,qBAAmCzM,IAFlC,OAGK,QADlBb,EAFa,QAGXC,KAAKC,SACLuQ,EAAczQ,EAAIC,KAAKA,KAAK0O,WAClCuB,EAAUO,EAAYtR,KACtBiR,EAAUK,EAAYN,QACtBG,EAAOG,EAAYJ,KACnBE,EAAO,CACL1P,GAAI4P,EAAY5P,GAChB1B,IAAKsR,EAAYtR,IACjBgR,OAAQM,EAAYN,OACpBE,IAAKI,EAAYJ,OAZF,gDAgBnBvR,QAAQC,IAAI,KAAIC,SAhBG,yDAAH,qDAmBdsN,EAAY,uCAAG,WAAOrL,GAAP,eAAArD,EAAA,yDACnBqD,EAAEiM,oBAEE+C,GAAUE,GAAUE,GAAsB,KAAfA,EAAIvQ,QAAgC,KAAfuQ,EAAIvQ,QAHrC,0CAKG4O,GAAiB/C,IAAI,OAAQ,CAC7C9K,GAAIA,EACJ1B,IAAK+P,GAAgBe,GACrBE,OAAQA,EACRE,IAAKA,IATQ,OAWS,OAXT,OAWPpQ,KAAKC,SACLsM,EAAO,CACX3L,GAAIA,EACJ1B,IAAK+P,GAAgBe,GACrBE,OAAQjB,GAAgBiB,GACxBE,IAAKA,GAEH9R,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,yBAGT4H,EAAuB,8BACvB9G,YAAW,WACT8G,EAAuB,MACtB,MACH/D,EAAGE,KAAK,YACRF,EAAGE,KAAK,mCA/BK,gDAkCf9D,QAAQC,IAAR,MAlCe,yDAAH,sDAsClB,OACE,gCACE,mBACE0B,UAAU,yBACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,OACAQ,QAASmP,EAJX,0BASA,qBAAK/P,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,wDACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,sBAAKtL,UAAU,uBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,uBAAOiM,QAAO,mBAAc7L,GAAMJ,UAAU,YAA5C,yCAGA,uBACEE,KAAK,OACLE,GAAE,mBAAcA,GAChBJ,UAAU,eACVM,MAAOkP,EACPjP,SAAU,SAACC,GAAD,OAAOiP,EAAUjP,EAAEC,OAAOH,aAGxC,sBAAKN,UAAU,kBAAf,UACE,uBAAOiM,QAAO,gBAAW7L,GAAMJ,UAAU,YAAzC,+CAGA,uBACEE,KAAK,OACLF,UAAU,eACVI,GAAE,gBAAWA,GACbG,SAAU,SAACC,GAAD,OAAOqP,EAAOrP,EAAEC,OAAOH,QACjCA,MAAOsP,OAGX,sBAAK5P,UAAU,kBAAf,UACE,uBAAOiM,QAAO,mBAAc7L,GAAMJ,UAAU,YAA5C,oCAGA,0BACEA,UAAU,eACVI,GAAE,mBAAcA,GAChB6P,KAAK,IACL3P,MAAOoP,EACPnP,SAAU,SAACC,GAAD,OAAOmP,EAAUnP,EAAEC,OAAOH,gBAK1C,sBAAKN,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,0CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAOqL,EAAarL,IAJ/B,sBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,wCCvEC4E,GAhEK,WAAO,IAAD,EACyBzF,qBAAWlI,IAApDsD,EADgB,EAChBA,MAAOC,EADS,EACTA,SAAUC,EADD,EACCA,oBAgBzB,OAdAgH,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI8Q,GAAiBpB,IAAI,2BAFzB,OAGU,QADlBtN,EAFQ,QAGNC,KAAKC,QACXqG,EAASvG,EAAIC,KAAKA,KAAK0O,YAJX,gDAOd7P,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,KACC,CAAClH,IAGF,gCACG,IACD,sBAAK9F,UAAU,YAAf,UACE,mBAAGA,UAAU,2BAAb,SAAyC+F,IACzC,wBAAO/F,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,4DACA,6DACA,wDACA,mEACA,0CACA,6CAGJ,gCACG6F,EAAMzD,KAAI,SAACuG,GACV,OACE,qBAAiB3I,UAAU,cAA3B,UACE,oBAAIA,UAAU,eAAd,SAA8B2I,EAAIvI,KAClC,oBAAIJ,UAAU,eAAd,SAA8B2I,EAAIjK,MAClC,oBAAIsB,UAAU,eAAd,SAA8B2I,EAAI+G,SAClC,oBAAI1P,UAAU,eAAd,SAA8B2I,EAAIiH,MAElC,oBACE5P,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIE,cAAC,GAAD,CAAQrN,GAAIuI,EAAIvI,OAElB,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIE,cAAC,GAAD,CAAQ9E,IAAKA,QAhBRA,EAAIvI,mBCqGd+P,GA1IC,WAAO,IAAD,EACQ1R,mBAAS,IADjB,mBACb+Q,EADa,KACLC,EADK,OAEQhR,mBAAS,IAFjB,mBAEbiR,EAFa,KAELC,EAFK,OAGElR,mBAAS,IAHX,mBAGbmR,EAHa,KAGRC,EAHQ,OAIYpR,mBAAS,IAJrB,mBAIb2R,EAJa,KAIHC,EAJG,OAMwB5F,qBAAWlI,IAA/CmG,EANY,EAMZA,QAAS1C,EANG,EAMHA,uBACXhH,EAAY,uCAAG,4BAAA7B,EAAA,yDACdqS,EADc,gBAEjBa,EAAY,qFACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPT,EANO,iBAOjBS,EAAY,2FACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,6BAWRT,EAAIvQ,OAAS,IAAMuQ,EAAIvQ,OAAS,IAXxB,iBAYjBgR,EAAY,gEACZnR,YAAW,WACTmR,EAAY,MACX,KAfc,2BAgBPX,EAhBO,iBAiBjBW,EAAY,gFACZnR,YAAW,WACTmR,EAAY,MACX,KApBc,mDAuBGpC,GAAiB5Q,KAAK,QAAS,CAC/CqB,IAAK+P,GAAgBe,GACrBE,OAAQjB,GAAgBiB,GACxBE,IAAKA,IA1BQ,QA4BS,QALlBrQ,EAvBS,QA4BPC,KAAKC,SACXxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK0O,YAC9B9P,IAAK,yBAEPsK,EAAQnJ,EAAIC,KAAKA,KAAK0O,YACtBlI,EAAuB,6BACvB9G,YAAW,WACT8G,EAAuB,MACtB,MACH2J,EAAU,IACVE,EAAO,IACPJ,EAAU,KA1CG,mDA6CfpR,QAAQC,IAAR,MA7Ce,2DAAH,qDAiDlB,OACE,8BACE,qBAAK0B,UAAU,aAAf,SACE,qBAAKI,GAAG,iBAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,iBAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,sBACZiF,gBAAc,QACdC,gBAAc,qBACdjD,MAAO,CAAEG,OAAQ,WANnB,8CAYJ,qBACErN,GAAG,qBACHJ,UAAU,WACVwQ,kBAAgB,iBAChBC,cAAY,kBAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,yCACA,uBACE/L,KAAK,OACLE,GAAG,SACHJ,UAAU,eACVM,MAAOkP,EACPjP,SAAU,SAACC,GAAD,OAAOiP,EAAUjP,EAAEC,OAAOH,eAI1C,qBAAKN,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,MAAf,+CACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,MACHG,SAAU,SAACC,GAAD,OAAOqP,EAAOrP,EAAEC,OAAOH,QACjCA,MAAOsP,YAMf,sBAAK5P,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,oCACA,0BACEjM,UAAU,eACVI,GAAG,SACH6P,KAAK,IACL3P,MAAOoP,EACPnP,SAAU,SAACC,GAAD,OAAOmP,EAAUnP,EAAEC,OAAOH,aAGxC,wBACEJ,KAAK,SACLF,UAAU,4BACVY,QAAS5B,EAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCoQ,qBCtHpCO,GAVQ,WACrB,OACE,sBAAK3Q,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,kDACA,cAAC,GAAD,IACA,cAAC,GAAD,QCNSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,sB,QCgIL+T,GA9HU,SAAC,GAAuB,IAArBxQ,EAAoB,EAApBA,GAAIyQ,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,GACjC7O,EAAKC,cACD4B,EAAgC2G,qBAAWlI,IAA3CuB,4BAFsC,EAGpBrF,oBAAS,GAHW,mBAGvCsS,EAHuC,KAGhCC,EAHgC,OAItBvS,oBAAS,GAJa,mBAIvCwS,EAJuC,KAIjCC,EAJiC,KAKxC9C,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,yDACnBqD,EAAEiM,kBACGsE,EAFc,gBAGjBjN,EACE,0KAEF5E,YAAW,WACT4E,EAA4B,MAC3B,KARc,0BASPmN,EATO,iBAUjBnN,EACE,oHAEF5E,YAAW,WACT4E,EAA4B,MAC3B,KAfc,mDAkBGqN,GAAe9C,OAAf,yBAAwCjO,IAlB3C,QAoBE,KApBF,OAoBPZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAKsF,GAChB5S,QAAS,GACTE,IAAK,oBAEP0F,EAA4B,2BAC5B5E,YAAW,WACT4E,EAA4B,MAC3B,KACH7B,EAAGE,KAAK,qBACRF,EAAGE,KAAK,gCAhCK,mDAmCf9D,QAAQC,IAAI,KAAIC,SAnCD,2DAAH,sDAuCZ6S,EAAW,uCAAG,sBAAAjU,EAAA,+EAEKgU,GAAetE,IAAf,yBAAqCzM,IAF1C,aAIwB,MAJxB,OAILZ,KAAKA,KAAKuI,SAASoG,MAC5B6C,GAAS,GAETA,GAAS,GAPK,SAUKG,GAAetE,IAAf,2BAAuCgE,IAV5C,aAYwB,MAZxB,OAYLrR,KAAKA,KAAKuI,SAASoG,MAC5B6C,GAAS,GAETA,GAAS,GAfK,UAkBQG,GAAetE,IAAf,8BAA0CzM,IAlBlD,QAoB2B,MApB3B,OAoBFZ,KAAKA,KAAKuI,SAASoG,MAC/B+C,GAAQ,GAERA,GAAQ,GAvBM,kDA0BhB7S,QAAQC,IAAI,KAAIC,SA1BA,0DAAH,qDA8BjB,OACE,gCACE,mBACEyB,UAAU,2BACVY,QAASwQ,EACThG,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,OAJF,wBASA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,oBAAGA,UAAU,YAAb,8DAC0B,IACxB,uBAAMA,UAAU,mBAAhB,cAAqC6Q,EAArC,OAFF,mBAMF,sBAAK7Q,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCmBC+F,GAhIU,WACvB,IAAIpP,EAAKC,cACHqI,EAAWhN,OAAOC,aAAaC,QAAQ,aACrCoG,EAA6B4G,qBAAWlI,IAAxCsB,yBAHqB,EAKOpF,mBAAS,IALhB,mBAKtBkF,EALsB,KAKVC,EALU,KAM7BmJ,qBAAU,YACO,uCAAG,8BAAA5P,EAAA,kEAEG,OAAboN,EAFU,gCAGM4G,GAAetE,IAAI,+BAHzB,OAGNtN,EAHM,OAKZqE,EAAcrE,EAAIC,KAAKA,KAAKuI,UALhB,wCAOMoJ,GAAetE,IAAI,wBAPzB,QAONtN,EAPM,OASZqE,EAAcrE,EAAIC,KAAKA,KAAKuI,UAThB,0DAYd1J,QAAQC,IAAI,KAAIC,SAZF,0DAAH,qDAgBfyO,KACC,CAACzC,IAYJ,OACE,sBAAKvK,UAAU,aAAf,UACE,qBAAKA,UAAU,SACf,mBAAGA,UAAU,2BAAb,SAAyC6D,IACzC,wBAAO7D,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,0CACA,wDACA,uDACA,qCACA,mDACA,mDACA,qCACA,0CACA,6CAGJ,uBAAOA,UAAU,cAAjB,SACG2D,EAAWvB,KAAI,SAAC2F,GACf,OACE,+BACE,6BAAKA,EAASuJ,eACd,6BAAKvJ,EAASwJ,OACd,6BAAKC,yBAAczJ,EAAS0J,cAE5B,6BAAK1J,EAAS6H,MACd,6BACwB,OAArB7H,EAAS2J,QAAmB,4BAAc3J,EAAS2J,UAEtD,6BACuB,OAApB3J,EAASrK,OACN,kBACoB,SAApBqK,EAASrK,OACT,iCACoB,QAApBqK,EAASrK,OACT,sBACoB,SAApBqK,EAASrK,OACT,oCACA,KAEN,oBAAI4P,MAAO,CAAEG,OAAQ,WAArB,SACwB,OAArB1F,EAAS2J,QACR,GAEA,mBACE1R,UAAU,0BACVY,QAAS,SAACJ,GAAD,OAzDE,SAACA,EAAGJ,GACjCI,EAAEiM,kBACFxK,EAAGE,KAAH,sCAAuC/B,IAuDLuR,CAAuBnR,EAAGuH,EAAS3H,KAFrD,uBAQJ,oBAAIkN,MAAO,CAAEG,OAAQ,WAArB,SACwB,OAArB1F,EAAS2J,QACR,GAEA,mBACE1R,UAAU,iCACVY,QAAS,SAACJ,GAAD,OAhER,SAACA,EAAGJ,GACvBI,EAAEiM,kBACFxK,EAAGE,KAAH,sCAAuC/B,EAAvC,SA8DkCyL,CAAarL,EAAGuH,EAAS3H,KAF3C,4BASJ,oBAAIkN,MAAO,CAAEG,OAAQ,WAArB,SACE,cAAC,GAAD,CACErN,GAAI2H,EAAS3H,GACbyQ,MAAO9I,EAASwJ,KAChBT,GAAI/I,QAjDDA,EAAS3H,gB,qBC0TjBwR,GAzWM,WAAO,IAAD,EACCnT,mBAAS,IADV,mBAClBoS,EADkB,KACXgB,EADW,OAEOpT,mBAAS,KAFhB,mBAElBqT,EAFkB,KAERC,EAFQ,OAGOtT,mBAAS,IAHhB,mBAGlBuT,EAHkB,KAGRC,EAHQ,OAIGxT,mBAAS,IAJZ,mBAIlBiR,EAJkB,KAIVC,EAJU,OAKDlR,mBAAS,IALR,mBAKlByT,EALkB,KAKZC,EALY,OAMH1T,mBAAS,IANN,mBAMlBmR,EANkB,KAMbC,EANa,OAOCpR,mBAAS,IAPV,mBAOlB2T,EAPkB,KAOXC,EAPW,OAQW5T,mBAAS,IARpB,mBAQlBgT,EARkB,KAQNa,EARM,OASG7T,mBAAS,QATZ,mBASlBf,EATkB,KASVkO,EATU,OAYHnN,mBAAS,IAZN,mBAYlB8T,EAZkB,KAYbC,EAZa,OAaH/T,mBAAS,IAbN,mBAalBgU,EAbkB,KAabC,EAba,KAejB5O,EAAgC2G,qBAAWlI,IAA3CuB,4BACJ7B,EAAKC,cACHqI,EAAWhN,OAAOC,aAAaC,QAAQ,aACvCuB,GAAY,uCAAG,gCAAA7B,EAAA,yDACb8B,EAAU,iBACG,IAAfsT,EAAIlT,OAFW,gBAGjBqT,EAAO,kFACPxT,YAAW,WACTwT,EAAO,MACN,KANc,4BAORH,EAAIpT,QAAQ,MAAQ,GAPZ,iBAQjBuT,EAAO,2FACPxT,YAAW,WACTwT,EAAO,MACN,KAXc,2BAYPzT,EAAQG,KAAKmT,GAZN,iBAajBG,EAAO,6HACPxT,YAAW,WACTwT,EAAO,MACN,KAhBc,6BAiBRH,EAAIlT,OAAS,GAAKkT,EAAIlT,OAAS,GAjBvB,iBAkBjBqT,EAAO,6EACPxT,YAAW,WACTwT,EAAO,MACN,KArBc,2BAsBPjB,EAtBO,iBAuBjBiB,EAAO,+EACPxT,YAAW,WACTwT,EAAO,MACN,MA1Bc,2BA2BE,KAAV7B,EA3BQ,iBA4BjB6B,EAAO,gFACPxT,YAAW,WACTwT,EAAO,MACN,KA/Bc,4BAgCRC,iCAAsB9B,GAhCd,iBAiCjB6B,EAAO,wGACPxT,YAAW,WACTwT,EAAO,MACN,KApCc,2BAqCE,KAAVN,EArCQ,iBAsCjBM,EAAO,+DACPxT,YAAW,WACTwT,EAAO,MACN,MAzCc,2BA0CPE,yBAAcR,IAAWS,yBAAcT,GA1ChC,iBA2CjBM,EAAO,oCACPxT,YAAW,WACTwT,EAAO,MACN,MA9Cc,2BA+CK,KAAbV,EA/CQ,iBAgDjBU,EAAO,sEACPxT,YAAW,WACTwT,EAAO,MACN,MAnDc,2BAoDC,KAATR,EApDQ,iBAqDjBQ,EAAO,wFACPxT,YAAW,WACTwT,EAAO,MACN,KAxDc,2BAyDQ,KAAhBR,EAAK7S,OAzDG,iBA0DjBqT,EAAO,qFACPxT,YAAW,WACTwT,EAAO,MACN,MA7Dc,2BA8DO,IAAf9C,EAAIvQ,OA9DI,iBA+DjBqT,EAAO,4FACPxT,YAAW,WACTwT,EAAO,MACN,KAlEc,6BAmER9C,EAAIvQ,OAAS,IAAMuQ,EAAIvQ,OAAS,IAnExB,iBAoEjBqT,EACE,qJAEFxT,YAAW,WACTwT,EAAO,MACN,KAzEc,2BA0EU,IAAlBhD,EAAOrQ,OA1EC,iBA2EjBqT,EAAO,gFACPxT,YAAW,WACTwT,EAAO,MACN,KA9Ec,mDAiFGzH,GAAe5N,KAAK,kBAAmB,CACvDqB,IAAK6T,EACL3T,GAAI,WACJ6M,YAAagD,GAAgBoC,GAC7BnT,OAAQA,IArFK,WAyFS,QARlB6B,EAjFS,QAyFPC,KAAKC,OAzFE,wBA0FbxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CACP8N,IAAK,CACHtN,IAAK6T,EACL9G,YAAagD,GAAgBoC,GAC7BnT,OAAQA,IAGZU,IAAK,sBApGM,UAsGQ+S,GAAe9T,KAAK,kBAAmB,CAC1DqB,IAAK+P,GAAgBoC,GACrBiB,SAAUgB,SAAShB,GACnBE,SAAUA,EACVtC,OAAQjB,GAAgBiB,GACxBwC,KAAMA,EACNtC,IAAKA,EACLwC,MAAOA,EAAM/C,cACblE,SAAUoH,EACVd,WACEsB,uBAAYtB,GAAc,IAAMuB,uBAAYvB,GAAc,QAhHjD,QAmHc,QAbrBwB,EAtGO,QAmHFzT,KAAKC,SACdxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKiH,EAAOzT,KAAKA,KAAKuI,UACjC3J,IAAK,oBAEP0F,EAA4B,6BAC5B5E,YAAW,WACT4E,EAA4B,MAC3B,KAEH7B,EAAGE,KAAK,qBACRF,EAAGE,KAAK,gCAhIG,wBAmIbuQ,EAAOnT,EAAIC,KAAKC,QAChBP,YAAW,WACTwT,EAAO,MACN,KAtIU,2DAyIfrU,QAAQC,IAAI,KAAIC,SAzID,2DAAH,qDA8IlB,OACE,qBAAKyB,UAAU,YAAf,SACE,qBAAKI,GAAG,eAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,eAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,oBACZiF,gBAAc,QACdC,gBAAc,mBACdjD,MAAO,CAAEG,OAAQ,WANnB,yCAYJ,qBACErN,GAAG,mBACHJ,UAAU,WACVwQ,kBAAgB,eAChBC,cAAY,gBAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAb,UACE,sBAAKD,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,MAAf,+BACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,MACHG,SAAU,SAACC,GAAD,OAAOgS,EAAOhS,EAAEC,OAAOH,QACjCA,MAAOiS,SAIb,qBAAKvS,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,+BACA,yBACEjM,UAAU,eACVI,GAAG,WACHE,MAAO5C,EACP6C,SAAU,SAACC,GAAD,OAAOoL,EAAUpL,EAAEC,OAAOH,QAJtC,UAMgB,OAAbiK,EACC,GAEA,wBAAQjK,MAAM,KAAd,6BAGF,wBAAQA,MAAM,OAAd,4BACA,wBAAQA,MAAM,OAAd,+BACA,wBAAQA,MAAM,MAAd,+BAMR,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,cAAf,oCACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,cACHG,SAAU,SAACC,GAAD,OAAOqR,EAASrR,EAAEC,OAAOH,QACnCA,MAAOuQ,SAIb,sBAAK7Q,UAAU,MAAf,UACE,uBAAOiM,QAAQ,aAAf,mCACA,cAAC,KAAD,CACEjM,UAAU,eACVM,MAAOmR,EACPlR,SAAU+R,EACVY,cAAY,EACZC,OAAO,QACPC,OAAO,iBACPhT,GAAG,aACHiT,QAAS,IAAIC,aAInB,sBAAKtT,UAAU,WAAf,UACE,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,mBACA,uBACE/L,KAAK,QACLF,UAAU,eACVI,GAAG,QACHG,SAAU,SAACC,GAAD,OAAO6R,EAAS7R,EAAEC,OAAOH,QACnCA,MAAO8R,SAIb,qBAAKpS,UAAU,QAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,+BACA,yBACE1L,SAAU,SAACC,GAAD,OAAOuR,EAAYvR,EAAEC,OAAOH,QACtCA,MAAOwR,EACP1R,GAAG,WACHJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,yBAIN,sBAAKN,UAAU,QAAf,UACE,uBAAOiM,QAAQ,WAAf,0BACA,uBACE/L,KAAK,OACLE,GAAG,WACHJ,UAAU,eACVO,SAAU,SAACC,GACTyR,EAAYzR,EAAEC,OAAOH,QAEvBA,MAAO0R,UAIb,sBAAKhS,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,OAAf,4CACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,OACHG,SAAU,SAACC,GAAD,OAAO2R,EAAQ3R,EAAEC,OAAOH,QAClCA,MAAO4R,SAIb,qBAAKlS,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,MAAf,+CACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,MACHG,SAAU,SAACC,GAAD,OAAOqP,EAAOrP,EAAEC,OAAOH,QACjCA,MAAOsP,YAsBf,sBAAK5P,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,oCACA,0BACEjM,UAAU,eACVI,GAAG,SACH6P,KAAK,IACL1P,SAAU,SAACC,GAAD,OAAOmP,EAAUnP,EAAEC,OAAOH,QACpCA,MAAOoP,OAIX,wBACExP,KAAK,SACLF,UAAU,4BACVY,QAAS5B,GAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCyS,mBCnWlCc,GAVM,WACnB,OACE,sBAAKvT,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,6CACA,cAAC,GAAD,IACA,cAAC,GAAD,QC4ISwT,GA1IS,WAAO,IACrBpT,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAFmB,EAIoBzD,mBAAS,IAJ7B,mBAIrBiV,EAJqB,KAIHC,EAJG,KAKpB9P,EAA6B4G,qBAAWlI,IAAxCsB,yBAERkJ,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIgU,GAAetE,IAAf,+BAA2CzM,IAF/C,OAERb,EAFQ,OAGdoU,EAAoBpU,EAAIC,KAAKA,KAAKuI,UAHpB,gDAKd1J,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAAC2G,EAAqBvT,IA+BzB,OACE,gCACE,oBAAIJ,UAAU,cAAd,2CACA,sBAAKA,UAAU,kBAAf,UACE,wBAAQA,UAAU,uBAAuBY,QAjChC,WACbqB,EAAGE,KAAK,gCAgCJ,2BAGA,qBAAKnC,UAAU,YAAf,SACE,wBAAQA,UAAU,uBAAuBY,QAZ5B,WACnBqB,EAAGE,KAAH,sCAAuC/B,EAAvC,UAWM,2BAQJ,mBAAGJ,UAAU,2BAAb,SAAyC6D,IACzC,qBAAI7D,UAAU,YAAd,oCACiB0T,EAAiBpC,gBAElC,uBAAOtR,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,oCACA,oBAAIA,UAAU,aAAd,SAA4B0T,EAAiBnC,UAE/C,qBAAIvR,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+BACA,oBAAIA,UAAU,aAAd,SACG4T,0BAAeF,EAAiB5B,eAGrC,qBAAI9R,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,mCACA,oBAAIA,UAAU,aAAd,SACGwR,yBAAckC,EAAiBjC,iBASpC,qBAAIzR,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,0BACA,oBAAIA,UAAU,aAAd,SACGwR,yBAAckC,EAAiB1B,eAGpC,qBAAIhS,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,oCACA,oBAAIA,UAAU,aAAd,SAA4B0T,EAAiBhE,YAE/C,qBAAI1P,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,4CACA,oBAAIA,UAAU,aAAd,SAA4B0T,EAAiBxB,UAE/C,qBAAIlS,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+CACA,oBAAIA,UAAU,aAAd,SAA4B0T,EAAiB9D,SAE/C,qBAAI5P,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,mBACA,oBAAIA,UAAU,aAAd,SAA4B0T,EAAiBtB,WAE/C,qBAAIpS,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,2DAGA,oBAAIA,UAAU,aAAd,SACgC,OAA7B0T,EAAiBhC,QACd,8CACAgC,EAAiBhC,aAIzB,qBAAI1R,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,wBACA,oBAAIA,UAAU,aAAd,SAxGW,SAACkN,GACpB,IAAIxP,EAAS,GACb,OAAQwP,GACN,IAAK,KACHxP,EAAS,kBACT,MACF,IAAK,OACHA,EAAS,iCACT,MACF,IAAK,MACHA,EAAS,sBACT,MACF,IAAK,OACHA,EAAS,oCAKb,OAAOA,EAuFImW,CAAaH,EAAiBhW,sBCjI9BoW,GARY,WACzB,OACE,8BACE,cAAC,GAAD,OCkSSC,GA1RK,WAClB,IAAI9R,EAAKC,cACD9B,EAAOqT,cAAPrT,GAFgB,EAIF3B,mBAAS,IAJP,mBAIjB+M,EAJiB,KAIZsE,EAJY,OAKErR,mBAAS,IALX,mBAKjBoS,EALiB,KAKVgB,EALU,OAMQpT,mBAAS,IANjB,mBAMjBqT,EANiB,KAMPC,EANO,OAOQtT,mBAAS,IAPjB,mBAOjBuT,EAPiB,KAOPC,EAPO,OAQIxT,mBAAS,IARb,mBAQjBiR,EARiB,KAQTC,EARS,OASAlR,mBAAS,IATT,mBASjByT,EATiB,KASXC,EATW,OAUF1T,mBAAS,IAVP,mBAUjBmR,EAViB,KAUZC,EAVY,OAWEpR,mBAAS,IAXX,mBAWjB2T,EAXiB,KAWVC,EAXU,OAaF5T,mBAAS,IAbP,mBAajBgU,EAbiB,KAaZC,EAbY,KAchB5O,EAAgC2G,qBAAWlI,IAA3CuB,4BAERiJ,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIgU,GAAetE,IAAf,+BAA2CzM,IAF/C,OAERb,EAFQ,OAIdsS,EAAStS,EAAIC,KAAKA,KAAKuI,SAASwJ,MAChCQ,EAAYxS,EAAIC,KAAKA,KAAKuI,SAAS+J,UACnCG,EAAYc,uBAAYxT,EAAIC,KAAKA,KAAKuI,SAASiK,WAC/CrC,EAAUpQ,EAAIC,KAAKA,KAAKuI,SAAS2H,QACjCyC,EAAQ5S,EAAIC,KAAKA,KAAKuI,SAASmK,MAC/BrC,EAAOtQ,EAAIC,KAAKA,KAAKuI,SAAS6H,KAC9ByC,EAAS9S,EAAIC,KAAKA,KAAKuI,SAASqK,OAIhCtC,EAAO,CACL1P,GAAIA,EACJ1B,IAAKa,EAAIC,KAAKA,KAAKuI,SAASwJ,KAC5BO,SAAUvS,EAAIC,KAAKA,KAAKuI,SAAS+J,SACjCE,SAAUe,uBAAYxT,EAAIC,KAAKA,KAAKuI,SAASiK,UAC7CtC,OAAQnQ,EAAIC,KAAKA,KAAKuI,SAAS2H,OAC/BwC,KAAM3S,EAAIC,KAAKA,KAAKuI,SAASmK,KAC7BtC,IAAKrQ,EAAIC,KAAKA,KAAKuI,SAAS6H,IAC5BwC,MAAO7S,EAAIC,KAAKA,KAAKuI,SAASqK,QAtBlB,kDA0Bd/T,QAAQC,IAAI,KAAIC,SA1BF,0DAAH,qDA8BfyO,KACC,CAAC5M,IAEJ,IAAMyL,EAAY,uCAAG,8BAAA1O,EAAA,yDACL,KAAV0T,EADe,gBAEjB6B,EAAO,gFACPxT,YAAW,WACTwT,EAAO,MACN,KALc,2BAMRC,iCAAsB9B,GANd,iBAOjB6B,EAAO,wGACPxT,YAAW,WACTwT,EAAO,MACN,KAVc,2BAWE,KAAVN,EAXQ,iBAYjBM,EAAO,+DACPxT,YAAW,WACTwT,EAAO,MACN,MAfc,2BAgBPE,yBAAcR,IAAWS,yBAAcT,GAhBhC,iBAiBjBM,EAAO,oCACPxT,YAAW,WACTwT,EAAO,MACN,MApBc,2BAqBK,KAAbV,EArBQ,iBAsBjBU,EAAO,sEACPxT,YAAW,WACTwT,EAAO,MACN,MAzBc,2BA0BC,KAATR,EA1BQ,iBA2BjBQ,EAAO,wFACPxT,YAAW,WACTwT,EAAO,MACN,KA9Bc,2BA+BQ,KAAhBR,EAAK7S,OA/BG,iBAgCjBqT,EAAO,qFACPxT,YAAW,WACTwT,EAAO,MACN,MAnCc,2BAoCO,IAAf9C,EAAIvQ,OApCI,iBAqCjBqT,EAAO,4FACPxT,YAAW,WACTwT,EAAO,MACN,KAxCc,6BAyCR9C,EAAIvQ,OAAS,IAAMuQ,EAAIvQ,OAAS,IAzCxB,iBA0CjBqT,EACE,qJAEFxT,YAAW,WACTwT,EAAO,MACN,KA/Cc,2BAgDU,IAAlBhD,EAAOrQ,OAhDC,iBAiDjBqT,EAAO,gFACPxT,YAAW,WACTwT,EAAO,MACN,KApDc,mDAuDGvB,GAAejG,IAAI,iBAAkB,CACrD9K,GAAIA,EACJ1B,IAAK+P,GAAgBoC,GACrBiB,SAAUgB,SAAShB,GACnBE,SAAUA,EACVtC,OAAQjB,GAAgBiB,GACxBwC,KAAMA,EACNtC,IAAKA,EACLwC,MAAOA,EAAM/C,gBA/DA,QAkES,QAXlB9P,EAvDS,QAkEPC,KAAKC,QACLsM,EAAO,CACX3L,GAAIA,EACJ1B,IAAK+P,GAAgBoC,GACrBiB,SAAUgB,SAAShB,GACnBE,SAAUA,EACVtC,OAAQjB,GAAgBiB,GACxBwC,KAAMA,EACNtC,IAAKA,EACLwC,MAAOA,EAAM/C,eAGXvR,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,IAAKA,GAChBtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,oBAGT0F,EAA4B,6BAC5B5E,YAAW,WACT4E,EAA4B,MAC3B,KACH7B,EAAGE,KAAH,kCAEAuQ,EAAOnT,EAAIC,KAAKC,QAChBP,YAAW,WACTwT,EAAO,MACN,MA/FU,mDAkGfrU,QAAQC,IAAI,KAAIC,SAlGD,2DAAH,qDAuGlB,OACE,sBAAKyB,UAAU,MAAf,UACE,qBAAKA,UAAU,UACf,qBAAKA,UAAU,QAAf,SACE,uBAAMC,OAAO,GAAb,UACE,qBAAKD,UAAU,WAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,cAAf,oCACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,cACHG,SAAU,SAACC,GAAD,OAAOqR,EAASrR,EAAEC,OAAOH,QACnCA,MAAOuQ,WAsBf,sBAAK7Q,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,OAAf,4CACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,OACHG,SAAU,SAACC,GAAD,OAAO2R,EAAQ3R,EAAEC,OAAOH,QAClCA,MAAO4R,SAIb,qBAAKlS,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,MAAf,+CACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,MACHG,SAAU,SAACC,GAAD,OAAOqP,EAAOrP,EAAEC,OAAOH,QACjCA,MAAOsP,YAKf,sBAAK5P,UAAU,WAAf,UACE,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,mBACA,uBACE/L,KAAK,QACLF,UAAU,eACVI,GAAG,QACHG,SAAU,SAACC,GAAD,OAAO6R,EAAS7R,EAAEC,OAAOH,QACnCA,MAAO8R,SAIb,qBAAKpS,UAAU,QAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,+BACA,yBACE1L,SAAU,SAACC,GAAD,OAAOuR,EAAYvR,EAAEC,OAAOH,QACtCA,MAAOwR,EACP1R,GAAG,WACHJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,yBAIN,sBAAKN,UAAU,QAAf,UACE,uBAAOiM,QAAQ,WAAf,0BACA,uBACE/L,KAAK,OACLE,GAAG,WACHJ,UAAU,eACVO,SAAU,SAACC,GAAD,OAAOyR,EAAYzR,EAAEC,OAAOH,QACtCA,MAAO0R,UAKb,sBAAKhS,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,oCACA,0BACEjM,UAAU,eACVI,GAAG,SACH6P,KAAK,IACL1P,SAAU,SAACC,GAAD,OAAOmP,EAAUnP,EAAEC,OAAOH,QACpCA,MAAOoP,OAGX,mBAAG1P,UAAU,mBAAb,SAAiCyS,IACjC,qBAAKzS,UAAU,kBAAf,SACE,wBACEA,UAAU,uBACVE,KAAK,SACLU,QAASiL,EAHX,6BAUN,qBAAK7L,UAAU,cCvRNgU,GATS,WACtB,OACE,gCACE,oBAAIhU,UAAU,wBAAd,mDACA,cAAC,GAAD,QCJSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,oB,gBCUpBoX,KAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,uCACZC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAIjB,IAAMC,GAAUT,KAASS,UC4GVC,GApHG,SAAC,GAAY,IAAVvU,EAAS,EAATA,GAAS,EAE1BqK,qBAAWlI,IADL+B,EADoB,EACpBA,0BAA2BH,EADP,EACOA,SAAUC,EADjB,EACiBA,YAGzCnC,EAAKC,cAJmB,EAKIzD,mBAAS,IALb,mBAKrBmW,EALqB,KAKXC,EALW,OAMFpW,mBAAS,IANP,mBAMrBqW,EANqB,KAMdC,EANc,OAOItW,oBAAS,GAPb,mBAOrBuW,EAPqB,KAOXC,EAPW,OASNxW,mBAAS,IATH,mBASrB+M,EATqB,KAShBsE,EATgB,KAWtB9C,EAAS,uCAAG,4BAAA7P,EAAA,+EAEI+X,GAAarI,IAAb,6BAAuCzM,IAF3C,cAERb,EAFQ,OAGdsV,EAAYtV,EAAIC,KAAKA,KAAK2I,OAAOyM,UACjCG,EAASxV,EAAIC,KAAKA,KAAK2I,OAAOzJ,KAC9BoR,EAAOvQ,EAAIC,KAAKA,KAAK2I,QALP,SAMO+M,GAAarI,IAAb,2BAAqCzM,IAN5C,OAQwB,MARxB,OAQHZ,KAAKA,KAAK2I,OAAOgG,MAC1B8G,GAAY,GAEZA,GAAY,GAXA,kDAcd5W,QAAQC,IAAI,KAAIC,SAdF,0DAAH,qDAkBT6P,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,yDACnBqD,EAAEiM,mBACEuI,EAFe,0CAIGE,GAAa7G,OAAb,uBAAoCjO,IAJvC,OAME,KANF,OAMPZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAKA,GAChBtN,QAAS,GACTE,IAAK,sBAGPkG,EAA0B,2BAC1BpF,YAAW,WACToF,EAA0B,MACzB,KACHF,EACED,EAASmK,QAAO,SAACnG,GACf,OAAOA,EAAO/H,KAAOA,MAGzBsU,GAAQS,IAAI,UAAUC,MAAMR,GAAUvG,SACtCpM,EAAGE,KAAK,8BAxBK,gDA2Bf9D,QAAQC,IAAI,KAAIC,SA3BD,gCA8BjBiQ,MACE,+IA/Be,yDAAH,sDAmClB,OACE,gCACE,mBACExO,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,OACAQ,QAASoM,EAJX,wBASA,qBAAKhN,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,oBAAGA,UAAU,YAAb,8DAC0B,IACxB,uBAAMA,UAAU,mBAAhB,cAAqC8U,EAArC,OAFF,mBAMF,sBAAK9U,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCUC+J,GA/GQ,WAAO,IAAD,EAEzB5K,qBAAWlI,IADL4B,EADmB,EACnBA,SAAUC,EADS,EACTA,YAAaC,EADJ,EACIA,uBADJ,EAIS5F,mBAAS,IAJlB,mBAIpB6W,EAJoB,KAIRC,EAJQ,KAKvBtT,EAAKC,cAET6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI+X,GAAarI,IAAI,sBAFrB,OAGU,QADlBtN,EAFQ,QAGNC,KAAKC,QACX2E,EAAY7E,EAAIC,KAAKA,KAAK2I,QAJd,gDAOd9J,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,GAEmB,uCAAG,4BAAA7P,EAAA,+EAEA+X,GAAarI,IAAI,2BAFjB,OAEZtN,EAFY,OAGlBgW,EAAchW,EAAIC,KAAKA,KAAKgW,QAHV,gDAKlBnX,QAAQC,IAAI,KAAIC,SALE,yDAAH,oDAQnBkX,KACC,CAACrR,EAAamR,IAEjB,IAUMG,EAAsB,SAACC,GAC3B,IAAIpE,EAAO,GAMX,OALA+D,EAAWvG,SAAQ,SAAClN,GACdA,EAAKzB,KAAOuV,IACdpE,EAAO1P,EAAK0P,SAGTA,GAET,OACE,gCACG,IACD,sBAAKvR,UAAU,YAAf,UACE,mBAAGA,UAAU,2BAAb,SAAyCqE,IACzC,wBAAOrE,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,0DACA,0CACA,0DACA,6DACA,qCACA,0CACA,6CAGJ,gCACGmE,EAAS/B,KAAI,SAAC+F,GACb,OACE,+BACE,oBAAInI,UAAU,eAAd,SAA8BmI,EAAOzJ,MACrC,oBAAIsB,UAAU,eAAd,SACE,qBAAK2K,IAAKxC,EAAOyN,WAAYhL,IAAI,aAAaiL,MAAM,UAEtD,qBAAI7V,UAAU,0BAAd,UACG8V,wBAAa3N,EAAO4N,YADvB,IACoC,uCAEpC,oBAAI/V,UAAU,eAAd,SACE,4BAAI0V,EAAoBvN,EAAO6N,mBAEjC,qBAAIhW,UAAU,eAAesN,MAAO,CAAEG,OAAQ,WAA9C,UACG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OAtDA,SAACA,EAAGJ,GAC/BI,EAAEiM,kBACFxK,EAAGE,KAAH,oCAAqC/B,IAoDH6V,CAAqBzV,EAAG2H,EAAO/H,KAFjD,wBAOF,oBAAIJ,UAAU,eAAesN,MAAO,CAAEG,OAAQ,WAA9C,SACE,mBACEzN,UAAU,iCACVY,QAAS,SAACJ,GAAD,OAzDR,SAACA,EAAGJ,GACvBI,EAAEiM,kBACFxK,EAAGE,KAAH,oCAAqC/B,EAArC,SAuDkCyL,CAAarL,EAAG2H,EAAO/H,KAFzC,4BAOF,oBAAIJ,UAAU,eAAesN,MAAO,CAAEG,OAAQ,WAA9C,SACE,cAAC,GAAD,CAAWrN,GAAI+H,EAAO/H,SA7BjB+H,EAAO/H,mB,mEC4MjB8V,GA7QI,WAAO,IAAD,EACGzX,mBAAS,IADZ,mBAChB0X,EADgB,KACTpB,EADS,OAEGtW,mBAAS,IAFZ,mBAEhB2X,EAFgB,KAETC,EAFS,OAGS5X,mBAAS,IAHlB,mBAGhBmW,EAHgB,KAGNC,EAHM,OAIWpW,mBAAS,IAJpB,mBAIhB6X,EAJgB,KAILC,EAJK,OAKK9X,mBAAS,IALd,mBAKhB+X,EALgB,KAKRC,EALQ,OAMChY,qBAND,mBAMhBiY,EANgB,KAMVC,EANU,OAQSlY,mBAAS,IARlB,mBAQhB2R,EARgB,KAQNC,EARM,OAUG5R,mBAAS,IAVZ,mBAUhBmY,EAVgB,KAUTC,EAVS,OAWKpY,mBAAS,IAXd,mBAWhBqY,EAXgB,KAWRC,EAXQ,OAa2BtM,qBAAWlI,IAArD2F,EAbe,EAafA,WAAY5D,EAbG,EAaHA,0BAEpByI,qBAAU,YACa,uCAAG,4BAAA5P,EAAA,+EAEF+X,GAAarI,IAAI,2BAFf,OAEdtN,EAFc,OAGpBwX,EAAUC,wCAA6BzX,EAAIC,KAAKA,KAAKgW,SAHjC,gDAKpBnX,QAAQC,IAAI,KAAIC,SALI,yDAAH,qDAQrB0Y,KACC,CAACF,IAEJ,IA2BMG,EAAiB,uCAAG,WAAO3F,GAAP,eAAApU,EAAA,+EAEJ+X,GAAa7X,KAAK,qBAAsB,CACxDkU,KAAMA,IAHc,OAEhBhS,EAFgB,OAKtBoX,EAAQpX,EAAIC,KAAKA,KAAK8V,WAAWlV,IALX,gDAOtB/B,QAAQC,IAAI,KAAMC,SAPI,yDAAH,sDAWjB4Y,EAAe,CACnBC,OAAQ,SAACC,EAAUC,GAAX,oBAAC,gBACJD,GADG,IAEN3M,MAAO4M,EAAMC,WAAa,QAAU,SACpCC,QAAS,MAIPxY,EAAY,uCAAG,4BAAA7B,EAAA,yDACdgZ,EADc,gBAEjB9F,EAAY,kFACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPuG,EANO,iBAOjBvG,EAAY,gFACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,2BAWPiG,EAXO,iBAYjBjG,EAAY,+FACZnR,YAAW,WACTmR,EAAY,MACX,KAfc,2BAgBPmG,EAhBO,iBAiBjBnG,EAAY,oEACZnR,YAAW,WACTmR,EAAY,MACX,KApBc,2BAqBPqG,EArBO,iBAsBjBrG,EAAY,oFACZnR,YAAW,WACTmR,EAAY,MACX,KAzBc,mDA4BG6E,GAAa7X,KAAK,gBAAiB,CACnDqB,IAAK+P,GAAgB0H,GACrBK,OAAQA,EACRiB,MAAOnB,EACPlK,UAAW,EACXsL,IAAKtB,EACLxB,SAAUA,EACVY,OAAQkB,IAnCK,QAsCS,QAVlBnX,EA5BS,QAsCPC,KAAKC,SACXxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK2I,QAC9B/J,IAAK,sBAGP8J,EAAW3I,EAAIC,KAAKA,KAAK2I,QACzB7D,EAA0B,6BAC1BpF,YAAW,WACToF,EAA0B,MACzB,MACHyQ,EAAS,IACT8B,EAAS,IACTJ,EAAU,IACVF,EAAa,KAtDA,mDAyDflY,QAAQC,IAAI,KAAIC,SAzDD,2DAAH,qDAoElB,OACE,8BACE,qBAAKyB,UAAU,aAAf,SACE,qBAAKI,GAAG,aAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,aAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,kBACZiF,gBAAc,QACdC,gBAAc,iBACdjD,MAAO,CAAEG,OAAQ,WANnB,2CAYJ,qBACErN,GAAG,iBACHJ,UAAU,WACVwQ,kBAAgB,aAChBC,cAAY,cAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,aAAf,UACE,uBAAOiM,QAAQ,YAAf,sCACA,uBACE/L,KAAK,OACLE,GAAG,YACHJ,UAAU,eACVM,MAAO6V,EACP5V,SAAU,SAACC,GAAD,OAAOuU,EAASvU,EAAEC,OAAOH,aAGvC,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,wCACA,uBACE/L,KAAK,OACLyX,OAAO,UACPvX,GAAG,QACHJ,UAAU,eACVO,SAAU,SAACC,GA9JV,IAACyJ,EA+JIzJ,EAAEC,OAAOmX,MAAM,IAlDnChD,GACFF,GAAQS,IAAI,UAAUC,MAAMR,GAAUvG,SAmDlBwI,EAASrW,EAAEC,OAAOmX,MAAM,IACxB/C,EAAYrU,EAAEC,OAAOmX,MAAM,GAAGrG,MAlKhCtH,EAmKezJ,EAAEC,OAAOmX,MAAM,GAlK/BlD,GAAQS,IAAR,iBAAsBlL,EAAIsH,OAAQrG,IAAIjB,GAC9C4N,GACT,iBACA,SAACC,OACD,SAAC/X,GACC1B,QAAQC,IAAIyB,MAEd,WACE2U,GACGS,IAAI,UACJC,MAAMnL,EAAIsH,MACVwG,iBACAC,MAAK,SAACC,GACL5B,EAAS4B,UAuJKpB,EAAS,UAMjB,sBAAK7W,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,sCAUA,cAAC,KAAD,CACE7L,GAAG,QACHE,MAAOgW,EACPtW,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdiW,EAAajW,IAEf+X,KAAK,OACLC,UAAU,SAId,sBAAKtY,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,cAAC,YAAD,CACEzM,KAAMgX,EACN+B,OAAQC,KACRjY,SAAU,SAACkY,EAAOF,GAChB,IAAM/Y,EAAO+Y,EAAOG,UACpBjC,EAAUjX,SAUhB,sBAAKQ,UAAU,cAAf,UACE,uBAAOiM,QAAQ,SAAf,yCACA,cAAC,KAAD,CACE7L,GAAG,SACHuY,aAAW,EACXpY,SAvMC,SAACqY,EAAcC,GACR,kBAAtBA,EAAW5Y,OACb0W,EAAQiC,EAAatY,OACU,kBAAtBuY,EAAW5Y,QACpBiX,EAAkB0B,EAAatY,QAoMfwY,QAAShC,EACTiC,OAAQ5B,OAIZ,wBACEjX,KAAK,SACLF,UAAU,4BACVY,QAAS5B,EAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCoQ,qBChQpC4I,GAVI,WACjB,OACE,sBAAKhZ,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,+CACA,cAAC,GAAD,IACA,cAAC,GAAD,QCNSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,kBCiHLoc,GA9GE,SAAC,GAAoB,IAAlBva,EAAiB,EAAjBA,IAAKuJ,EAAY,EAAZA,MAAY,EAEjCwC,qBAAWlI,IADL2B,EAD2B,EAC3BA,yBAA0BH,EADC,EACDA,QAASC,EADR,EACQA,WAGvC/B,EAAKC,cAJ0B,EAKHzD,mBAAS,IALN,mBAK5BmW,EAL4B,KAKlBC,EALkB,OAMHpW,oBAAS,GANN,mBAM5BuW,EAN4B,KAMlBC,EANkB,KAQ7B7D,EAAW,uCAAG,4BAAAjU,EAAA,+EAEE+b,GAAYrM,IAAZ,2BAAoCnO,IAFtC,cAEVa,EAFU,OAGhBsV,EAAYtV,EAAIC,KAAKA,KAAKyI,MAAM2M,UAHhB,SAKKsE,GAAYrM,IAAZ,2BAAoCnO,IALzC,OAOqB,MAPrB,OAOLc,KAAKA,KAAKyI,MAAMkG,MACzB8G,GAAY,GAEZA,GAAY,GAVE,kDAahB5W,QAAQC,IAAI,KAAIC,SAbA,0DAAH,qDAiBX6P,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,yDACnBqD,EAAEiM,mBACEuI,EAFe,0CAIGkE,GAAY7K,OAAZ,qBAAiC3P,IAJpC,OAME,KANF,OAMPc,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAKvD,GAChB/J,QAAS,GACTE,IAAK,aAGP8F,EAAyB,2BACzBhF,YAAW,WACTgF,EAAyB,MACxB,KACHF,EACED,EAAQuK,QAAO,SAACrG,GACd,OAAOA,EAAMvJ,MAAQA,MAGzBgW,GAAQS,IAAI,SAASC,MAAMR,GAAUvG,SACrCpM,EAAGE,KAAK,4BAxBK,gDA2Bf9D,QAAQC,IAAI,KAAIC,SA3BD,gCA8BjBiQ,MAAM,iIA9BW,yDAAH,sDAiClB,OACE,gCACE,mBACExO,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmB3M,EAAnB,OACAkC,QAASwQ,EAJX,wBASA,qBAAKpR,UAAU,kBAAkBI,GAAE,YAAO1B,EAAP,OAAnC,SACE,qBAAKsB,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,oBAAGA,UAAU,YAAb,8DAC0B,IACxB,uBAAMA,UAAU,mBAAhB,cAAqCtB,EAArC,OAFF,mBAMF,sBAAKsB,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCNC6N,GA1FO,WAAO,IAAD,EAExB1O,qBAAWlI,IADLwB,EADkB,EAClBA,QAASC,EADS,EACTA,WAAYC,EADH,EACGA,sBAEzBhC,EAAKC,cAET6K,qBAAU,YACK,uCAAG,4BAAA5P,EAAA,+EAEM+b,GAAYrM,IAAI,oBAFtB,OAGY,QADlBtN,EAFM,QAGJC,KAAKC,QACXuE,EAAWzE,EAAIC,KAAKA,KAAKyI,OAJf,gDAOZ5J,QAAQC,IAAI,KAAIC,SAPJ,yDAAH,qDAUbma,KACC,CAAC1U,IAWJ,OACE,sBAAKhE,UAAU,OAAf,UACE,mBAAGA,UAAU,2BAAb,SAAyCiE,IACzC,wBAAOjE,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,iDACA,0CACA,sDACA,4DACA,6DACA,oDACA,qCACA,0CACA,6CAGJ,gCACG+D,EAAQ3B,KAAI,SAAC6F,GACZ,OACE,+BACE,oBAAIjI,UAAU,eAAd,SAA8BiI,EAAMvJ,MACpC,oBAAIsB,UAAU,eAAd,SACE,qBAAK2K,IAAK1C,EAAMyP,IAAK9M,IAAI,YAAYiL,MAAM,UAE7C,oBAAI7V,UAAU,eAAd,SAA8BiI,EAAMmR,SACpC,qBAAIpZ,UAAU,0BAAd,UACG8V,wBAAa7N,EAAMoR,kBADtB,IACyC,uCAEzC,qBAAIrZ,UAAU,0BAAd,UACG8V,wBAAa7N,EAAMqR,iBADtB,IACwC,uCAExC,oBAAItZ,UAAU,eAAd,SAA8BiI,EAAMsR,YACpC,qBAAIvZ,UAAU,eAAesN,MAAO,CAAEG,OAAQ,WAA9C,UACG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OA9CC,SAACA,EAAGJ,GAC9BI,EAAEiM,kBACFxK,EAAGE,KAAH,kCAAmC/B,IA4CHoZ,CAAoBhZ,EAAGyH,EAAMvJ,MAF/C,wBAOF,oBAAIsB,UAAU,eAAesN,MAAO,CAAEG,OAAQ,WAA9C,SACE,mBACEzN,UAAU,iCACVY,QAAS,SAACJ,GAAD,OAjDN,SAACA,EAAGJ,GACvBI,EAAEiM,kBACFxK,EAAGE,KAAH,kCAAmC/B,EAAnC,SA+CgCyL,CAAarL,EAAGyH,EAAMvJ,MAFxC,4BAOF,oBAAIsB,UAAU,eAAesN,MAAO,CAAEG,OAAQ,WAA9C,SACE,cAAC,GAAD,CAAU/O,IAAKuJ,EAAMvJ,IAAKuJ,MAAOA,QA/B5BA,EAAMvJ,iBCsPd+a,GAlSG,WAAO,IAAD,EACUhb,mBAAS,IADnB,mBACfib,EADe,KACLC,EADK,OAEUlb,mBAAS,IAFnB,mBAEfmb,EAFe,KAELC,EAFK,OAGUpb,mBAAS,IAHnB,mBAGfmW,EAHe,KAGLC,EAHK,OAI0BpW,mBAAS,IAJnC,mBAIf4a,EAJe,KAIGS,EAJH,OAKwBrb,mBAAS,IALjC,mBAKf6a,EALe,KAKES,EALF,OAMMtb,mBAAS,IANf,mBAMf2a,EANe,KAMPY,EANO,OAOgBvb,mBAAS,IAPzB,mBAOfwb,EAPe,KAOFC,EAPE,OASgBzb,mBAAS,IATzB,mBASf0b,EATe,KASFC,EATE,OAUY3b,mBAAS,0BAVrB,mBAUf8a,EAVe,KAUJc,EAVI,OAWU5b,mBAAS,IAXnB,mBAWf2R,EAXe,KAWLC,EAXK,OAaI5R,mBAAS,IAbb,mBAafmY,EAbe,KAaRC,EAbQ,OAe0BpM,qBAAWlI,IAAnDyF,EAfc,EAedA,UAAW9D,EAfG,EAeHA,yBAqBblF,EAAY,uCAAG,4BAAA7B,EAAA,yDACduc,EADc,gBAEjBrJ,EAAY,yEACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPuG,EANO,iBAOjBvG,EAAY,2EACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,2BAWPgJ,EAXO,iBAYjBhJ,EAAY,sFACZnR,YAAW,WACTmR,EAAY,MACX,KAfc,2BAgBPiJ,EAhBO,iBAiBjBjJ,EAAY,uFACZnR,YAAW,WACTmR,EAAY,MACX,KApBc,2BAqBP+I,EArBO,iBAsBjB/I,EAAY,8EACZnR,YAAW,WACTmR,EAAY,MACX,KAzBc,2BA0BP4J,EA1BO,iBA2BjB5J,EAAY,0FACZnR,YAAW,WACTmR,EAAY,MACX,KA9Bc,2BA+BP8J,EA/BO,iBAgCjB9J,EAAY,qFACZnR,YAAW,WACTmR,EAAY,MACX,KAnCc,mDAsCG6I,GAAY7b,KAAK,cAAe,CAChDqB,IAAK+P,GAAgBiL,GACrBtN,UAAW,EACXsL,IAAKkC,EACLR,OAAQ3K,GAAgB2K,GACxBkB,UAAWL,EACXM,UAAWJ,EACXd,iBAAkBA,EAClBC,gBAAiBA,EACjB1E,SAAUA,EACV2E,UAAWA,IAhDE,QAmDS,QAblBha,EAtCS,QAmDPC,KAAKC,QACXxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAKyI,OAC9B7J,IAAK,aAGP4J,EAAUzI,EAAIC,KAAKA,KAAKyI,OACxB/D,EAAyB,6BACzBhF,YAAW,WACTgF,EAAyB,MACxB,MACHyV,EAAY,IACZ9C,EAAS,IACTmD,EAAU,IACVI,EAAe,IACfF,EAAe,IACfH,EAAmB,IACnBD,EAAoB,MAEpBzJ,EAAY9Q,EAAIC,KAAKC,QACrBP,YAAW,WACTmR,EAAY,MACX,MA3EU,mDA8EfhS,QAAQC,IAAI,KAAGC,SA9EA,2DAAH,qDAwFlB,OACE,qBAAKyB,UAAU,YAAf,SACE,qBAAKI,GAAG,YAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,YAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,iBACZiF,gBAAc,QACdC,gBAAc,gBACdjD,MAAO,CAAEG,OAAQ,WANnB,kCAYJ,qBACErN,GAAG,gBACHJ,UAAU,WACVwQ,kBAAgB,YAChBC,cAAY,aAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,6BACA,uBACE/L,KAAK,OACLE,GAAG,WACHJ,UAAU,eACVM,MAAOoZ,EACPnZ,SAAU,SAACC,GAAD,OAAOmZ,EAAYnZ,EAAEC,OAAOH,aAG1C,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,8CACA,uBACE/L,KAAK,OACLyX,OAAO,UACPvX,GAAG,WACHJ,UAAU,eACVO,SAAU,SAACC,GAtJR,IAACyJ,EAuJEzJ,EAAEC,OAAOmX,MAAM,IAhDjChD,GACFF,GAAQS,IAAI,SAASC,MAAMR,GAAUvG,SAiDnBwI,EAASrW,EAAEC,OAAOmX,MAAM,IACxB/C,EAAYrU,EAAEC,OAAOmX,MAAM,GAAGrG,MA1J9BtH,EA2JazJ,EAAEC,OAAOmX,MAAM,GA1J7BlD,GAAQS,IAAR,gBAAqBlL,EAAIsH,OAAQrG,IAAIjB,GAC7C4N,GACT,iBACA,SAACC,OACD,SAAC/X,GACC1B,QAAQC,IAAIyB,MAEd,WACE2U,GACGS,IAAI,SACJC,MAAMnL,EAAIsH,MACVwG,iBACAC,MAAK,SAACC,GACL4B,EAAY5B,UA+IApB,EAAS,UAMjB,sBAAK7W,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,0CAEA,cAAC,KAAD,CACE7L,GAAG,WACHE,MAAO+Y,EACPrZ,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdwZ,EAAoBxZ,IAEtB+X,KAAK,OACLC,UAAU,WAIhB,sBAAKtY,UAAU,MAAf,UACG,IACD,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,eAAf,2CAEA,cAAC,KAAD,CACE7L,GAAG,eACHE,MAAOgZ,EACPtZ,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdyZ,EAAmBzZ,IAErB+X,KAAK,OACLC,UAAU,YAIhB,qBAAKtY,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,YAAf,gCACA,yBACE7L,GAAG,YACHJ,UAAU,eACVM,MAAOiZ,EACPhZ,SAAU,SAACC,GAAD,OAAO6Z,EAAa7Z,EAAEC,OAAOH,QAJzC,UAME,wBAAQA,MAAM,yBAAd,oCACA,wBAAQA,MAAM,uBAAd,kCACA,wBAAQA,MAAM,mBAAd,yCAMR,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,kCACA,uBACE/L,KAAK,OACLE,GAAG,SACHJ,UAAU,eACVM,MAAO8Y,EACP7Y,SAAU,SAACC,GAAD,OAAOwZ,EAAUxZ,EAAEC,OAAOH,aAIxC,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,cAAf,8CACA,0BACEjM,UAAU,eACVI,GAAG,cACH6P,KAAK,IACL3P,MAAO2Z,EACP1Z,SAAU,SAACC,GAAD,OAAO0Z,EAAe1Z,EAAEC,OAAOH,aAG7C,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,cAAf,yCACA,cAAC,YAAD,CACEzM,KAAM2a,EACN5B,OAAQC,KACRjY,SAAU,SAACkY,EAAOF,GAChB,IAAM/Y,EAAO+Y,EAAOG,UACpB0B,EAAe5a,IAEjBgb,OAAQ,CACNC,SAAU,CACRC,UAAW,oDAMnB,wBACExa,KAAK,SACLF,UAAU,4BACVY,QAAS5B,EAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCoQ,mBCpRlCuK,GAVG,WAChB,OACE,sBAAK3a,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,sCACA,cAAC,GAAD,IACA,cAAC,GAAD,QCGS4a,GAVE,WACf,OACE,8BACE,qBAAK5a,UAAU,OAAf,SACE,oBAAIA,UAAU,cAAd,0D,oBCHOlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,sB,kBC4QLsc,GAtQO,WAAO,IAAD,EACI1a,mBAAS,IADb,mBACnBsF,EADmB,KACVC,EADU,OAGIvF,mBAAS,CACrC6B,MAAO,SACPua,MAAO,yBACPnQ,MAAO,YANiB,mBAGnBoQ,EAHmB,KAGVC,EAHU,KASpBC,EAAM,eAACtQ,EAAD,uDAAS,OAAT,MAAqB,CAC/BuQ,WAAY,SACZC,QAAS,OAET,UAAW,CACTC,gBAAiBzQ,EACjB0Q,aAAc,GACdC,QAAS,MACTH,QAAS,QACTI,YAAa,EACbC,OAAQ,GACR1F,MAAO,MAIL2F,EAAe,CACnBC,QAAS,SAAC1C,GAAD,oBAAC,gBAAiBA,GAAlB,IAA0BoC,gBAAiB,WACpD/D,OAAQ,SAAC2B,EAAD,GAA0D,IAA/CvZ,EAA8C,EAA9CA,KAAMkc,EAAwC,EAAxCA,WAAYC,EAA4B,EAA5BA,UAAWpE,EAAiB,EAAjBA,WACxC7M,EAAQkR,KAAOpc,EAAKkL,OAC1B,OAAO,6BACFqO,GADL,IAEEoC,gBAAiBO,EACb,KACAnE,EACA/X,EAAKkL,MACLiR,EACAjR,EAAMmR,MAAM,IAAKC,MACjB,KACJpR,MAAOgR,EACH,OACAnE,EACAqE,KAAOG,SAASrR,EAAO,SAAW,EAChC,QACA,QACFlL,EAAKkL,MACT+C,OAAQiO,EAAa,cAAgB,UAErC,UAAU,6BACL3C,EAAO,YADZ,IAEEoC,iBACGO,IAAenE,EAAa/X,EAAKkL,MAAQA,EAAMmR,MAAM,IAAKC,YAInEE,MAAO,SAACjD,GAAD,oBAAC,gBAAiBA,GAAWiC,MACpC7a,YAAa,SAAC4Y,GAAD,oBAAC,gBAAiBA,GAAWiC,MAC1CiB,YAAa,SAAClD,EAAD,OAAWvZ,EAAX,EAAWA,KAAX,oBAAC,gBAA2BuZ,GAAWiC,EAAIxb,EAAKkL,UAY3DzI,EAAKC,cACT6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI+b,GAAYrM,IAAI,oBAFpB,OAERtN,EAFQ,OAGdyE,EAAWzE,EAAIC,KAAKA,KAAKyI,OAHX,gDASd5J,QAAQC,IAAI,KAAIC,SATF,yDAAH,qDAYfyO,KACC,CAAChJ,IAEJ,IAAMkY,EAAc,SAAC/P,GACnB,IAAIgQ,EACJ,OAAQhQ,EAAK,IACX,IAAK,IACHgQ,EAAc,CACZZ,OAAQ,QACRa,SAAU,OACVjB,gBAAiB,WAEnB,MACF,IAAK,IACHgB,EAAc,CACZZ,OAAQ,QACRa,SAAU,OACVjB,gBAAiB,WAEnB,MACF,IAAK,IACHgB,EAAc,CACZZ,OAAQ,QACRa,SAAU,OACVjB,gBAAiB,WAEnB,MACF,IAAK,IACHgB,EAAc,CACZZ,OAAQ,QACRa,SAAU,OACVjB,gBAAiB,WAEnB,MACF,IAAK,IACHgB,EAAc,CACZZ,OAAQ,QACRa,SAAU,OACVjB,gBAAiB,WAEnB,MACF,IAAK,IACHgB,EAAc,CACZZ,OAAQ,QACRa,SAAU,OACVjB,gBAAiB,WAMvB,OAAOgB,GAkCDzX,EAAe+F,qBAAWlI,IAA1BmC,WACR,OACE,sBAAK1E,UAAU,WAAf,UACE,qBAAKA,UAAU,cAAf,SACE,cAAC,KAAD,CACEA,UAAU,mBACV8Y,QAlHc,CACpB,CAAExY,MAAO,SAAUua,MAAO,yBAAgBnQ,MAAO,WACjD,CAAEpK,MAAO,IAAKua,MAAO,mBAAYnQ,MAAO,WACxC,CAAEpK,MAAO,IAAKua,MAAO,8CAAiBnQ,MAAO,WAC7C,CAAEpK,MAAO,IAAKua,MAAO,8BAAgBnQ,MAAO,WAC5C,CAAEpK,MAAO,IAAKua,MAAO,+BAAgBnQ,MAAO,WAC5C,CAAEpK,MAAO,IAAKua,MAAO,0BAAmBnQ,MAAO,YA6GzCpK,MAAOwa,EACPva,SAAQ,uCAAE,WAAOD,EAAOL,GAAd,eAAA9C,EAAA,yDACc,kBAAlB8C,EAAOA,OADH,uBAEN8a,EAAWza,GAFL,SAGY4Y,GAAYrM,IAAZ,+BACQvM,EAAMA,QAJ1B,OAGAf,EAHA,OAMNyE,EAAWzE,EAAIC,KAAKA,KAAKyI,OANnB,2CAAF,wDASR8Q,OAAQyC,MAGXzX,EAAQ3B,KAAI,SAAC6F,GACZ,OACE,sBAAKjI,UAAU,cAAf,UACE,eAAC,KAAD,CAAoBI,GAAI6H,EAAMvJ,IAA9B,UACE,wBACEsB,UAAU,gBACVsN,MAAO4O,EAAYjU,EAAMmE,WACzBxL,QAAS,SAACJ,GAAD,OA1DH,SAACA,EAAG2L,EAAIkQ,GAE1B,OADA7b,EAAEiM,kBACMN,EAAK,IACX,IAAK,IAEHlK,EAAGE,KAAH,oCAAqCka,EAArC,aACA,MACF,IAAK,IAEHpa,EAAGE,KAAH,oCAAqCka,EAArC,aACA,MACF,IAAK,IAEHpa,EAAGE,KAAH,oCAAqCka,EAArC,qBACA,MACF,IAAK,IAIL,IAAK,IACHpa,EAAGE,KAAK,2BAsCgBiP,CAAY5Q,EAAGyH,EAAMmE,UAAWnE,EAAMvJ,MAHxD,SAKGuJ,EAAMvJ,MAET,oBACEsB,UAAU,eACVsN,MAAO,CAAE8O,SAAU,SAAUE,OAAQ,KAFvC,UAIE,iCAASxG,wBAAa7N,EAAMoR,oBAJ9B,UAMA,oBAAGrZ,UAAU,eAAesN,MAAO,CAAE8O,SAAU,WAA/C,UACE,iCAAStG,wBAAa7N,EAAMqR,mBAD9B,aAIF,eAAC,KAAD,CACElZ,GAAI6H,EAAMvJ,IACV4O,MAAO,CACLG,OAAQ,UACRL,WAAY,QACZmP,OAAQ,EACR/E,QAAS,SACTjK,OAAQ,qBAPZ,UAUuB,IAApBtF,EAAMmE,UACL,GAEA,cAAC,KAAD,CACEpM,UAAU,mEACVY,QAAO,sBAAE,4BAAAzD,EAAA,sEACWqf,GAAe3P,IAAf,qBACF5E,EAAMvJ,MAFf,QACDa,EADC,QAICC,KAAKA,KAAKid,SAASrc,IACzB6B,EAAGE,KAAH,mCAC8B5C,EAAIC,KAAKA,KAAKid,SAASrc,KANhD,2CAFX,yCAgBF,cAAC,KAAD,CACEJ,UAAU,mEACVY,QAAO,sBAAE,sBAAAzD,EAAA,sDACPuH,EAAWuD,EAAMvJ,KACjBuD,EAAGE,KAAH,kCAFO,2CAFX,6BASA,cAAC,KAAD,CAAUua,SAAO,SAzDazU,EAAMvJ,YC1LnCie,GATY,WACzB,OACE,sBAAK3c,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,yCACA,cAAC,GAAD,QCsDS4c,GAzDU,WAAO,IACtBlW,EAAkB+D,qBAAWlI,IAA7BmE,cADqB,EAGPjI,mBAAS,IAHF,mBAGtBC,EAHsB,KAGjBC,EAHiB,OAITF,mBAAS,IAJA,mBAItB0N,EAJsB,KAIlB0Q,EAJkB,KAK7B,OACE,8BACE,sBAAK7c,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACG,IACD,qBAAKA,UAAU,aAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACVM,MAAO5B,EACP6B,SAAQ,uCAAE,WAAOC,GAAP,eAAArD,EAAA,6DACRwB,EAAO6B,EAAEC,OAAOH,OADR,SAGUkc,GAAe3P,IAAf,0BACGrM,EAAEC,OAAOH,MADZ,kBAC2B6L,EAD3B,QAHV,OAGF5M,EAHE,OAMRlB,QAAQC,IAAIiB,GACZmH,EAAcnH,EAAIC,KAAKA,KAAKid,UAPpB,2CAAF,sDASRtc,YAAY,2DAIlB,qBAAKH,UAAU,MAAf,SACE,qBAAKA,UAAU,aAAf,SACE,yBACEA,UAAU,eACVM,MAAO6L,EACP5L,SAAQ,uCAAE,WAAOC,GAAP,eAAArD,EAAA,6DACR0f,EAAMrc,EAAEC,OAAOH,OADP,SAEUkc,GAAe3P,IAAf,0BACGnO,EADH,kBACgB8B,EAAEC,OAAOH,MADzB,QAFV,OAEFf,EAFE,OAKRlB,QAAQC,IAAIiB,GACZmH,EAAcnH,EAAIC,KAAKA,KAAKid,UANpB,2CAAF,sDAHV,UAYE,wBAAQnc,MAAM,GAAGwc,UAAQ,EAAzB,2BAGA,wBAAQxc,MAAM,GAAd,kCACA,wBAAQA,MAAM,IAAd,gDACA,wBAAQA,MAAM,IAAd,sCACA,wBAAQA,MAAM,IAAd,sDCiLCyc,GA/NU,WAAO,IAAD,EAE3BtS,qBAAWlI,IADLgE,EADqB,EACrBA,yBAA0BE,EADL,EACKA,WAAYC,EADjB,EACiBA,cAE1CzE,EAAKC,cACT6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIqf,GAAe3P,IAAI,mBAFvB,OAERtN,EAFQ,OAGdmH,EAAcnH,EAAIC,KAAKA,KAAKid,UAHd,gDAKdpe,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDAQfyO,KACC,CAACtG,IAEJ,IAAMsW,EAAgB,uCAAG,WAAOxc,EAAGJ,GAAV,SAAAjD,EAAA,sDACvBqD,EAAEiM,kBACFxK,EAAGE,KAAH,mCAAoC/B,IAFb,2CAAH,wDAKhB6c,EAAoB,SAAC9Q,GACzB,IAAIgB,EACJ,OAAQhB,EAAK,IACX,IAAK,IACHgB,EAAS,2BACT,MACF,IAAK,IACHA,EAAS,qCACT,MACF,IAAK,IACHA,EAAS,8BAKb,OAAOA,GAGH+P,EAAuB,SAAC/Q,GAC5B,IAAIC,EAAY,GAChB,OAAQD,EAAK,IACX,IAAK,IACHC,EAAY,mBACZ,MACF,IAAK,IACHA,EAAY,8CACZ,MACF,IAAK,IACHA,EAAY,8BACZ,MACF,IAAK,IACHA,EAAY,gCACZ,MACF,IAAK,IACHA,EAAY,2BAMhB,OAAOA,GAGH+Q,EAAe,SAAChR,GACpB,IAAIiR,EACJ,OAAQjR,EAAK,IACX,IAAK,IACHiR,EAAM,CACJ7B,OAAQ,OACRhO,OAAQ,kBACR6N,aAAc,MACdE,YAAa,SACbH,gBAAiB,WAEnB,MACF,IAAK,IACHiC,EAAM,CACJ7B,OAAQ,OACRhO,OAAQ,kBACR6N,aAAc,MACdE,YAAa,SACbH,gBAAiB,WAEnB,MACF,IAAK,IACHiC,EAAM,CACJ7B,OAAQ,OACRhO,OAAQ,kBACR6N,aAAc,MACdE,YAAa,SACbH,gBAAiB,WAEnB,MACF,IAAK,IACHiC,EAAM,CACJ7B,OAAQ,OACRhO,OAAQ,kBACR6N,aAAc,MACdE,YAAa,SACbH,gBAAiB,WAEnB,MACF,IAAK,IACHiC,EAAM,CACJ7B,OAAQ,OACRhO,OAAQ,kBACR6N,aAAc,MACdE,YAAa,SACbH,gBAAiB,WAEnB,MACF,IAAK,IACHiC,EAAM,CACJ7B,OAAQ,OACRhO,OAAQ,kBACR6N,aAAc,MACdE,YAAa,SACbH,gBAAiB,WAMvB,OAAOiC,GAGT,OACE,8BACE,sBAAKpd,UAAU,YAAf,UACE,cAAC,GAAD,IACA,mBAAGA,UAAU,2BAAb,SAAyCuG,IACzC,wBAAOvG,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,kDACA,0CACA,kDACA,qCACA,uDACA,6DACA,6DACA,0CAGJ,gCACGyG,EAAWrE,KAAI,SAACqa,GACf,OACE,+BACE,oBAAIzc,UAAU,2BAAd,SAA0Cyc,EAASrc,KACnD,oBAAIJ,UAAU,eAAd,SAA8Byc,EAASY,WACvC,oBAAIrd,UAAU,eAAd,SAA8Byc,EAASa,UACvC,oBAAItd,UAAU,eAAd,SAA8Byc,EAASc,SACvC,oBACEvd,UAAS,uBACgB,IAAvByc,EAASrQ,UACL,eACuB,IAAvBqQ,EAASrQ,UACT,cACA,aANR,SASE,4BAAI6Q,EAAkBR,EAASrQ,eAEjC,qBAAIpM,UAAU,eAAd,UACE,wBACEE,KAAK,SACLoN,MACyB,IAAvBmP,EAASrQ,UACL,CACEmP,OAAQ,OACRhO,OAAQ,kBACR6N,aAAc,MACdE,YAAa,SACblO,WAAY,SAES,IAAvBqP,EAASrQ,UACT,CACEmP,OAAQ,OACRhO,OAAQ,kBACR6N,aAAc,MACdE,YAAa,SACblO,WAAY,OAEd+P,EAAaV,EAASe,YAGN,IAAvBf,EAASrQ,UACN,2BACuB,IAAvBqQ,EAASrQ,UACT,8BACA8Q,EAAqBT,EAASe,aAEpC,qBAAIxd,UAAU,0BAAd,UACG8V,wBAAa2G,EAASgB,UADzB,IACoC,uCAGpC,qBACEzd,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,UAIG,IACuB,IAAvBgP,EAASrQ,UACR,mBACEpM,UAAU,0BACVY,QAAS,SAACJ,GAAD,OAAOwc,EAAiBxc,EAAGic,EAASrc,KAF/C,qBAOA,QA9DGqc,EAASrc,kBC9InBsd,GATc,WAC3B,OACE,sBAAK1d,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,gDACA,cAAC,GAAD,QC8ES2d,GA9EU,SAAC,GAAY,IAAVvd,EAAS,EAATA,GAAS,EACH3B,mBAAS,IADN,mBAC5B0F,EAD4B,KAClBC,EADkB,KAE7BgN,EAAW,uCAAG,4BAAAjU,EAAA,+EAEEqf,GAAe3P,IAAf,6BAAyCzM,IAF3C,OAEVb,EAFU,OAGhB6E,EAAY7E,EAAIC,KAAKA,KAAKoe,kBAHV,gDAKhBvf,QAAQC,IAAI,KAAGC,SALC,yDAAH,qDAQjB,OACE,gCACE,wBACEyB,UAAU,oBACVE,KAAK,SACLU,QAASwQ,EACThG,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,SALF,+BAUA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,SAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,yEACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,eACf,wBAAOA,UAAU,qBAAjB,UACE,gCACE,+BACE,0DACA,oBAAIA,UAAU,aAAd,kCACA,oBAAIA,UAAU,2BAAd,4CAGJ,gCACGmE,EAAS/B,KAAI,SAACyb,GACb,OACE,qBACE7d,UAAU,oDADZ,UAIE,oBAAIA,UAAU,eAAd,SAA8B6d,EAAKC,SACnC,qBAAI9d,UAAU,0BAAd,UACG8V,wBAAa+H,EAAKE,KADrB,UAIA,qBAAI/d,UAAU,2BAAd,UACGwR,yBAAcqM,EAAKG,QADtB,OAEGhL,uBAAY6K,EAAKG,aATfH,EAAKzd,YAgBpB,qBAAKJ,UAAU,sCAAf,SACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QAHf,6BCwHC2S,GArLS,WAAO,IACrB7d,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAFmB,EAIQzD,mBAAS,IAJjB,mBAIrByf,EAJqB,KAITC,EAJS,KAK5BpR,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIqf,GAAe3P,IAAf,0BAAsCzM,IAF1C,OAERb,EAFQ,OAGd4e,EAAc5e,EAAIC,KAAKA,KAAKid,UAHd,gDAKdpe,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAACmR,EAAe/d,IAqBnB,OACE,gCACE,sBAAKJ,UAAU,kBAAf,UACE,wBAAQA,UAAU,uBAAuBY,QAvBhC,WACbqB,EAAGE,KAAK,6BAsBJ,2BAGA,qBAAKnC,UAAU,YAAf,SACE,cAAC,GAAD,CAAkBI,GAAIA,SAI1B,qBAAIJ,UAAU,YAAd,uBAAkCke,EAAWb,YAC7C,uBAAOrd,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,qCACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWZ,aAGzC,qBAAItd,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+CACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWX,YAEzC,qBAAIvd,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,4CACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWE,aAGzC,qBAAIpe,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SACE,mBACEA,UAC2B,IAAzBke,EAAW9R,UAAkB,eAAiB,YAFlD,SAhDc,SAACD,GACzB,IAAIgB,EACJ,OAAQhB,EAAK,IACX,IAAK,IACHgB,EAAS,2BACT,MACF,IAAK,IACHA,EAAS,qCACT,MACF,IAAK,IACHA,EAAS,8BAKb,OAAOA,EAsCM8P,CAAkBiB,EAAW9R,kBAKpC,qBAAIpM,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sDACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWG,gBAGzC,qBAAIre,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,4CACA,qBAAIA,UAAU,aAAd,sBACSwR,yBAAc0M,EAAWI,SADlC,WACiD,IAC9CtL,uBAAYkL,EAAWI,eAG5B,qBAAIte,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sBACA,qBAAIA,UAAU,aAAd,sBACSwR,yBAAc0M,EAAWK,SADlC,WACiD,IAC9CvL,uBAAYkL,EAAWK,eAG5B,qBAAIve,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,uBACA,qBAAIA,UAAU,aAAd,sBACSwR,yBAAc0M,EAAWM,UADlC,WACkD,IAC/CxL,uBAAYkL,EAAWM,gBAG5B,qBAAIxe,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,uCACA,oBAAIA,UAAU,aAAd,SACGke,EAAWO,WACR,WACAjN,yBAAc0M,EAAWO,YACzB,aACAzL,uBAAYkL,EAAWO,YACvB,2CAGR,qBAAIze,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,wCAGA,oBAAIA,UAAU,aAAd,SACGke,EAAWQ,YACR,WACAlN,yBAAc0M,EAAWQ,aACzB,aACA1L,uBAAYkL,EAAWO,YACvB,4CAIR,qBAAIze,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,uCACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWS,cAGzC,qBAAI3e,UAAU,SAAd,UACE,qBAAIA,UAAU,8BAAd,gCACgB,IACW,yBAAxBke,EAAWS,SAAgC,UAAS,cAEvD,qBAAI3e,UAAU,aAAd,UACG8V,wBAAaoI,EAAWU,SAD3B,OAC0C,0CAI5C,qBAAI5e,UAAU,SAAd,UACE,qBAAIA,UAAU,8BAAd,qBAC8B,yBAAxBke,EAAWS,SAAgC,UAAS,WAAO,IADjE,aAIA,qBAAI3e,UAAU,aAAd,UACGke,EAAWW,SADd,QAE2B,yBAAxBX,EAAWS,SAAgC,UAAS,iBAIzD,qBAAI3e,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,qBAAIA,UAAU,aAAd,UACG8V,wBAAaoI,EAAWY,SAD3B,OAC0C,0CAI5C,qBAAI9e,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,qEAGA,qBAAIA,UAAU,aAAd,UACG8V,wBAAaoI,EAAWT,UAD3B,OAC2C,0CAI7C,qBAAIzd,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,wDACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWpN,iBC1KpCiO,GATa,WAC1B,OACE,sBAAK/e,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,2DACA,cAAC,GAAD,QCJSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,sBC0BLmiB,GA1BK,WAAO,IACjBtX,EAAkB+C,qBAAWlI,IAA7BmF,cADgB,EAEFjJ,mBAAS,IAFP,mBAEjBC,EAFiB,KAEZC,EAFY,KAGxB,OACE,8BACE,qBAAKqB,UAAU,aAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACVM,MAAO5B,EACP6B,SAAQ,uCAAE,WAAOC,GAAP,eAAArD,EAAA,6DACRwB,EAAO6B,EAAEC,OAAOH,OADR,SAGU2e,GAAqBpS,IAArB,uBACArM,EAAEC,OAAOH,MADT,SAHV,OAGFf,EAHE,OAORmI,EAAcnI,EAAIC,KAAKA,KAAK0f,UAPpB,2CAAF,sDASR/e,YAAY,2DC2EPgf,GA5FgB,WAAO,IAAD,EACG1U,qBAAWlI,IAAzCkF,EAD2B,EAC3BA,WAAYC,EADe,EACfA,cAChBzF,EAAKC,cAET6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI8hB,GAAqBpS,IAAI,cAF7B,OAGU,QADlBtN,EAFQ,QAGNC,KAAKC,QACXiI,EAAcnI,EAAIC,KAAKA,KAAK0f,UAJhB,gDAOd7gB,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,KACC,CAACtF,IAMJ,OACE,8BACE,sBAAK1H,UAAU,YAAf,UACE,cAAC,GAAD,IACA,wBAAOA,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,yDACA,qCACA,0CACA,2CACA,kDACA,oDACA,oDACA,0CAGJ,gCACGyH,EAAWrF,KAAI,SAACgd,GACf,OACE,qBAAkBpf,UAAU,cAA5B,UACE,oBAAIA,UAAU,eAAd,SAA8Bof,EAAKC,SACnC,oBAAIrf,UAAU,eAAd,SAA8Bof,EAAKE,QACnC,+BACG9N,yBAAc4N,EAAKb,SADtB,OAEGvL,uBAAYoM,EAAKb,YAEpB,+BACG/M,yBAAc4N,EAAKZ,UADtB,OAEGxL,uBAAYoM,EAAKZ,aAEpB,oBAAIxe,UAAU,eAAd,SAA8Bof,EAAKG,eACnC,oBAAIvf,UAAU,eAAd,SAA8Bof,EAAK7F,YACnC,6BACE,oBACEvZ,UACqB,IAAnBof,EAAKhT,UACD,0BACmB,IAAnBgT,EAAKhT,UACL,mCACA,yBANR,iBAUsB,IAAnBgT,EAAKhT,UACF,qBACmB,IAAnBgT,EAAKhT,UACL,kCACA,8CAGR,qBAAIpM,UAAU,eAAesN,MAAO,CAAEG,OAAQ,WAA9C,UACG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OA3DF,SAACA,EAAGJ,GAC7BI,EAAEiM,kBACFxK,EAAGE,KAAH,0CAA2C/B,IAyDTof,CAAmBhf,EAAG4e,EAAKhf,KAF7C,0BAjCKgf,EAAKhf,kBCpCfqf,GATY,WACzB,OACE,sBAAKzf,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,2CACA,cAAC,GAAD,QCwJS0f,GA3JK,WAClB,IAAIzd,EAAKC,cACD9B,EAAOqT,cAAPrT,GAFgB,EAGgB3B,mBAAS,IAHzB,mBAGjBkhB,EAHiB,KAGHC,EAHG,OAIJnhB,mBAAS,KAJL,mBAIjB0N,EAJiB,KAIb0T,EAJa,KAKxB9S,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI8hB,GAAqBpS,IAArB,qBAAuCzM,IAF3C,OAERb,EAFQ,OAGdqgB,EAAgBrgB,EAAIC,KAAKA,KAAK0f,UAC9BW,EAAMtgB,EAAIC,KAAKA,KAAK0f,SAAS9S,UAAY,IAJ3B,gDAMd/N,QAAQC,IAAI,KAAIC,SANF,yDAAH,qDAUfyO,KACC,CAAC5M,EAAIwf,EAAiBC,IAEzB,IAIMC,EAAa,uCAAG,WAAO3T,GAAP,SAAAhP,EAAA,+EAEA8hB,GAAqB/T,IAArB,mBAAqC9K,GAAM,CAAE+L,GAAIA,IAFjD,OAGM,OAHN,OAGV3M,KAAKC,QACXogB,EAAM1T,GAJU,gDAOlB9N,QAAQC,IAAI,KAAIC,SAPE,yDAAH,sDAUnB,OACE,gCACE,sBAAKyB,UAAU,kBAAf,UACE,wBAAQA,UAAU,yBAAyBY,QAjBlC,WACbqB,EAAGE,KAAK,oCAgBJ,2BAIQ,MAAPgK,EACC,wBACEjM,KAAK,SACLF,UAAU,4BACVY,QAAS,kBAAMkf,EAAc,MAH/B,6CAQA,GAGM,MAAP3T,EACC,wBACEjM,KAAK,SACLF,UAAU,2BACVY,QAAS,kBAAMkf,EAAc,MAH/B,oDAQA,MAIJ,qBAAI9f,UAAU,YAAd,kCAAmC2f,EAAavf,MAChD,uBAAOJ,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,qCACA,oBAAIA,UAAU,aAAd,SAA4B2f,EAAaN,YAE3C,qBAAIrf,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+CACA,oBAAIA,UAAU,aAAd,SAA4B2f,EAAaL,WAG3C,qBAAItf,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,uCACA,oBAAIA,UAAU,aAAd,SAA4B2f,EAAaI,WAG3C,qBAAI/f,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,yDAGA,qBAAIA,UAAU,aAAd,UACGwR,yBAAcmO,EAAapB,SAD9B,OAEGvL,uBAAY2M,EAAapB,eAI9B,qBAAIve,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,wDACA,qBAAIA,UAAU,aAAd,UACGwR,yBAAcmO,EAAanB,UAD9B,OAEGxL,uBAAY2M,EAAanB,gBAG9B,qBAAIxe,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,6DACA,qBAAIA,UAAU,aAAd,UACGwR,yBAAcmO,EAAarB,SAD9B,OAEGtL,uBAAY2M,EAAarB,eAI9B,qBAAIte,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,qBAAIA,UAAU,aAAd,UACG,IACD,oBACEA,UACS,MAAPmM,EACI,0BACO,MAAPA,EACA,mCACA,yBANR,iBAUU,MAAPA,EACG,qBACO,MAAPA,EACA,kCACA,kDAKV,qBAAInM,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,8CACA,oBAAIA,UAAU,aAAd,SAA4B2f,EAAaJ,kBAG3C,qBAAIvf,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,8DACA,oBAAIA,UAAU,aAAd,SAA4B2f,EAAaK,cAG3C,qBAAIhgB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,kDACA,oBAAIA,UAAU,aAAd,SAA4B2f,EAAaM,YAG3C,qBAAIjgB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SAA4B2f,EAAapG,wBC3ItC2G,GATmB,WAChC,OACE,sBAAKlgB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,yDACA,cAAC,GAAD,QCJSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,oBC6DLsjB,GA9DG,SAAC,GAAY,IAAV/f,EAAS,EAATA,GACf6B,EAAKC,cACHkM,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,6DACnBqD,EAAEiM,kBADiB,kBAGX2T,GAAa/R,OAAb,eAA4BjO,IAHjB,OAIjB6B,EAAGE,KAAK,kBACRF,EAAGE,KAAK,0BALS,gDAOjB9D,QAAQC,IAAI,KAAIC,SAPC,yDAAH,sDAUlB,OACE,gCACE,mBACEyB,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,SAHF,wBAQA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,SAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,mBAAGA,UAAU,YAAb,uGAKF,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCC6HC+U,GAzKG,SAAC,GAAY,IAAVjgB,EAAS,EAATA,GACf6B,EAAKC,cADmB,EAEJzD,mBAAS,IAFL,mBAErB6hB,EAFqB,KAEfC,EAFe,OAGN9hB,mBAAS,MAHH,mBAGrB+hB,EAHqB,KAGhBC,EAHgB,OAIQhiB,mBAAS,KAJjB,mBAIrBiiB,EAJqB,KAITC,EAJS,OAKQliB,mBAAS,IALjB,mBAKrBkF,EALqB,KAKTC,EALS,OAONnF,mBAAS,IAPH,mBAOrB+M,EAPqB,KAOhBsE,EAPgB,KAQtB9C,EAAS,uCAAG,gCAAA7P,EAAA,+EAEIgU,GAAetE,IAAI,wBAFvB,cAERtN,EAFQ,OAGdqE,EAAcrE,EAAIC,KAAKA,KAAKuI,UAHd,SAKOqY,GAAavT,IAAb,qBAA+BzM,IALtC,OAKRwgB,EALQ,OAMRC,EAAaD,EAAOphB,KAAKA,KAAK6J,OACpCkX,EAAQM,EAAWC,OACnBL,EAAOI,EAAWL,KAClBG,EAAcE,EAAWH,YACzB5Q,EAAO,CACL1P,GAAIA,EACJ0Q,GAAI+P,EAAWC,MACfJ,WAAYG,EAAWH,WACvBF,IAAKK,EAAWL,MAdJ,kDAiBdniB,QAAQC,IAAI,KAAIC,SAjBF,0DAAH,qDAoBTsN,EAAY,uCAAG,WAAOrL,GAAP,eAAArD,EAAA,yDACnBqD,EAAEiM,kBADiB,UAGb+T,EAHa,gCAIGJ,GAAalV,IAAI,OAAQ,CACzC9K,GAAIA,EACJ0Q,GAAIwP,EACJI,WAAYA,EACZF,IAAKA,IARQ,OAUS,OAVT,OAUPhhB,KAAKC,SACLsM,EAAO,CACX3L,GAAIA,EACJ0Q,GAAIwP,EACJI,WAAYA,EACZF,IAAKA,GAEH1iB,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,yBAGT6D,EAAGE,KAAK,kBACRF,EAAGE,KAAK,2BA1BK,uDA8BjB9D,QAAQC,IAAI,KAAIC,SA9BC,yDAAH,sDAkClB,OACE,gCACE,mBACEyB,UAAU,4BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,aACAQ,QAASoM,EAJX,0BASA,qBAAKhN,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,aAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,wDACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,sBAAKtL,UAAU,cAAf,UACE,sBAAKA,UAAU,iCAAf,UACE,uBAAOA,UAAU,mBAAmBiM,QAAO,oBAAe7L,GAA1D,iDAGA,yBACEA,GAAE,oBAAeA,GACjBE,MAAOggB,EACPtgB,UAAU,gBACVO,SAAU,SAACC,GAAD,OAAO+f,EAAQ/f,EAAEC,OAAOH,QAJpC,UAME,wBAAQA,MAAM,GAAGwc,UAAQ,EAAzB,2BAGCnZ,EAAWvB,KAAI,SAAC0O,GACf,OACE,yBAAQxQ,MAAOwQ,EAAG1Q,GAAlB,UACG0Q,EAAGS,KADN,MACeT,EAAGlB,IADlB,MAC0BkB,EAAGY,UADFZ,EAAG1Q,aAOtC,sBAAKJ,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAO,oBAAe7L,GAA7B,6CAGA,yBACEF,KAAK,OACLF,UAAU,eACVM,MAAOogB,EACPtgB,GAAE,oBAAeA,GACjBG,SAAU,SAACC,GAAD,OAAOmgB,EAAcngB,EAAEC,OAAOH,QAL1C,UAOE,wBAAQA,MAAM,IAAd,gCACA,wBAAQA,MAAM,IAAd,4CAIN,qBAAKN,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAO,aAAQ7L,GAAMJ,UAAU,aAAtC,yDAGA,cAAC,KAAD,CACEI,GAAE,aAAQA,GACVE,MAAOkgB,EACPO,iBAAiB,IACjBC,UAAU,IACVhhB,UAAU,0BACVkY,OAAO,KACPE,cAAe,SAAC9X,GACdmgB,EAAOngB,iBAQnB,sBAAKN,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAOqL,EAAarL,IAJ/B,sBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,wCCzGC2V,GAnDO,WAAO,IACnBna,EAAgB2D,qBAAWlI,IAA3BuE,YADkB,EAEJrI,mBAAS,IAFL,mBAEnBC,EAFmB,KAEdC,EAFc,OAGNF,mBAAS,IAHH,mBAGnBqS,EAHmB,KAGfoQ,EAHe,KAI1B,OACE,8BACE,sBAAKlhB,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACG,IACD,qBAAKA,UAAU,aAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACVM,MAAO5B,EACP6B,SAAQ,uCAAE,WAAOC,GAAP,eAAArD,EAAA,6DACRwB,EAAO6B,EAAEC,OAAOH,OADR,SAGU8f,GAAavT,IAAb,+BACQrM,EAAEC,OAAOH,MADjB,kBACgCwQ,EADhC,QAHV,OAGFvR,EAHE,OAORuH,EAAYvH,EAAIC,KAAKA,KAAK6J,QAPlB,2CAAF,sDASRlJ,YAAY,2DAIlB,qBAAKH,UAAU,MAAf,SACE,qBAAKA,UAAU,aAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACVM,MAAOwQ,EACPvQ,SAAQ,uCAAE,WAAOC,GAAP,eAAArD,EAAA,6DACR+jB,EAAM1gB,EAAEC,OAAOH,OADP,SAGU8f,GAAavT,IAAb,+BACQnO,EADR,kBACqB8B,EAAEC,OAAOH,MAD9B,QAHV,OAGFf,EAHE,OAORuH,EAAYvH,EAAIC,KAAKA,KAAK6J,QAPlB,2CAAF,sDASRlJ,YAAY,+DCkEXghB,GAvGQ,WACrB,IAAIlf,EAAKC,cACHqI,EAAWhN,OAAOC,aAAaC,QAAQ,aAFlB,EAGOgN,qBAAWlI,IAArCsE,EAHmB,EAGnBA,SAAUC,EAHS,EAGTA,YAClBiG,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIijB,GAAavT,IAAI,cAFrB,OAGU,QADlBtN,EAFQ,QAGNC,KAAKC,QACXqH,EAAYvH,EAAIC,KAAKA,KAAK6J,QAJd,gDAOdhL,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,KACC,CAAClG,IAOJ,OACE,8BACE,sBAAK9G,UAAU,YAAf,UACE,cAAC,GAAD,IACA,wBAAOA,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,4DACA,kDACA,kDACA,oDACA,0DACA,qDACA,sCACA,qCACA,sDAGJ,gCACG6G,EAASzE,KAAI,SAACiH,GACb,OACE,+BACE,oBAAIrJ,UAAU,2BAAd,SAA0CqJ,EAAOjJ,KACjD,oBAAIJ,UAAU,eAAd,SAA8BqJ,EAAOiU,UACrC,oBAAItd,UAAU,eAAd,SACGwR,yBAAcnI,EAAO+X,WAExB,qBAAIphB,UAAU,eAAd,UACwB,IAArBqJ,EAAO+C,UACN,mBAAGpM,UAAU,2BAEb,mBAAGA,UAAU,qCACZ,IALL,OAOwB,IAArBqJ,EAAO+C,UACJ,0BACA,8BAGN,oBAAIpM,UAAU,eAAd,SAA8BqJ,EAAOgY,UACrC,qBAAIrhB,UAAU,0BAAd,UACG8V,wBAAazM,EAAOoU,UADvB,IACkC,uCAElC,oBAAIzd,UAAU,eAAd,SACyB,IAAtBqJ,EAAOqX,WAAmB,qBAAa,2BAE1C,qBACE1gB,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,UAIG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OA1DA,SAACA,EAAGJ,GAC/BI,EAAEiM,kBACFxK,EAAGE,KAAH,iCAAkC/B,IAwDAkhB,CAAqB9gB,EAAG6I,EAAOjJ,KAFjD,wBAOF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIwB,IAArBpE,EAAO+C,UACN,cAAC,GAAD,CAAWhM,GAAIiJ,EAAOjJ,KACP,OAAbmK,GAAkC,UAAbA,EACvB,cAAC,GAAD,CAAWnK,GAAIiJ,EAAOjJ,KAEtB,OA9CGiJ,EAAOjJ,kB,UC8RjBmhB,GAzUG,WAChB,IAAItf,EAAKC,cADa,EAEEzD,mBAAS,IAFX,mBAEf+iB,EAFe,KAETC,EAFS,OAGEhjB,mBAAS,IAHX,mBAGf6hB,EAHe,KAGTC,EAHS,OAIA9hB,mBAAS,MAJT,mBAIf+hB,EAJe,KAIVC,EAJU,OAKchiB,mBAAS,KALvB,mBAKfiiB,EALe,KAKHC,EALG,OAOUliB,mBAAS,IAPnB,mBAOf2R,EAPe,KAOLC,EAPK,OASgB5R,mBAAS,IATzB,mBASfijB,EATe,KASFC,EATE,OAUcljB,mBAAS,IAVvB,mBAUfkF,EAVe,KAUHC,EAVG,OAWgBnF,oBAAS,GAXzB,mBAWfmjB,EAXe,KAWFC,EAXE,OAacpjB,mBAAS,IAbvB,mBAafqjB,EAbe,KAaFC,EAbE,OAegBtjB,mBAAS,IAfzB,mBAefujB,EAfe,KAeFC,EAfE,KAiBtBlV,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIqf,GAAe3P,IAAI,6BAFvB,OAERtN,EAFQ,OAGdoiB,EAAepiB,EAAIC,KAAKA,KAAKid,UAHf,gDAKdpe,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDAQf2jB,GAEe,uCAAG,4BAAA/kB,EAAA,+EAEIgU,GAAetE,IAC/B,oCAHY,OAERtN,EAFQ,OAMdqE,EAAcrE,EAAIC,KAAKA,KAAKuI,UANd,gDASd1J,QAAQC,IAAI,KAAIC,SATF,yDAAH,oDAYf4jB,KACC,IAEH,IAAMC,EAAe,SAACC,EAAIC,EAAMC,GAC9B,IAAIC,EACEC,EAAW,IAAInP,KAAK+O,GAAM,IAAI/O,KAAKgP,GAoBzC,OAnBIG,GAAY,EACdD,EAAW,EACFC,EAAW,GAAKA,IAAa,KACtCD,EAAWD,EAAY,GACdE,GAAY,MAAiBA,IAAa,KACnDD,EAAWD,EAAY,GAEvBE,GAAY,MACZA,IAAa,MAEbD,EAAWD,EAAY,GAEvBE,GAAY,OACZA,IAAa,MAEbD,EAAwB,GAAZD,EAAkB,IACrBE,GAAY,QACrBD,EAAWD,EAAY,GAElBC,GAEHxjB,EAAY,uCAAG,gCAAA7B,EAAA,yDACdqkB,EADc,gBAEjBnR,EAAY,yEACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPiQ,EANO,iBAOjBjQ,EAAY,4FACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,2BAWPmQ,EAXO,iBAYjBnQ,EAAY,gGACZnR,YAAW,WACTmR,EAAY,MACX,KAfc,2BAgBe,IAAvB2R,EAAY3iB,OAhBJ,iBAiBjBgR,EAAY,4FACZnR,YAAW,WACTmR,EAAY,MACX,KApBc,mDAuBG+P,GAAa/iB,KAAK,QAAS,CAC3CyT,GAAIwP,EACJoC,aAAclB,EACdd,WAAYA,EACZF,IAAKA,IA3BQ,QA6BS,QANlBjhB,EAvBS,QA6BPC,KAAKC,SACLkjB,EAAqBpjB,EAAIC,KAAKA,KAAK6J,OAAOjJ,IAC1CwiB,EAAKrjB,EAAIC,KAAKA,KAAK6J,QACtBwZ,QAAU,GAEbb,EAAYjT,QAAZ,uCAAoB,WAAOlN,GAAP,2BAAA1E,EAAA,sEACUqf,GAAe3P,IAAf,yBACRhL,EAAKvB,QAFP,cACZwiB,EADY,OAIZC,EAAKD,EAActjB,KAAKA,KAAKid,SAE7BuG,EAAYlQ,SAASiQ,EAAGnE,SAAW9L,SAASiQ,EAAGlE,UACjD2D,EAAWJ,EAAaW,EAAGvE,SAAUuE,EAAGrE,YAAasE,GACnDvF,EAAW3K,SAASiQ,EAAGtF,UAAYuF,EACnClE,EAAUiE,EAAGjE,QATD,UAWUsB,GAAa/iB,KAAK,iBAAkB,CAC9D4lB,UAAWN,EACXO,YAAarhB,EAAKvB,MAClBkiB,SAAUA,EACV/E,SAAUA,EACVqB,QAASA,IAhBO,WAkBgB,QAP5BqE,EAXY,QAkBA3jB,KAAKC,OAlBL,wBAmBhBmjB,EAAGC,QAAQ1gB,KAAKghB,EAAc3jB,KAAKA,KAAK4jB,gBAnBxB,UAoBVlK,GAAYhO,IAAI,aAAc,CAClCxM,IAAKmD,EAAKgZ,MACVzO,UAAW,IAtBG,QAwBhBnK,EAAGE,KAAH,iCAAkCwgB,IAxBlB,4CAApB,uDA2BA1lB,EAAW,CACTW,MAAO,WACPI,QAAS,GACTE,QAAS,CAAE8N,IAAK4W,GAChBxkB,IAAK,0BAjEM,mDAqEfC,QAAQC,IAAI,KAAIC,SArED,2DAAH,qDA0EZ8kB,EAAgB,uCAAG,WAAO7iB,GAAP,iBAAArD,EAAA,6DACvBskB,EAAQjhB,EAAEC,OAAOH,OADM,kBAGHkc,GAAe3P,IAAf,6BACMrM,EAAEC,OAAOH,QAJZ,OAMiB,KAHhCf,EAHe,QAMbC,KAAKA,KAAKid,SAASpd,QACzBgR,EAAY,+FACZnR,YAAW,WACTmR,EAAY,MACX,KACHwR,GAAe,KAEfI,EAAe,IACfJ,GAAe,GACT/I,EAAU,GAChBvZ,EAAIC,KAAKA,KAAKid,SAAS1N,SAAQ,SAAClN,GAC9B,IAAMuV,EAAS,CACbyD,MAAOhZ,EAAKwb,SACZ/c,MAAOuB,EAAKzB,GAAK,GACjB0c,SAA4B,IAAlBjb,EAAK2b,UAEjB1E,EAAQ3W,KAAKiV,MAEf2K,EAAajJ,IAxBM,gDA2BrBza,QAAQC,IAAI,KAAIC,SA3BK,yDAAH,sDA8BtB,OACE,8BACE,8BACE,qBAAKyB,UAAU,aAAf,SACE,qBAAKI,GAAG,YAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,aAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,iBACZiF,gBAAc,QACdC,gBAAc,gBACdjD,MAAO,CAAEG,OAAQ,WANnB,+CAYJ,qBACErN,GAAG,gBACHJ,UAAU,WACVwQ,kBAAgB,aAChBC,cAAY,aAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAb,UACE,sBAAKD,UAAU,WAAf,UACE,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,uBACEA,UAAU,mBACViM,QAAQ,cAFV,8BAMA,yBACE7L,GAAG,cACHE,MAAOkhB,EACPxhB,UAAU,gBACVO,SAAU,SAACC,GAAD,OAAO6iB,EAAiB7iB,IAJpC,UAME,wBAAQF,MAAM,GAAGwc,UAAQ,EAAzB,2BAGC4E,EAAYtf,KAAI,SAACkhB,GAChB,OACE,yBAAQhjB,MAAOgjB,EAAGC,MAAlB,UACGD,EAAGhG,QADN,MACkBgG,EAAG/F,SADS+F,EAAGC,kBAQ3C,qBAAKvjB,UAAU,QAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,uBACEA,UAAU,mBACViM,QAAQ,aAFV,iDAMA,yBACE7L,GAAG,aACHE,MAAOggB,EACPtgB,UAAU,gBACVO,SAAU,SAACC,GAAD,OAAO+f,EAAQ/f,EAAEC,OAAOH,QAJpC,UAME,wBAAQA,MAAM,GAAGwc,UAAQ,EAAzB,2BAGCnZ,EAAWvB,KAAI,SAAC0O,GACf,OACE,yBAAQxQ,MAAOwQ,EAAG1Q,GAAlB,UACG0Q,EAAGS,KADN,MACeT,EAAGlB,IADlB,MAC0BkB,EAAGY,UADFZ,EAAG1Q,kBAU1C,sBAAKJ,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,6CAGA,yBACE/L,KAAK,OACLF,UAAU,eACVM,MAAOogB,EACPtgB,GAAG,aACHG,SAAU,SAACC,GAAD,OAAOmgB,EAAcngB,EAAEC,OAAOH,QAL1C,UAOE,wBAAQA,MAAM,IAAd,gCACA,wBAAQA,MAAM,IAAd,4CAIN,qBAAKN,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,MAAf,yDACA,cAAC,KAAD,CACE7L,GAAG,MACHE,MAAOkgB,EACPO,iBAAiB,IACjBC,UAAU,IACVhhB,UAAU,0BACVkY,OAAO,KACPE,cAAe,SAAC9X,GACdmgB,EAAOngB,cAMjB,sBAAKN,UAAU,cAAf,UACE,uBAAOiM,QAAQ,aAAf,iDACA,cAAC,KAAD,CACE6Q,SAAU8E,EACV9I,QAASgJ,EACTxhB,MAAO0hB,EACPzhB,SAAU0hB,EACVuB,WAAW,aACXC,gBAAiB,CACfC,oBAAqB,sEACrBC,YAAa,0BACbC,UAAW,8BACXC,OAAQ,uBACRC,UAAW,6BACXC,gBAAiB,qBAKvB,mBAAG/jB,UAAU,mBAAb,SAAiCoQ,IACjC,wBACElQ,KAAK,SACLF,UAAU,6BACVY,QAAS5B,EAHX,8DCnTLglB,GAVI,WACjB,OACE,sBAAKhkB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,kDACA,cAAC,GAAD,IACA,cAAC,GAAD,QCmFSikB,GAtFG,SAAC,GAAkB,IAAhB7jB,EAAe,EAAfA,GAAI8jB,EAAW,EAAXA,KACnBjiB,EAAKC,cACHiiB,EAAe,uCAAG,WAAO3jB,GAAP,SAAArD,EAAA,6DACtBqD,EAAEiM,kBADoB,kBAIC2T,GAAalV,IAAI,aAAc,CAClD9K,GAAIA,EACJgM,UAAW,IANO,OAQO,OARP,OAQT5M,KAAKC,SACdykB,EAAKnV,QAAL,uCAAa,WAAOlN,GAAP,eAAA1E,EAAA,sEACUqf,GAAe3P,IAAf,0BACAhL,EAAKqhB,cAFf,UAIgB,QAHrBkB,EADK,QAIA5kB,KAAKC,OAJL,gCAKH+c,GAAetR,IAAI,aAAc,CACrC9K,GAAIgkB,EAAO5kB,KAAKA,KAAKid,SAASrc,GAC9BgM,UAAW,IAPJ,uBASH8M,GAAYhO,IAAI,aAAc,CAClCxM,IAAK0lB,EAAO5kB,KAAKA,KAAKid,SAASY,SAC/BjR,UAAW,IAXJ,2CAAb,uDAeAnP,EAAW,CACTW,MAAO,gBACPI,QAAS,CAAEwN,IAAK,CAAEpL,OAClBlC,QAAS,CAAE8N,IAAK,CAAE5L,OAClBhC,IAAK,yBAEP6D,EAAGE,KAAK,2BA9BU,gDAiCpB9D,QAAQC,IAAI,KAAIC,SAjCI,yDAAH,sDAoCrB,OACE,gCACE,wBACE2B,KAAK,SACLF,UAAU,sBACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,aAJF,2BASA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,aAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,2FAEF,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO2jB,EAAgB3jB,IAJlC,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCmFC+Y,GAxJM,SAAC,GAAmB,IAAjBjkB,EAAgB,EAAhBA,GAAI6H,EAAY,EAAZA,MAAY,EACUxJ,mBAAS,IADnB,mBAC/B6lB,EAD+B,KACbC,EADa,KAEhCnT,EAAW,uCAAG,4BAAAjU,EAAA,+EAEEqf,GAAe3P,IAAf,0BAAsCzM,IAFxC,OAEVb,EAFU,OAGhBglB,EAAoBhlB,EAAIC,KAAKA,KAAKid,UAHlB,gDAKhBpe,QAAQC,IAAI,KAAGC,SALC,yDAAH,qDAQjB,OACE,gCACE,wBACE2B,KAAK,SACLF,UAAU,wBACVY,QAASwQ,EACThG,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,WALF,+BAUA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,WAAnC,SACE,qBAAKJ,UAAU,8CAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,qBAAIA,UAAU,eAAd,wEACqC,4BAAIiI,OAEzC,wBAAQ/H,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,eACf,uBAAOA,UAAU,qBAAjB,SACE,kCACE,qBAAIA,UAAU,cAAd,UACE,oBAAIA,UAAU,8BAAd,sDAGA,oBAAIA,UAAU,aAAd,SAA4BskB,EAAiBjG,gBAE/C,qBAAIre,UAAU,cAAd,UACE,oBAAIA,UAAU,8BAAd,4CAGA,qBAAIA,UAAU,aAAd,sBACSwR,yBAAc8S,EAAiBhG,SADxC,WACuD,IACpDtL,uBAAYsR,EAAiBhG,eAGlC,qBAAIte,UAAU,cAAd,UACE,oBAAIA,UAAU,8BAAd,sBACA,qBAAIA,UAAU,aAAd,sBACSwR,yBAAc8S,EAAiB/F,SADxC,WACuD,IACpDvL,uBAAYsR,EAAiB/F,eAGlC,qBAAIve,UAAU,cAAd,UACE,oBAAIA,UAAU,8BAAd,uBACA,qBAAIA,UAAU,aAAd,sBACSwR,yBAAc8S,EAAiB9F,UADxC,WACwD,IACrDxL,uBAAYsR,EAAiB9F,gBAGlC,qBAAIxe,UAAU,cAAd,UACE,oBAAIA,UAAU,8BAAd,uCAGA,oBAAIA,UAAU,aAAd,SACGskB,EAAiB7F,WACd,WACAjN,yBAAc8S,EAAiB7F,YAC/B,aACAzL,uBAAYsR,EAAiB7F,YAC7B,2CAGR,qBAAIze,UAAU,cAAd,UACE,oBAAIA,UAAU,8BAAd,wCAGA,oBAAIA,UAAU,aAAd,SACGskB,EAAiB5F,YACd,WACAlN,yBAAc8S,EAAiB5F,aAC/B,aACA1L,uBAAYsR,EAAiB7F,YAC7B,4CAIR,qBAAIze,UAAU,cAAd,UACE,oBAAIA,UAAU,8BAAd,uCAGA,oBAAIA,UAAU,aAAd,SAA4BskB,EAAiB3F,cAG/C,qBAAI3e,UAAU,cAAd,UACE,qBAAIA,UAAU,8BAAd,gCACgB,IACiB,yBAA9BskB,EAAiB3F,SACd,UACA,cAEN,qBAAI3e,UAAU,aAAd,UACG8V,wBAAawO,EAAiB1F,SADjC,OACgD,0CAIlD,qBAAI5e,UAAU,cAAd,UACE,qBAAIA,UAAU,8BAAd,oBACK,IAC4B,yBAA9BskB,EAAiB3F,SACd,UACA,WAAO,IAJb,aAOA,qBAAI3e,UAAU,aAAd,UACGskB,EAAiBzF,SADpB,QAEiC,yBAA9ByF,EAAiB3F,SACd,UACA,iBAIR,qBAAI3e,UAAU,cAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,qBAAIA,UAAU,aAAd,UACG8V,wBAAawO,EAAiBxF,SADjC,OACgD,0CAIlD,qBAAI9e,UAAU,cAAd,UACE,oBAAIA,UAAU,8BAAd,qEAGA,qBAAIA,UAAU,aAAd,UACG8V,wBAAawO,EAAiB7G,UADjC,OACiD,0DC3EpD+G,GAtEW,SAAC,GAAmB,IAAjBpkB,EAAgB,EAAhBA,GAAI6H,EAAY,EAAZA,MAAY,EACXxJ,mBAAS,IADE,mBACpC0F,EADoC,KAC1BC,EAD0B,KAErCgN,EAAW,uCAAG,4BAAAjU,EAAA,+EAEEqf,GAAe3P,IAAf,sCAAkDzM,IAFpD,OAEVb,EAFU,OAGhB6E,EAAY7E,EAAIC,KAAKA,KAAKoe,kBAHV,gDAKhBvf,QAAQC,IAAI,KAAGC,SALC,yDAAH,qDAQjB,OACE,gCACE,wBACE2B,KAAK,SACLF,UAAU,oBACVY,QAASwQ,EACThG,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,SALF,mCAUA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,SAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAIA,UAAU,cAAd,gFACiC,4BAAIiI,OAErC,wBAAQ/H,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,eACf,wBAAOA,UAAU,qBAAjB,UACE,gCACE,+BACE,0DACA,oBAAIA,UAAU,aAAd,kCACA,oBAAIA,UAAU,2BAAd,0CAGJ,gCACGmE,EAAS/B,KAAI,SAACyb,GACb,OACE,qBACE7d,UAAU,oDADZ,UAIE,oBAAIA,UAAU,eAAd,SAA8B6d,EAAK4G,UACnC,qBAAIzkB,UAAU,0BAAd,UACG8V,wBAAa+H,EAAKE,KADrB,UAIA,oBAAI/d,UAAU,2BAAd,SACG6d,EAAK6G,YARH7G,EAAK8G,8BCuMjBC,GA9OO,WACpB,IAAI3iB,EAAKC,cAED9B,EAAOqT,cAAPrT,GAHkB,EAIkB3B,mBAAS,IAJ3B,mBAInBomB,EAJmB,KAIHC,EAJG,OAKgBrmB,mBAAS,IALzB,mBAKnBsmB,EALmB,KAKHC,EALG,OAMYvmB,oBAAS,GANrB,mBAMnBwmB,EANmB,KAMNC,EANM,KAO1BnY,qBAAU,YACO,uCAAG,8BAAA5P,EAAA,+EAEOijB,GAAavT,IAAb,qBAA+BzM,IAFtC,cAERwgB,EAFQ,OAGdkE,EAAkBlE,EAAOphB,KAAKA,KAAK6J,QAHrB,SAKO+W,GAAavT,IAAb,kCAA4CzM,IALnD,OAKRgkB,EALQ,OAMdY,EAAgBZ,EAAO5kB,KAAKA,KAAK4jB,gBANnB,kDAQd/kB,QAAQC,IAAI,KAAIC,SARF,0DAAH,qDAYfyO,KACC,CAAC8X,EAAmB1kB,EAAI4kB,IAoB3B,OACE,sBAAKhlB,UAAU,OAAf,UACE,qBAAKA,UAAWilB,EAAc,MAAQ,aAAtC,SACGF,EAAe3iB,KAAI,SAAC+iB,GACnB,OACE,qBAAKnlB,UAAU,QAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,cAAd,uBAAoCmlB,EAAKld,WAE3C,qBAAKjI,UAAU,aAAf,SACE,qBAAIA,UAAU,8BAAd,UACE,qBAAIA,UAAU,kBAAd,mCACc,iCAAS8V,wBAAaqP,EAAK3C,YAAoB,IAD7D,SAIA,qBAAIxiB,UAAU,kBAAd,yCACyB,IACvB,iCAAS8V,wBAAaqP,EAAKrG,WAF7B,UAIA,qBAAI9e,UAAU,kBAAd,mCACc,iCAAS8V,wBAAaqP,EAAK1H,YAAoB,IAD7D,MAGE,8BACE,kIAKR,sBAAKzd,UAAU,qDAAf,UACE,cAAC,GAAD,CAAcI,GAAI+kB,EAAKjC,YAAajb,MAAOkd,EAAKld,QAChD,cAAC,GAAD,CAAmB7H,GAAI+kB,EAAKjC,YAAajb,MAAOkd,EAAKld,eA1B/Bkd,EAAK/kB,SAkCvC,sBAAKJ,UAAU,kBAAf,UACE,wBAAQA,UAAU,oBAAoBY,QA1D7B,WACbqB,EAAGE,KAAK,2BAyDJ,2BAGA,wBACEjC,KAAK,SACLF,UACEilB,EAAc,yBAA2B,uBAE3CrkB,QAAS,SAACJ,GAAD,OAAO0kB,GAAgBD,IALlC,SAOGA,EAAc,eAAS,0BAEI,IAA7BJ,EAAezY,UACd,cAAC,GAAD,CAAWhM,GAAIA,EAAI8jB,KAAMa,IAEzB,GAEF,wBACE/kB,UAAU,oBACVY,QAAS,WACPrD,OAAOsC,SAASiL,KAAhB,iCAAiD1K,EAAjD,QAHJ,yCAUF,oBAAIJ,UAAU,OAAd,+CACA,uBAAOA,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,8BACA,oBAAIA,UAAU,aAAd,SAA4B6kB,EAAevH,aAE7C,qBAAItd,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SACE,iCA3FkB,SAACmM,GAC7B,IAAIgB,EAAS,GACb,OAAQhB,EAAK,IACX,IAAK,IACHgB,EAAS,2BACT,MACF,IAAK,IACHA,EAAS,0BAKb,OAAOA,EA+EYiY,CAAsBP,EAAezY,kBAIlD,qBAAIpM,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,mDACA,qBAAIA,UAAU,aAAd,sBACSwR,yBAAcqT,EAAezD,SADtC,WACqD,IAClDpO,uBAAY6R,EAAezD,eAIhC,qBAAIphB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sCACA,oBAAIA,UAAU,aAAd,SAA4B6kB,EAAexD,aAG7C,qBAAIrhB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,6CAGA,oBAAIA,UAAU,aAAd,SACiC,IAA9B6kB,EAAenE,WAAmB,qBAAa,8BAIpD,qBAAI1gB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,qDAGA,qBAAIA,UAAU,aAAd,UACE,iCAAS8V,wBAAa+O,EAAetC,aADvC,aAKF,qBAAIviB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,4DAGA,qBAAIA,UAAU,aAAd,UACE,iCAAS8V,wBAAa+O,EAAeQ,WADvC,aAIF,qBAAIrlB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,2CACA,qBAAIA,UAAU,aAAd,UACE,iCAAS8V,wBAAa+O,EAAeS,YADvC,aAIF,qBAAItlB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sCACA,qBAAIA,UAAU,aAAd,UACE,iCACG8V,wBACEhD,SAAS+R,EAAerE,KACvB1N,SAAS+R,EAAetC,WACxB,OAEI,IAPZ,YAWF,qBAAIviB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,yDAGA,qBAAIA,UAAU,aAAd,UACE,iCAAS8V,wBAAa+O,EAAepH,YADvC,kBAON,+DACA,uBAAOzd,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,qCACA,oBAAIA,UAAU,aAAd,SAA4B6kB,EAAevH,aAE7C,qBAAItd,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+CACA,oBAAIA,UAAU,aAAd,SACG8V,wBAAa+O,EAAetH,aAGjC,qBAAIvd,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,4CACA,oBAAIA,UAAU,aAAd,SACG8V,wBAAa+O,EAAezG,mBAMrC,kFACA,uBAAOpe,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,oCACA,oBAAIA,UAAU,aAAd,SAA4B6kB,EAAexD,aAE7C,qBAAIrhB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+CACA,oBAAIA,UAAU,aAAd,SACG8V,wBAAa+O,EAAeU,aAGjC,qBAAIvlB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,2DAGA,oBAAIA,UAAU,aAAd,SAA4B6kB,EAAeW,yBCtOxCC,GATW,WACxB,OACE,sBAAKzlB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,6DACA,cAAC,GAAD,QCJSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,uBCiHL6oB,GA/GM,SAAC,GAAsB,IAApBtlB,EAAmB,EAAnBA,GAAImR,EAAe,EAAfA,KAAM+R,EAAS,EAATA,GAC5BrhB,EAAKC,cAEDgF,EAA0BuD,qBAAWlI,IAArC2E,sBAHiC,EAILzI,oBAAS,GAJJ,mBAIlCknB,EAJkC,KAItBC,EAJsB,OAKLnnB,oBAAS,GALJ,mBAKlConB,EALkC,KAKtBC,EALsB,KAOnCC,EAAS,uCAAG,sBAAA5oB,EAAA,+EAEO6oB,GAAgBnZ,IAAhB,yBAAsCzM,IAF7C,aAI2B,MAJ3B,OAIHZ,KAAKA,KAAKymB,UAAU9X,MAC7ByX,GAAc,GAEdA,GAAc,GAPF,SAUOI,GAAgBnZ,IAAhB,2BAAwCzM,IAV/C,OAY2B,MAZ3B,OAYHZ,KAAKA,KAAKymB,UAAU9X,MAC7B2X,GAAc,GAEdA,GAAc,GAfF,kDAkBdznB,QAAQC,IAAI,KAAIC,SAlBF,0DAAH,qDAqBT6P,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,yDACnBqD,EAAEiM,mBAEEkZ,IAAcE,EAHC,0CAKGG,GAAgB3X,OAAhB,eAA+BjO,IALlC,OAOE,KAPF,OAOPZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAK8X,GAChBplB,QAAS,GACTE,IAAK,qBAEP8I,EAAsB,2BACtBhI,YAAW,WACTgI,EAAsB,MACrB,KAEHjF,EAAGE,KAAK,YACRF,EAAGE,KAAK,wBApBK,gDAuBf9D,QAAQC,IAAI,KAAIC,SAvBD,gCA0BjBiQ,MACE,4KA3Be,yDAAH,sDA+BlB,OACE,gCACE,mBACExO,UAAU,0BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,SACAQ,QAASmlB,EAJX,wBASA,qBAAK/lB,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,SAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,oBAAGA,UAAU,YAAb,8DAC0B,IACxB,uBAAMA,UAAU,mBAAhB,cAAqCuR,EAArC,OAFF,mBAMF,sBAAKvR,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCCC4a,GAjGW,WACxB,IAAIjkB,EAAKC,cACD+E,EAAuBwD,qBAAWlI,IAAlC0E,mBAFsB,EAGNxI,mBAAS,IAHH,mBAGvB0nB,EAHuB,KAGjBC,EAHiB,KAI9BrZ,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI6oB,GAAgBnZ,IAAI,cAFxB,OAERtN,EAFQ,OAGd6mB,EAAQ7mB,EAAIC,KAAKA,KAAKymB,WAHR,gDAKd5nB,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDAQfyO,KACC,IAEH,IAAMzC,EAAWhN,OAAOC,aAAaC,QAAQ,aAM7C,OACE,8BACE,sBAAKuC,UAAU,YAAf,UACE,mBAAGA,UAAU,eAAb,SAA6BiH,IAC7B,wBAAOjH,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,yDACA,gDACA,mEACA,gEACA,mDACA,8CACA,qCACA,6CAGJ,gCACGmmB,EAAK/jB,KAAI,SAAC6jB,GACT,OACE,qBAAuBjmB,UAAU,cAAjC,UACE,oBAAIA,UAAU,eAAd,SAA8BimB,EAAUvnB,MACxC,oBAAIsB,UAAU,eAAd,SAC0B,IAAvBimB,EAAUnU,SACP,MACuB,IAAvBmU,EAAUnU,SACV,UACA,QAEN,oBAAI9R,UAAU,eAAd,SAA8BimB,EAAUrW,MACxC,oBAAI5P,UAAU,2BAAd,SACG8V,wBAAamQ,EAAU/T,QAG1B,oBAAIlS,UAAU,eAAd,SAA8BimB,EAAUvU,UACxC,oBAAI1R,UAAU,eAAd,SACGimB,EAAUI,qBAGb,qBACErmB,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,UAIG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OAlDJ,SAACA,EAAGJ,GAC3BI,EAAEiM,kBACFxK,EAAGE,KAAH,8BAA+B/B,IAgDGkmB,CAAiB9lB,EAAGylB,EAAU7lB,KAFhD,wBAOF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIgB,OAAblD,GAAkC,UAAbA,EACpB,cAAC,GAAD,CACEnK,GAAI6lB,EAAU7lB,GACdmR,KAAM0U,EAAUvnB,IAChB4kB,GAAI2C,IAGN,OA1CGA,EAAU7lB,kBCpCpBmmB,GATQ,WACrB,OACE,sBAAKvmB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,2CACA,cAAC,GAAD,QCJSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,oBC0GL2pB,GAxGG,SAAC,GAAgB,IAAdpmB,EAAa,EAAbA,GAAIqmB,EAAS,EAATA,GAAS,EAE9Bhc,qBAAWlI,IADLqC,EADwB,EACxBA,0BAA2BL,EADH,EACGA,SAAUC,EADb,EACaA,YAGzCvC,EAAKC,cAJuB,EAKNzD,oBAAS,GALH,mBAKzBsS,EALyB,KAKlBC,EALkB,KAM1BhE,EAAS,uCAAG,sBAAA7P,EAAA,+EAEIupB,GAAa7Z,IAAb,6BAAuC4Z,EAAGrmB,KAF9C,OAGqB,MAHrB,OAGNZ,KAAKA,KAAK6I,OAAO8F,MACvB6C,GAAS,GAETA,GAAS,GANG,gDASd3S,QAAQC,IAAI,KAAIC,SATF,yDAAH,qDAaT6P,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,yDACnBqD,EAAEiM,mBACEsE,EAFe,0CAIG2V,GAAarY,OAAb,uBAAoCoY,EAAGrmB,KAJ1C,OAME,KANF,OAMPZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAKib,GAChBvoB,QAAS,GACTE,IAAK,oBAEPwG,EAA0B,2BAC1B1F,YAAW,WACT0F,EAA0B,MACzB,KACHJ,EACED,EAAS+J,QAAO,SAACjG,GACf,OAAOA,EAAOjI,KAAOA,MAGzB6B,EAAGE,KAAK,kCAtBK,gDAyBf9D,QAAQC,IAAI,KAAIC,SAzBD,gCA4BjBiQ,MACE,qJA7Be,yDAAH,sDAiClB,OACE,gCACE,mBACExO,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmBob,EAAGrmB,GAAtB,OACAQ,QAASoM,EAJX,wBASA,qBAAKhN,UAAU,kBAAkBI,GAAE,YAAOqmB,EAAGrmB,GAAV,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,oBAAGA,UAAU,YAAb,8DAC0B,IACxB,uBAAMA,UAAU,mBAAhB,cAAqCymB,EAAG/nB,IAAxC,OAFF,mBAMF,sBAAKsB,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCXCqb,GA/EO,WAAO,IAAD,EACmBlc,qBAAWlI,IAAhDiC,EADkB,EAClBA,YAAaC,EADK,EACLA,QAASC,EADJ,EACIA,WADJ,EAGJjG,mBAAS,IAHL,mBAGnBC,EAHmB,KAGdC,EAHc,OAIIF,mBAAS,IAJb,mBAInBsF,EAJmB,KAIVC,EAJU,KAuB1B,OAlBA+I,qBAAU,YACY,uCAAG,8BAAA5P,EAAA,+EAED+b,GAAYrM,IAAI,oBAFf,cAEbtN,EAFa,OAGnByE,EAAWzE,EAAIC,KAAKA,KAAKyI,OAHN,SAKEye,GAAa7Z,IAAb,+BACKnO,EADL,kBACkB+F,EADlB,QALF,OAKbmiB,EALa,OASnBpiB,EAAYoiB,EAAOpnB,KAAKA,KAAK6I,QATV,kDAWnBhK,QAAQC,IAAI,KAAIC,SAXG,0DAAH,qDAepBsoB,KACC,CAACriB,EAAa9F,EAAK+F,IAEpB,8BACE,sBAAKzE,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACG,IACD,qBAAKA,UAAU,aAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACVM,MAAO5B,EACP6B,SAAQ,uCAAE,WAAOC,GAAP,eAAArD,EAAA,6DACRwB,EAAO6B,EAAEC,OAAOH,OADR,SAGUomB,GAAa7Z,IAAb,+BACQrM,EAAEC,OAAOH,MADjB,kBACgCmE,EADhC,QAHV,OAGFlF,EAHE,OAMRlB,QAAQC,IAAIiB,GACZiF,EAAYjF,EAAIC,KAAKA,KAAK6I,QAPlB,2CAAF,sDASRlI,YAAY,0DAIlB,qBAAKH,UAAU,MAAf,SACE,qBAAKA,UAAU,aAAf,SACE,yBACEA,UAAU,eACVM,MAAOmE,EACPlE,SAAQ,uCAAE,WAAOC,GAAP,eAAArD,EAAA,6DACRuH,EAAWlE,EAAEC,OAAOH,OADZ,SAEUomB,GAAa7Z,IAAb,+BACQnO,EADR,kBACqB8B,EAAEC,OAAOH,MAD9B,QAFV,OAEFf,EAFE,OAMRiF,EAAYjF,EAAIC,KAAKA,KAAK6I,QANlB,2CAAF,sDAHV,UAYE,wBAAQ/H,MAAM,GAAGwc,UAAQ,EAAzB,mEAGA,wBAAQxc,MAAM,GAAd,kCACCyD,EAAQ3B,KAAI,SAAC6F,GACZ,OACE,wBAAQ3H,MAAO2H,EAAMvJ,IAArB,SACGuJ,EAAMvJ,KADsBuJ,EAAMvJ,qBCuDxCooB,GAtHQ,WAAO,IAAD,EAEzBrc,qBAAWlI,IADLgC,EADmB,EACnBA,SAAUC,EADS,EACTA,YAAaG,EADJ,EACIA,uBAG3B1C,EAAKC,cACT6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIupB,GAAa7Z,IAAI,sBAFrB,OAGU,QADlBtN,EAFQ,QAGNC,KAAKC,QACX+E,EAAYjF,EAAIC,KAAKA,KAAK6I,QAJd,gDAOdhK,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,KACC,CAACxI,IAEJ,IAUMuiB,EAAwB,SAAC5a,GAC7B,IAAIgB,EAAS,GACb,OAAQhB,EAAK,IACX,IAAK,IACHgB,EAAS,oCACT,MACF,IAAK,IACHA,EAAS,oBACT,MACF,IAAK,IACHA,EAAS,qCAKb,OAAOA,GAET,OACE,8BACE,sBAAKnN,UAAU,YAAf,UACE,cAAC,GAAD,IACA,mBAAGA,UAAU,2BAAb,SAAyC2E,IACzC,wBAAO3E,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,wDACA,6CACA,wDACA,oDACA,gDACA,qCACA,0CACA,6CAGJ,gCACGuE,EAASnC,KAAI,SAACiG,GACb,OACE,+BACE,oBAAIrI,UAAU,eAAd,SAA8BqI,EAAO3J,MACrC,oBAAIsB,UAAU,eAAd,SACGwR,yBAAcnJ,EAAO2e,WAExB,qBAAIhnB,UAAU,0BAAd,UACG8V,wBAAazN,EAAO4e,WADvB,IACmC,uCAEnC,oBAAIjnB,UAAU,eAAd,SACG+mB,EAAsB1e,EAAO+D,aAEhC,oBAAIpM,UAAU,eAAd,SAA8BqI,EAAO6e,QACrC,qBACElnB,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,UAIG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OAnEA,SAACA,EAAGJ,GAC/BI,EAAEiM,kBACFxK,EAAGE,KAAH,wCAAyC/B,IAiEP+mB,CAAqB3mB,EAAG6H,EAAOjI,KAFjD,wBAOF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIE,mBACEzN,UAAU,iCACVY,QAAS,SAACJ,GAAD,OAzER,SAACA,EAAGJ,GACvBI,EAAEiM,kBACFxK,EAAGE,KAAH,wCAAyC/B,EAAzC,SAuEkCyL,CAAarL,EAAG6H,EAAOjI,KAFzC,4BAOF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIE,cAAC,GAAD,CAAWrN,GAAIiI,EAAOjI,GAAIqmB,GAAIpe,QAvCzBA,EAAOjI,kBCxEjBtD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,wBCwZLuqB,GA9YI,WAAO,IAAD,EACG3oB,mBAAS,IADZ,mBAChB4oB,EADgB,KACTC,EADS,OAEK7oB,mBAAS,IAFd,mBAEhB+X,EAFgB,KAERC,EAFQ,OAGWhY,mBAAS,IAHpB,mBAGhBwoB,EAHgB,KAGLM,EAHK,OAIO9oB,mBAAS,IAJhB,mBAIhBuoB,EAJgB,KAIPQ,EAJO,OAKG/oB,mBAAS,iBALZ,mBAKhByoB,EALgB,KAKTO,EALS,OAMShpB,mBAAS,IANlB,mBAMhBipB,EANgB,KAMNC,EANM,OAOSlpB,mBAAS,IAPlB,mBAOhBmpB,EAPgB,KAOTC,EAPS,OAQGppB,mBAAS,iBARZ,mBAQhB8P,EARgB,KAQTuZ,EARS,OAUerpB,mBAAS,IAVxB,mBAUhBspB,EAVgB,KAUHC,EAVG,OAWevpB,mBAAS,IAXxB,mBAWhBwpB,EAXgB,KAWHC,EAXG,OAYKzpB,mBAAS,IAZd,mBAYhB0pB,EAZgB,KAYRC,EAZQ,OAaW3pB,mBAAS,IAbpB,mBAahB4pB,EAbgB,KAaLC,EAbK,QAe2B7d,qBAAWlI,IAArD6F,GAfe,GAefA,WAAYxD,GAfG,GAeHA,0BAfG,GAgBSnG,mBAAS,IAhBlB,qBAgBhB2R,GAhBgB,MAgBNC,GAhBM,MAkBjBkY,GAAa,uCAAG,4BAAAprB,EAAA,+EAEAupB,GAAa7Z,IAAI,2BAFjB,OAEZtN,EAFY,OAGlB6oB,EAAUpR,wCAA6BzX,EAAIC,KAAKA,KAAKgpB,aAHnC,gDAKlBnqB,QAAQC,IAAI,KAAIC,SALE,yDAAH,qDAQbkqB,GAAY,uCAAG,4BAAAtrB,EAAA,+EAECurB,GAAgB7b,IAAI,0BAFrB,OAEXtN,EAFW,OAGjB+oB,EAAatR,wCAA6BzX,EAAIC,KAAKA,KAAK6oB,YAHvC,gDAKjBhqB,QAAQC,IAAI,KAAIC,SALC,yDAAH,qDASlBwO,qBAAU,YACS,uCAAG,4BAAA5P,EAAA,+EAEE8Q,GAAiBpB,IAAI,2BAFvB,OAEVtN,EAFU,OAGhB2oB,EAAe3oB,EAAIC,KAAKA,KAAK0O,YAHb,gDAKhB7P,QAAQC,IAAI,KAAIC,SALA,yDAAH,qDAQjBoqB,GAEiB,uCAAG,4BAAAxrB,EAAA,+EAEE+b,GAAYrM,IAAI,oBAFlB,OAEVtN,EAFU,OAGhByoB,EAAezoB,EAAIC,KAAKA,KAAKyI,OAHb,gDAKhB5J,QAAQC,IAAI,KAAIC,SALA,yDAAH,oDAQjBqqB,GAEAL,KAEAE,OACC,CAACT,EAAgBE,EAAgBE,EAAWE,IAE/C,IAAMnR,GAAe,CACnBC,OAAQ,SAACC,EAAUC,GAAX,oBAAC,gBACJD,GADG,IAEN3M,MAAO4M,EAAMC,WAAa,QAAU,SACpCC,QAAS,MAcPqR,GAAkB,uCAAG,WAAOtX,GAAP,eAAApU,EAAA,+EAELurB,GAAgBrrB,KAAK,oBAAqB,CAC1DkU,KAAMA,IAHe,OAEjBhS,EAFiB,OAKvBsoB,EAAetoB,EAAIC,KAAKA,KAAK6oB,UAAUjoB,IACvCnD,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK6oB,WAC9BjqB,IAAK,kCAVgB,gDAavBC,QAAQC,IAAI,KAAMC,SAbK,yDAAH,sDA2BlBuqB,GAAmB,uCAAG,WAAOvX,GAAP,eAAApU,EAAA,+EAENupB,GAAarpB,KAAK,qBAAsB,CACxDkU,KAAMA,IAHgB,OAElBhS,EAFkB,OAKxBtC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAKgpB,YAC9BpqB,IAAK,8BAEPupB,EAAYpoB,EAAIC,KAAKA,KAAKgpB,WAAWpoB,IAXb,gDAaxB/B,QAAQC,IAAI,KAAMC,SAbM,yDAAH,sDAiBnBS,GAAY,uCAAG,4BAAA7B,EAAA,yDACdkqB,EADc,gBAEjBhX,GAAY,gFACZnR,YAAW,WACTmR,GAAY,MACX,KALc,0BAMP4W,EANO,iBAOjB5W,GAAY,gFACZnR,YAAW,WACTmR,GAAY,MACX,KAVc,4BAWR,IAAIjR,KAAK6nB,GAXD,iBAYjB5W,GAAY,8DACZnR,YAAW,WACTmR,GAAY,MACX,KAfc,2BAgBP2W,EAhBO,iBAiBjB3W,GAAY,qFACZnR,YAAW,WACTmR,GAAY,MACX,KApBc,2BAqBE,kBAAV6W,EArBQ,iBAsBjB7W,GAAY,wFACZnR,YAAW,WACTmR,GAAY,MACX,KAzBc,2BA0BE,kBAAV9B,EA1BQ,iBA2BjB8B,GAAY,8EACZnR,YAAW,WACTmR,GAAY,MACX,KA9Bc,2BA+BPmG,EA/BO,iBAgCjBnG,GAAY,oEACZnR,YAAW,WACTmR,GAAY,MACX,KAnCc,2BAoCPqX,EApCO,iBAqCjBrX,GAAY,mFACZnR,YAAW,WACTmR,GAAY,MACX,KAxCc,2BAyCPuX,EAzCO,iBA0CjBvX,GAAY,uFACZnR,YAAW,WACTmR,GAAY,MACX,KA7Cc,mDAgDGqW,GAAarpB,KAAK,gBAAiB,CACnDqB,IAAK+P,GAAgB4Y,GACrB7Q,OAAQA,EACRyQ,UAAWA,EACXD,QAASA,EACT5a,UAAW,EACX8a,MAAOA,EACP6B,UAAW/B,EACXgC,OAAQpB,EACRqB,SAAU1a,EACV2a,cAAexB,IA1DF,QA6DS,QAblBnoB,EAhDS,QA6DPC,KAAKC,SACXxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK6I,QAC9BjK,IAAK,oBAEPgK,GAAW7I,EAAIC,KAAKA,KAAK6I,QACzBzD,GAA0B,6BAC1B1F,YAAW,WACT0F,GAA0B,MACzB,MACH0iB,EAAS,IACTC,EAAa,IACbC,EAAW,IACXC,EAAS,iBACTK,EAAS,iBACTrR,EAAU,IACVgS,KACAF,MAhFa,mDAmFflqB,QAAQC,IAAI,KAAIC,SAnFD,2DAAH,qDAuFlB,OACE,8BACE,qBAAKyB,UAAU,aAAf,SACE,qBAAKI,GAAG,aAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,aAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,kBACZiF,gBAAc,QACdC,gBAAc,iBACdjD,MAAO,CAAEG,OAAQ,WANnB,yCAYJ,qBACErN,GAAG,iBACHJ,UAAU,WACVwQ,kBAAgB,aAChBC,cAAY,cAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,aAAf,UACE,uBAAOiM,QAAQ,YAAf,oCACA,uBACE/L,KAAK,OACLE,GAAG,YACHJ,UAAU,eACVM,MAAO+mB,EACP9mB,SAAU,SAACC,GAAD,OAAO8mB,EAAS9mB,EAAEC,OAAOH,aAGvC,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,oCAUA,cAAC,KAAD,CACE7L,GAAG,QACHE,MAAO2mB,EACPjnB,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdinB,EAAajnB,IAEf+X,KAAK,OACLC,UAAU,WAIhB,qBAAKtY,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,yBACA,uBACE/L,KAAK,OACLE,GAAG,UACHJ,UAAU,eACVO,SAAU,SAACC,GAAD,OAAOgnB,EAAWhnB,EAAEC,OAAOH,QACrCA,MAAO0mB,YAMf,sBAAKhnB,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,cAAf,4CACA,yBACE1L,SAAU,SAACC,GAAD,OAAOinB,EAASjnB,EAAEC,OAAOH,QACnCA,MAAO4mB,EACP9mB,GAAG,cACHJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCiL,EAAY3lB,KAAI,SAAC6F,GAChB,OACE,wBAAwB3H,MAAO2H,EAAMvJ,IAArC,SACGuJ,EAAMvJ,KADIuJ,EAAMvJ,gBAQ7B,qBAAKsB,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,kCACA,yBACE1L,SAAU,SAACC,GAAD,OAAOsnB,EAAStnB,EAAEC,OAAOH,QACnCA,MAAOiO,EACPnO,GAAG,QACHJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCmL,EAAY7lB,KAAI,SAACmM,GAChB,OACE,wBAAuBjO,MAAOiO,EAAMnO,GAApC,SACGmO,EAAM7P,KADI6P,EAAMnO,kBAU/B,sBAAKJ,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,cAAC,YAAD,CACEzM,KAAMgX,EACN+B,OAAQC,KACRjY,SAAU,SAACkY,EAAOF,GAChB,IAAM/Y,EAAO+Y,EAAOG,UACpBjC,EAAUjX,SAUhB,sBAAKQ,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOiM,QAAQ,aAAf,uCACA,cAAC,KAAD,CACE7L,GAAG,aACHuY,aAAW,EACXpY,SAvQO,SAACqY,EAAcC,GAClB,kBAAtBA,EAAW5Y,OACb0nB,EAAY/O,EAAatY,OACM,kBAAtBuY,EAAW5Y,OACpB6oB,GAAoBlQ,EAAatY,OACF,UAAtBuY,EAAW5Y,QACpB0nB,EAAY,KAkQQ7O,QAASqP,EACTpP,OAAQ5B,UAId,sBAAKnX,UAAU,MAAf,UACG,IACD,sBAAKA,UAAU,cAAf,UACE,uBAAOiM,QAAQ,YAAf,2CACA,cAAC,KAAD,CACE7L,GAAG,YACHuY,aAAW,EACXpY,SA/SM,SAACqY,EAAcC,GACjB,kBAAtBA,EAAW5Y,OACb4nB,EAAejP,EAAatY,OACG,kBAAtBuY,EAAW5Y,OACpB4oB,GAAmBjQ,EAAatY,OACD,UAAtBuY,EAAW5Y,QACpB4nB,EAAe,KA0SK/O,QAASuP,EACTtP,OAAQ5B,cAMhB,wBACEjX,KAAK,SACLF,UAAU,4BACVY,QAAS5B,GAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCoQ,sBCnYpC+Y,GAVI,WACjB,OACE,sBAAKnpB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,6CACA,cAAC,GAAD,IACA,cAAC,GAAD,QCNSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,sBCsFLusB,GApFK,SAAC,GAAgB,IAAdhpB,EAAa,EAAbA,GAAIipB,EAAS,EAATA,GAAS,EAEhC5e,qBAAWlI,IADL6C,EAD0B,EAC1BA,4BAA6BP,EADH,EACGA,WAAYC,EADf,EACeA,cAG7C7C,EAAKC,cAEHkM,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,6DACnBqD,EAAEiM,kBADiB,kBAGC6c,GAAejb,OAAf,eAA8BjO,IAH/B,OAKA,KALA,OAKTZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAK6d,GAChBnrB,QAAS,GACTE,IAAK,wCAGPgH,EAA4B,2BAC5BlG,YAAW,WACTkG,EAA4B,MAC3B,KACHN,EACED,EAAWyJ,QAAO,SAAC/F,GACjB,OAAOA,EAASnI,KAAOA,MAG3B6B,EAAGE,KAAK,kCAtBO,gDAyBjB9D,QAAQC,IAAI,KAAIC,SAzBC,yDAAH,sDA4BlB,OACE,gCACE,mBACEyB,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,OAHF,wBAQA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,mBAAGA,UAAU,YAAb,uHAKF,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCC4BCie,GAjGU,WAAO,IAAD,EAE3B9e,qBAAWlI,IADLsC,EADqB,EACrBA,WAAYC,EADS,EACTA,cAAeK,EADN,EACMA,yBAG/BlD,EAAKC,cACT6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEImsB,GAAezc,IAAI,cAFvB,OAGU,QADlBtN,EAFQ,QAGNC,KAAKC,QACXqF,EAAcvF,EAAIC,KAAKA,KAAK+I,UAJhB,gDAOdlK,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,KACC,CAAClI,IAWJ,OACE,8BACE,sBAAK9E,UAAU,YAAf,UACE,mBAAGA,UAAU,2BAAb,SAAyCmF,IACzC,wBAAOnF,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,0EACA,mEACA,kEACA,qDACA,wDACA,qCACA,0CACA,6CAGJ,gCACG6E,EAAWzC,KAAI,SAACmG,GACf,OACE,+BACE,oBAAIvI,UAAU,cAAd,SAA6BuI,EAASihB,UACtC,oBAAIxpB,UAAU,cAAd,SAA6BuI,EAASqH,MACtC,oBAAI5P,UAAU,eAAd,SACGwR,yBAAcjJ,EAASkhB,UAE1B,qBAAIzpB,UAAU,0BAAd,UACG8V,wBAAavN,EAASkV,UADzB,IACoC,uCAEpC,oBAAIzd,UAAU,eAAd,SAA8BuI,EAASmhB,QACvC,qBACE1pB,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,UAIG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OA9CE,SAACA,EAAGJ,GACjCI,EAAEiM,kBACFxK,EAAGE,KAAH,wCAAyC/B,IA4CPupB,CAAuBnpB,EAAG+H,EAASnI,KAFrD,wBAOF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIE,mBACEzN,UAAU,iCACVY,QAAS,SAACJ,GAAD,OApDR,SAACA,EAAGJ,GACvBI,EAAEiM,kBACFxK,EAAGE,KAAH,wCAAyC/B,EAAzC,SAkDkCyL,CAAarL,EAAG+H,EAASnI,KAF3C,4BAOF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIE,cAAC,GAAD,CAAarN,GAAImI,EAASnI,GAAIipB,GAAI9gB,QArC7BA,EAASnI,kBC+KnBwpB,GA9NM,WAAO,IAAD,EACKnrB,mBAAS,IADd,mBAClBorB,EADkB,KACTC,EADS,OAEHrrB,mBAAS,IAFN,mBAElBmR,EAFkB,KAEbC,EAFa,OAGGpR,mBAAS,IAHZ,mBAGlBgrB,EAHkB,KAGVM,EAHU,OAIGtrB,mBAAS,IAJZ,mBAIlB+X,EAJkB,KAIVC,EAJU,OAKDhY,mBAAS,iBALR,mBAKlBurB,EALkB,KAKZC,EALY,OAMCxrB,mBAAS,IANV,mBAMlBoS,EANkB,KAMXgB,EANW,OAQmBpT,mBAAS,IAR5B,mBAQlByrB,EARkB,KAQFC,EARE,OAWvB1f,qBAAWlI,IADL+F,EAViB,EAUjBA,aAAclD,EAVG,EAUHA,4BAVG,EAYO3G,mBAAS,IAZhB,mBAYlB2R,EAZkB,KAYRC,EAZQ,KAczBtD,qBAAU,YACY,uCAAG,4BAAA5P,EAAA,+EAEDgU,GAAetE,IAAI,4BAFlB,OAEbtN,EAFa,OAGnB4qB,EAAkB5qB,EAAIC,KAAKA,KAAKuI,UAHb,gDAKnB1J,QAAQC,IAAI,KAAIC,SALG,yDAAH,qDAQpB6rB,KACC,IAEH,IAAMprB,EAAY,uCAAG,gCAAA7B,EAAA,yDACd0sB,EADc,gBAEjBxZ,EAAY,wGACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPT,EANO,iBAOjBS,EAAY,mIACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,6BAWRT,EAAIvQ,OAAS,IAAMuQ,EAAIvQ,OAAS,IAXxB,iBAYjBgR,EACE,kKAEFnR,YAAW,WACTmR,EAAY,MACX,MAjBc,2BAkBPoZ,EAlBO,iBAmBjBpZ,EAAY,yFACZnR,YAAW,WACTmR,EAAY,MACX,KAtBc,2BAuBPmG,EAvBO,iBAwBjBnG,EAAY,mEACZnR,YAAW,WACTmR,EAAY,MACX,KA3Bc,2BA4BC,kBAAT2Z,EA5BQ,iBA6BjB3Z,EAAY,qEACZnR,YAAW,WACTmR,EAAY,MACX,KAhCc,mDAmCGiZ,GAAejsB,KAAK,QAAS,CAC7CmsB,QAAS/a,GAAgBob,GACzBja,IAAKA,EACL6Z,OAAQA,EACRjT,OAAQA,EACR6T,WAAYL,IAxCC,QA0CS,QAPlBzqB,EAnCS,QA0CPC,KAAKC,SACL6qB,EAAmB/qB,EAAIC,KAAKA,KAAK+I,SACvCtL,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKse,GAChBlsB,IAAK,wCAGDmsB,EAAkB,CACtBnqB,GAAIkqB,EAAiBlqB,GACrBopB,QAASc,EAAiBd,QAC1B5Z,IAAK0a,EAAiB1a,IACtB6Z,OAAQa,EAAiBb,OACzBjT,OAAQ8T,EAAiB9T,OACzBiH,SAAU6M,EAAiB7M,SAC3B+M,KAAMF,EAAiBD,WACvBX,MAAO7Y,GAETvI,EAAaiiB,GACbnlB,EAA4B,6BAC5BlG,YAAW,WACTkG,EAA4B,MAC3B,MACH2kB,EAAU,IACVD,EAAW,IACXja,EAAO,IACP4G,EAAU,IACVwT,EAAQ,kBAtEK,mDAyEf5rB,QAAQC,IAAI,KAAIC,SAzED,2DAAH,qDA8ElB,OACE,8BACE,qBAAKyB,UAAU,aAAf,SACE,qBAAKI,GAAG,eAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,eAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,oBACZiF,gBAAc,QACdC,gBAAc,mBACdjD,MAAO,CAAEG,OAAQ,WANnB,kEAYJ,qBACErN,GAAG,mBACHJ,UAAU,WACVwQ,kBAAgB,eAChBC,cAAY,gBAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,6DACA,uBACE/L,KAAK,OACLE,GAAG,UACHJ,UAAU,eACVM,MAAOupB,EACPtpB,SAAU,SAACC,GAAD,OAAOspB,EAAWtpB,EAAEC,OAAOH,aAGzC,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,+CACA,uBACE/L,KAAK,SACLuqB,IAAI,IACJrqB,GAAG,aACHJ,UAAU,eACVM,MAAOsP,EACPrP,SAAU,SAACC,GAAD,OAAOqP,EAAOrP,EAAEC,OAAOH,eAIvC,qBAAKN,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,8CACA,uBACE/L,KAAK,OACLE,GAAG,SACHJ,UAAU,eACVO,SAAU,SAACC,GAAD,OAAOupB,EAAUvpB,EAAEC,OAAOH,QACpCA,MAAOmpB,YAMf,sBAAKzpB,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,0BACEjM,UAAU,eACVI,GAAG,SACH6P,KAAK,IACL3P,MAAOkW,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAUjW,EAAEC,OAAOH,aAIxC,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,iDACA,yBACE1L,SAAU,SAACC,GACTypB,EAAQzpB,EAAEC,OAAOH,OACjB,IAAI+B,EAAQ7B,EAAEkqB,YAAYjqB,OAAOkqB,cACjC9Y,EAASrR,EAAEkqB,YAAYjqB,OAAO4B,GAAOuoB,OAEvCtqB,MAAO0pB,EACP5pB,GAAG,QACHJ,UAAU,eARZ,UAUE,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCoN,EAAe9nB,KAAI,SAAC2F,GACnB,OACE,wBAA0BzH,MAAOyH,EAAS3H,GAA1C,SACG2H,EAASwJ,MADCxJ,EAAS3H,aAO9B,wBACEF,KAAK,SACLF,UAAU,4BACVY,QAAS5B,EAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCoQ,qBC5MpCya,GAVM,WACnB,OACE,sBAAK7qB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,sDACA,cAAC,GAAD,IACA,cAAC,GAAD,QC4ES8qB,GA/ES,WAAO,IACrB1qB,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAFmB,EAIoBzD,mBAAS,IAJ7B,mBAIrBssB,EAJqB,KAIHC,EAJG,KAKpB7lB,EAA6BsF,qBAAWlI,IAAxC4C,yBAER4H,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEImsB,GAAezc,IAAf,qBAAiCzM,IAFrC,OAERb,EAFQ,OAGdyrB,EAAoBzrB,EAAIC,KAAKA,KAAK+I,UAHpB,gDAKdlK,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAACge,EAAqB5qB,IAQzB,OACE,gCACE,sBAAKJ,UAAU,kBAAf,UACE,wBAAQA,UAAU,uBAAuBY,QAThC,WACbqB,EAAGE,KAAK,kCAQJ,2BAGA,qBAAKnC,UAAU,YAAf,SACE,wBAAQA,UAAU,uBAAuBY,QAV5B,WACnBqB,EAAGE,KAAH,wCAAyC/B,EAAzC,UASM,2BAKJ,mBAAGJ,UAAU,2BAAb,SAAyCmF,IACzC,oBAAInF,UAAU,YAAd,SAA2B+qB,EAAiBrsB,MAC5C,uBAAOsB,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,6DACA,oBAAIA,UAAU,aAAd,SAA4B+qB,EAAiBvB,aAG/C,qBAAIxpB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+CACA,oBAAIA,UAAU,aAAd,SAA4B+qB,EAAiBnb,SAG/C,qBAAI5P,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,8CACA,oBAAIA,UAAU,aAAd,SACGwR,yBAAcuZ,EAAiBtB,aAGpC,qBAAIzpB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,iCACA,qBAAIA,UAAU,aAAd,UACG8V,wBAAaiV,EAAiBtN,UADjC,OACiD,0CAGnD,qBAAIzd,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,wBACA,oBAAIA,UAAU,aAAd,SAA4B+qB,EAAiBvU,YAG/C,qBAAIxW,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,iDACA,oBAAIA,UAAU,aAAd,SAA4B+qB,EAAiBrB,oBCgB1CuB,GAxFW,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,KAAM9qB,EAAqB,EAArBA,GAAU+qB,GAAW,EAAjBC,KAAiB,EAAXD,MAAW,EAEpD1gB,qBAAWlI,IADLwC,EAD8C,EAC9CA,kBAAmBC,EAD2B,EAC3BA,qBAD2B,EAI5BvG,mBAAS,IAJmB,mBAI/C4sB,EAJ+C,KAIxC/D,EAJwC,KAMhDta,EAAS,uCAAG,4BAAA7P,EAAA,+EAEIupB,GAAa7Z,IAAb,6BAAuCqe,IAF3C,OAER3rB,EAFQ,OAGd+nB,EAAS/nB,EAAIC,KAAKA,KAAK6I,OAAO3J,KAHhB,gDAKdL,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDAST6P,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,6DACnBqD,EAAEiM,kBADiB,kBAGC6c,GAAejb,OAAf,wBAAuCjO,IAHxC,OAKA,KALA,OAKTZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAK2f,GAChBjtB,QAAS,GACTE,IAAK,sDAGP4G,EACED,EAAkBuJ,QAAO,SAACgd,GACxB,OAAOA,EAAUlrB,KAAOA,OAfb,gDAoBjB/B,QAAQC,IAAI,KAAIC,SApBC,yDAAH,sDAuBlB,OACE,gCACE,mBACEyB,UAAU,+BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,OACAQ,QAASoM,IAGX,qBAAKhN,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,oBAAGA,UAAU,YAAb,8DAC0B,IACxB,uBAAMA,UAAU,mBAAhB,cAAqCqrB,EAArC,OAFF,mBAMF,sBAAKrrB,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCuDCigB,GA/HW,SAAC,GAAkB,IAAhBnrB,EAAe,EAAfA,GAAIorB,EAAW,EAAXA,KAAW,EAChB/sB,mBAAS,IADO,mBACnCgtB,EADmC,KAC5BC,EAD4B,OAEdjtB,mBAAS,IAFK,mBAEnC+X,EAFmC,KAE3BC,EAF2B,OAGpBhY,mBAAS,IAHW,mBAGnC+M,EAHmC,KAG9BsE,EAH8B,KAKtC7N,EAAKC,cACH8K,EAAS,uCAAG,8BAAA7P,EAAA,+EAEImsB,GAAezc,IAAf,4BAAwCzM,IAF5C,OAGU,QADlBb,EAFQ,QAGNC,KAAKC,SACLksB,EAAoBpsB,EAAIC,KAAKA,KAAKosB,iBACxCnV,EAAUkV,EAAkBnV,QAC5BkV,EAASC,EAAkBF,OAC3B3b,EAAO,CACL1P,GAAIA,EACJqrB,MAAOE,EAAkBF,MACzBjV,OAAQmV,EAAkBnV,UAVhB,gDAcdnY,QAAQC,IAAI,KAAIC,SAdF,yDAAH,qDAkBTsN,EAAY,uCAAG,WAAOrL,GAAP,eAAArD,EAAA,6DACnBqD,EAAEiM,kBADiB,SAIjBpO,QAAQC,IAAI8B,EAAIqrB,EAAOjV,GAJN,SAKC8S,GAAepe,IAAI,gBAAiB,CACpD9K,GAAIA,EACJqrB,MAAOA,EACPjV,OAAQA,IARO,OAUO,OAVP,OAUThX,KAAKC,SACLsM,EAAO,CACX3L,GAAIA,EACJqrB,MAAOA,EACPjV,OAAQA,GAEN1Y,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,sDAGT6D,EAAGE,KAAK,iCACRF,EAAGE,KAAH,wCAAyCqpB,KAzB1B,gDA4BjBntB,QAAQC,IAAI,KAAIC,SA5BC,yDAAH,sDAgClB,OACE,gCACE,mBACEyB,UAAU,qCACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,OACAQ,QAASoM,IAGX,qBAAKhN,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,0EACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,sBAAKtL,UAAU,aAAf,UACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAO,eAAU7L,GAAxB,6CACA,cAAC,KAAD,CACEA,GAAE,eAAUA,GACZE,MAAOmrB,EACPzrB,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdorB,EAASprB,IAEX+X,KAAK,OACLC,UAAU,SAGd,sBAAKtY,UAAU,aAAf,UACE,uBAAOiM,QAAO,gBAAW7L,GAAzB,wBACA,0BACEJ,UAAU,eACVI,GAAE,gBAAWA,GACb6P,KAAK,IACL3P,MAAOkW,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAUjW,EAAEC,OAAOH,gBAK1C,sBAAKN,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAOqL,EAAarL,IAJ/B,sBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCC5CCugB,GAnEgB,WAAO,IAAD,EAEjCphB,qBAAWlI,IADLwC,EAD2B,EAC3BA,kBAAmBC,EADQ,EACRA,qBAGnB5E,EAAOqT,cAAPrT,GAeR,OAdA2M,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEImsB,GAAezc,IAAf,8BAA0CzM,IAF9C,OAGU,QADlBb,EAFQ,QAGNC,KAAKC,QACXuF,EAAqBzF,EAAIC,KAAKA,KAAKosB,kBAJvB,gDAOdvtB,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,KACC,CAAChI,EAAsB5E,IAGxB,qBAAKJ,UAAU,oBAAf,SACG+E,EAAkB3C,KAAI,SAACkpB,GACtB,OACE,sBAEEtrB,UAAU,sBACVsN,MAAO,CAAEuI,MAAO,OAHlB,UAKE,sBAAK7V,UAAU,8CAAf,UACE,6BAAKsrB,EAAU5sB,MACf,uBAAMsB,UAAU,SAAhB,UACE,cAAC,GAAD,CAAmBI,GAAIkrB,EAAUlrB,GAAIorB,KAAMprB,IAC3C,cAAC,GAAD,CACEA,GAAIkrB,EAAUlrB,GACd8qB,KAAMI,EAAUQ,SAChBN,KAAMprB,EACN+qB,KAAMG,UAIZ,sBAAKtrB,UAAU,YAAf,UACE,6CACW,4BAAI8V,wBAAawV,EAAUG,SADtC,UAGA,6CAAaH,EAAU9U,eApBpB8U,EAAUlrB,UCqKZ2rB,GA7LY,WAAO,IAAD,EACLttB,mBAAS,IADJ,mBACxBgtB,EADwB,KACjBC,EADiB,OAEHjtB,mBAAS,IAFN,mBAExB+X,EAFwB,KAEhBC,EAFgB,OAGPhY,mBAAS,iBAHF,mBAGxButB,EAHwB,KAGlBC,EAHkB,OAILxtB,mBAAS,IAJJ,mBAIxB4oB,EAJwB,KAIjBC,EAJiB,OAMS7oB,mBAAS,IANlB,mBAMxBytB,EANwB,KAMVC,EANU,KAQvB3jB,EAAwBiC,qBAAWlI,IAAnCiG,oBARuB,EASC/J,mBAAS,IATV,mBASxB2R,EATwB,KASdC,EATc,KAWvBjQ,EAAOqT,cAAPrT,GACJ6B,EAAKC,cACT6K,qBAAU,YACU,uCAAG,4BAAA5P,EAAA,+EAECupB,GAAa7Z,IAAI,sBAFlB,OAEXtN,EAFW,OAGjB4sB,EAAgB5sB,EAAIC,KAAKA,KAAK6I,QAHb,gDAKjBhK,QAAQC,IAAI,KAAIC,SALC,yDAAH,qDAQlB6tB,KACC,CAACD,IAEJ,IAAMntB,EAAY,uCAAG,gCAAA7B,EAAA,yDACN,kBAAT6uB,EADe,gBAEjB3b,EAAY,0DACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPob,EANO,iBAOjBpb,EAAY,yFACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,2BAWPmG,EAXO,iBAYjBnG,EAAY,oEACZnR,YAAW,WACTmR,EAAY,MACX,KAfc,mDAkBGiZ,GAAejsB,KAAK,iBAAkB,CACtDyuB,SAAUE,EACVP,MAAOA,EACPjV,OAAQA,EACR6V,YAAajsB,IAtBA,QAyBS,QAPlBb,EAlBS,QAyBPC,KAAKC,QACXxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAKosB,kBAC9BxtB,IAAK,sDAGDkuB,EAAmB/sB,EAAIC,KAAKA,KAAKosB,iBACjCW,EAAmB,CACvBnsB,GAAIksB,EAAiBlsB,GACrBqrB,MAAOa,EAAiBb,MACxBjV,OAAQ8V,EAAiB9V,OACzB6V,YAAaC,EAAiBD,YAC9BP,SAAUQ,EAAiBR,SAC3BptB,IAAK2oB,GAEP7e,EAAoB+jB,GACpBJ,EACED,EAAa5d,QAAO,SAACjG,GACnB,OAAOA,EAAOjI,KAAOksB,EAAiBR,aAG1C7pB,EAAGE,KAAK,iCACRF,EAAGE,KAAH,wCAAyC/B,MAEzCiQ,EAAY9Q,EAAIC,KAAKC,QACrBP,YAAW,WACTmR,EAAY,MACX,MAtDU,mDAyDfhS,QAAQC,IAAI,KAAIC,SAzDD,2DAAH,qDA6DlB,OACE,8BACE,qBAAKyB,UAAU,aAAf,SACE,qBAAKI,GAAG,sBAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,sBAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,2BACZiF,gBAAc,QACdC,gBAAc,0BACdjD,MAAO,CAAEG,OAAQ,WANnB,sFAYJ,qBACErN,GAAG,0BACHJ,UAAU,WACVwQ,kBAAgB,sBAChBC,cAAY,uBAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAb,UACE,sBAAKD,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,sDACA,yBACE1L,SAAU,SAACC,GACTyrB,EAAQzrB,EAAEC,OAAOH,OACjB,IAAI+B,EAAQ7B,EAAEkqB,YAAYjqB,OAAOkqB,cACjCrD,EAAS9mB,EAAEkqB,YAAYjqB,OAAO4B,GAAOuoB,OAEvCtqB,MAAO0rB,EACP5rB,GAAG,WACHJ,UAAU,eARZ,UAUE,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCoP,EAAa9pB,KAAI,SAACiG,GACjB,OACE,wBAAwB/H,MAAO+H,EAAOjI,GAAtC,SACGiI,EAAO3J,KADG2J,EAAOjI,eAS9B,qBAAKJ,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,6CACA,cAAC,KAAD,CACE7L,GAAG,QACHE,MAAOmrB,EACPzrB,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdorB,EAASprB,IAEX+X,KAAK,OACLC,UAAU,cAMlB,sBAAKtY,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,0BACEjM,UAAU,eACVI,GAAG,SACH6P,KAAK,IACL3P,MAAOkW,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAUjW,EAAEC,OAAOH,aAIxC,wBACEJ,KAAK,SACLF,UAAU,4BACVY,QAAS5B,EAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCoQ,qBCzKpCoc,GAXa,WAC1B,OACE,sBAAKxsB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,oEACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,QCsNSysB,GAxNK,WAClB,IAAIxqB,EAAKC,cACD9B,EAAOqT,cAAPrT,GAFgB,EAGF3B,mBAAS,IAHP,mBAGjB+M,EAHiB,KAGZsE,EAHY,OAKMrR,mBAAS,IALf,mBAKjBorB,EALiB,KAKRC,EALQ,OAMFrrB,mBAAS,IANP,mBAMjBmR,EANiB,KAMZC,EANY,OAOIpR,mBAAS,IAPb,mBAOjBgrB,EAPiB,KAOTM,EAPS,OAQItrB,mBAAS,IARb,mBAQjB+X,EARiB,KAQTC,EARS,OASAhY,mBAAS,iBATT,mBASjBurB,EATiB,KASXC,EATW,OAWoBxrB,mBAAS,IAX7B,mBAWjByrB,EAXiB,KAWDC,EAXC,KAahB/kB,EAAgCqF,qBAAWlI,IAA3C6C,4BAbgB,EAcQ3G,mBAAS,IAdjB,mBAcjB2R,EAdiB,KAcPC,EAdO,KAgBxBtD,qBAAU,YACY,uCAAG,4BAAA5P,EAAA,+EAEDgU,GAAetE,IAAI,4BAFlB,OAEbtN,EAFa,OAGnB4qB,EAAkB5qB,EAAIC,KAAKA,KAAKuI,UAHb,gDAKnB1J,QAAQC,IAAI,KAAIC,SALG,yDAAH,qDAQpB6rB,GAEe,uCAAG,8BAAAjtB,EAAA,+EAEImsB,GAAezc,IAAf,qBAAiCzM,IAFrC,OAERb,EAFQ,OAGRwrB,EAAmBxrB,EAAIC,KAAKA,KAAK+I,SACvCuhB,EAAWiB,EAAiBvB,SAC5B3Z,EAAOkb,EAAiBnb,KACxB6G,EAAUsU,EAAiBvU,QAC3BuT,EAAUhX,uBAAYgY,EAAiBtB,SACvCQ,EAAQc,EAAiBP,MAEzB1a,EAAO,CACL1P,GAAIA,EACJopB,QAASuB,EAAiBvB,QAC1B5Z,IAAKmb,EAAiBnb,IACtB6Z,OAAQ1W,uBAAYgY,EAAiBtB,QACrCjT,OAAQuU,EAAiBvU,OACzB6T,WAAYU,EAAiBP,OAhBjB,kDAmBdnsB,QAAQC,IAAI,KAAIC,SAnBF,0DAAH,oDAuBfyO,KACC,CAACmd,EAAmB/pB,IAEvB,IAGMyL,EAAY,uCAAG,4BAAA1O,EAAA,yDACd0sB,EADc,gBAEjBxZ,EAAY,wGACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPT,EANO,iBAOjBS,EAAY,mIACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,6BAWRT,EAAIvQ,OAAS,IAAMuQ,EAAIvQ,OAAS,IAXxB,iBAYjBgR,EACE,kKAEFnR,YAAW,WACTmR,EAAY,MACX,MAjBc,2BAkBPoZ,EAlBO,iBAmBjBpZ,EAAY,yFACZnR,YAAW,WACTmR,EAAY,MACX,KAtBc,2BAuBPmG,EAvBO,iBAwBjBnG,EAAY,mEACZnR,YAAW,WACTmR,EAAY,MACX,KA3Bc,mDA8BGiZ,GAAepe,IAAI,OAAQ,CAC3C9K,GAAIA,EACJopB,QAAS/a,GAAgBob,GACzBja,IAAKA,EACL6Z,OAAQA,EACRjT,OAAQA,EACR6T,WAAYL,IApCC,QAsCS,OAtCT,OAsCPxqB,KAAKC,SACLsM,EAAO,CACX3L,GAAIA,EACJopB,QAAS/a,GAAgBob,GACzBja,IAAKA,EACL6Z,OAAQA,EACRjT,OAAQA,EACR6T,WAAYL,GAEVlsB,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,wCAGTgH,EAA4B,8BAC5BlG,YAAW,WACTkG,EAA4B,MAC3B,MACHnD,EAAGE,KAAH,wCAAyC/B,KA3D5B,mDA8Df/B,QAAQC,IAAI,KAAIC,SA9DD,2DAAH,qDAmElB,OACE,8BACE,uBAAM0B,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,6DACA,uBACE/L,KAAK,OACLE,GAAG,UACHJ,UAAU,eACVM,MAAOupB,EACPtpB,SAAU,SAACC,GAAD,OAAOspB,EAAWtpB,EAAEC,OAAOH,aAGzC,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,+CACA,uBACE/L,KAAK,SACLuqB,IAAI,IACJrqB,GAAG,aACHJ,UAAU,eACVM,MAAOsP,EACPrP,SAAU,SAACC,GAAD,OAAOqP,EAAOrP,EAAEC,OAAOH,eAIvC,qBAAKN,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,8CACA,uBACE/L,KAAK,OACLE,GAAG,SACHJ,UAAU,eACVO,SAAU,SAACC,GAAD,OAAOupB,EAAUvpB,EAAEC,OAAOH,QACpCA,MAAOmpB,YAMf,sBAAKzpB,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,0BACEjM,UAAU,eACVI,GAAG,SACH6P,KAAK,IACL3P,MAAOkW,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAUjW,EAAEC,OAAOH,aAIxC,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,iDACA,yBACE1L,SAAU,SAACC,GACTypB,EAAQzpB,EAAEC,OAAOH,QAEnBA,MAAO0pB,EACP5pB,GAAG,QACHJ,UAAU,eANZ,UAQE,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCoN,EAAe9nB,KAAI,SAAC2F,GACnB,OACE,wBAA0BzH,MAAOyH,EAAS3H,GAA1C,SACG2H,EAASwJ,MADCxJ,EAAS3H,aAO9B,mBAAGJ,UAAU,mBAAb,SAAiCoQ,IAEjC,sBAAKpQ,UAAU,kBAAf,UACE,wBACEA,UAAU,uBACVE,KAAK,SACLU,QAASiL,EAHX,sBAOA,wBAAQ7L,UAAU,uBAAuBY,QA1JlC,WACbqB,EAAGE,KAAH,wCAAyC/B,KAyJnC,oCC5MKssB,GATS,WACtB,OACE,sBAAK1sB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,2DACA,cAAC,GAAD,QCJSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,sBCiFL8vB,GAhFK,SAAC,GAAgB,IAAdvsB,EAAa,EAAbA,GAAIwsB,EAAS,EAATA,GAAS,EAEhCniB,qBAAWlI,IADLqD,EAD0B,EAC1BA,4BAA6BP,EADH,EACGA,WAAYC,EADf,EACeA,cAG3C8I,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,6DACnBqD,EAAEiM,kBADiB,kBAGCogB,GAAexe,OAAf,eAA8BjO,IAH/B,OAKA,KALA,OAKTZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAKohB,GAChB1uB,QAAS,GACTE,IAAK,2BAEPwH,EAA4B,2BAC5B1G,YAAW,WACT0G,EAA4B,MAC3B,KACHN,EACED,EAAWiJ,QAAO,SAACse,GACjB,OAAOA,EAAGxsB,KAAOA,OAlBN,gDAuBjB/B,QAAQC,IAAI,KAAIC,SAvBC,yDAAH,sDA0BlB,OACE,gCACE,mBACEyB,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,SAHF,wBAQA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,SAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,mBAAGA,UAAU,YAAb,0GAKF,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCkCCwhB,GAjGU,WAAO,IAAD,EAE3BriB,qBAAWlI,IADL8C,EADqB,EACrBA,WAAYC,EADS,EACTA,cAAeK,EADN,EACMA,yBAG/B1D,EAAKC,cACT6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI0vB,GAAehgB,IAAI,cAFvB,OAGU,QADlBtN,EAFQ,QAGNC,KAAKC,QACX6F,EAAc/F,EAAIC,KAAKA,KAAKuJ,UAJhB,gDAOd1K,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,KACC,CAAC1H,IAWJ,OACE,8BACE,sBAAKtF,UAAU,YAAf,UACE,mBAAGA,UAAU,2BAAb,SAAyC2F,IACzC,wBAAO3F,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,kDACA,wDACA,6CACA,qDACA,4CACA,qCACA,0CACA,6CAGJ,gCACGqF,EAAWjD,KAAI,SAAC2G,GACf,OACE,+BACE,oBAAI/I,UAAU,2BAAd,SAA0C+I,EAAS3I,KACnD,oBAAIJ,UAAU,eAAd,SAA8B+I,EAAS2gB,QACvC,oBAAI1pB,UAAU,eAAd,SACGwR,yBAAczI,EAASie,WAE1B,qBAAIhnB,UAAU,0BAAd,UACG8V,wBAAa/M,EAAS0U,UADzB,IACoC,uCAEpC,oBAAIzd,UAAU,eAAd,SAA8B+I,EAASyN,SACvC,qBACExW,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,UAIG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OA9CE,SAACA,EAAGJ,GACjCI,EAAEiM,kBACFxK,EAAGE,KAAH,yCAA0C/B,IA4CR2sB,CAAuBvsB,EAAGuI,EAAS3I,KAFrD,wBAOF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIE,mBACEzN,UAAU,iCACVY,QAAS,SAACJ,GAAD,OApDR,SAACA,EAAGJ,GACvBI,EAAEiM,kBACFxK,EAAGE,KAAH,yCAA0C/B,EAA1C,SAkDkCyL,CAAarL,EAAGuI,EAAS3I,KAF3C,4BAOF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIE,cAAC,GAAD,CAAarN,GAAI2I,EAAS3I,GAAIwsB,GAAI7jB,QArC7BA,EAAS3I,kBC8HnB4sB,GAhLM,WAAO,IAAD,EACKvuB,mBAAS,IADd,mBAClBuoB,EADkB,KACTQ,EADS,OAEG/oB,mBAAS,IAFZ,mBAElB+X,EAFkB,KAEVC,EAFU,OAGDhY,mBAAS,iBAHR,mBAGlBurB,EAHkB,KAGZC,EAHY,OAICxrB,mBAAS,IAJV,mBAIlBoS,EAJkB,KAIXgB,EAJW,OAMmBpT,mBAAS,IAN5B,mBAMlByrB,EANkB,KAMFC,EANE,OASvB1f,qBAAWlI,IADLuG,EARiB,EAQjBA,aAAclD,EARG,EAQHA,4BARG,EAUOnH,mBAAS,IAVhB,mBAUlB2R,EAVkB,KAURC,EAVQ,KAYzBtD,qBAAU,YACY,uCAAG,4BAAA5P,EAAA,+EAEDgU,GAAetE,IAAI,4BAFlB,OAEbtN,EAFa,OAGnB4qB,EAAkB5qB,EAAIC,KAAKA,KAAKuI,UAHb,gDAKnB1J,QAAQC,IAAI,KAAIC,SALG,yDAAH,qDAQpB6rB,KACC,IAEH,IAAMprB,EAAY,uCAAG,gCAAA7B,EAAA,yDACN,kBAAT6sB,EADe,gBAEjB3Z,EAAY,qEACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMP2W,EANO,iBAOjB3W,EAAY,oEACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,2BAWPmG,EAXO,iBAYjBnG,EAAY,mEACZnR,YAAW,WACTmR,EAAY,MACX,KAfc,mDAkBGwc,GAAexvB,KAAK,QAAS,CAC7C2pB,QAASA,EACTxQ,OAAQA,EACR6T,WAAYL,IArBC,QAkBTzqB,EAlBS,OAuBflB,QAAQC,IAAIiB,GACY,OAApBA,EAAIC,KAAKC,SACLwtB,EAAmB1tB,EAAIC,KAAKA,KAAKuJ,SACvC9L,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKihB,GAChB7uB,IAAK,2BAED8uB,EAAkB,CACtB9sB,GAAI6sB,EAAiB7sB,GACrB4mB,QAASiG,EAAiBjG,QAC1BvJ,SAAUwP,EAAiBxP,SAC3BjH,OAAQyW,EAAiBzW,OACzBgU,KAAMyC,EAAiB5C,WACvBX,MAAO7Y,GAETxS,QAAQC,IAAI2uB,GACZnkB,EAAaokB,GACbtnB,EAA4B,6BAC5B1G,YAAW,WACT0G,EAA4B,MAC3B,MACH4hB,EAAW,IACX/Q,EAAU,IACVwT,EAAQ,kBAhDK,mDAmDf5rB,QAAQC,IAAI,KAAIC,SAnDD,2DAAH,qDAuDlB,OACE,8BACE,qBAAKyB,UAAU,aAAf,SACE,qBAAKI,GAAG,eAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,eAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,oBACZiF,gBAAc,QACdC,gBAAc,mBACdjD,MAAO,CAAEG,OAAQ,WANnB,wCAYJ,qBACErN,GAAG,mBACHJ,UAAU,WACVwQ,kBAAgB,eAChBC,cAAY,gBAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,iDACA,yBACE1L,SAAU,SAACC,GACTypB,EAAQzpB,EAAEC,OAAOH,OACjB,IAAI+B,EAAQ7B,EAAEkqB,YAAYjqB,OAAOkqB,cACjC9Y,EAASrR,EAAEkqB,YAAYjqB,OAAO4B,GAAOuoB,OAEvCtqB,MAAO0pB,EACP5pB,GAAG,QACHJ,UAAU,eARZ,UAUE,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCoN,EAAe9nB,KAAI,SAAC2F,GACnB,OACE,wBAA0BzH,MAAOyH,EAAS3H,GAA1C,SACG2H,EAASwJ,MADCxJ,EAAS3H,eAQhC,qBAAKJ,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,yBACA,uBACE/L,KAAK,OACLE,GAAG,UACHJ,UAAU,eACVO,SAAU,SAACC,GAAD,OAAOgnB,EAAWhnB,EAAEC,OAAOH,QACrCA,MAAO0mB,YAMf,sBAAKhnB,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,0BACEjM,UAAU,eACVI,GAAG,SACH6P,KAAK,IACL3P,MAAOkW,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAUjW,EAAEC,OAAOH,aAIxC,wBACEJ,KAAK,SACLF,UAAU,4BACVY,QAAS5B,EAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCoQ,qBC5JpC+c,GAVM,WACnB,OACE,sBAAKntB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,oCACA,cAAC,GAAD,IACA,cAAC,GAAD,QCNSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,qBCgFLuwB,GA/EI,SAAC,GAAgB,IAAdhtB,EAAa,EAAbA,GAAIitB,EAAS,EAATA,GAAS,EAE/B5iB,qBAAWlI,IADL6D,EADyB,EACzBA,uBAAwBH,EADC,EACDA,MAAOC,EADN,EACMA,SAEjCkI,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,6DACnBqD,EAAEiM,kBADiB,kBAGC6gB,GAAcjf,OAAd,eAA6BjO,IAH9B,OAKA,KALA,OAKTZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAK6hB,GAChBnvB,QAAS,GACTE,IAAK,gCAEPgI,EAAuB,2BACvBlH,YAAW,WACTkH,EAAuB,MACtB,KACHF,EACED,EAAMqI,QAAO,SAACzF,GACZ,OAAOA,EAAIzI,KAAOA,OAlBP,gDAuBjB/B,QAAQC,IAAI,KAAIC,SAvBC,yDAAH,sDA0BlB,OACE,gCACE,mBACEyB,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,OAHF,wBAQA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,mBAAGA,UAAU,YAAb,+GAKF,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCC8FCiiB,GA3JS,WAAO,IAAD,EACqB9iB,qBAAWlI,IAApD0D,EADoB,EACpBA,MAAOC,EADa,EACbA,SAAUC,EADG,EACHA,oBACnBqG,EAAWjP,OAAOC,aAAaC,QAAQ,aAFjB,EAGJgB,mBAAS,IAHL,mBAGrB+uB,EAHqB,KAGfC,EAHe,KAIxBxrB,EAAKC,cACT6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEImwB,GAAczgB,IAAd,0BAAqC2gB,IAFzC,OAGU,QADlBjuB,EAFQ,QAGNC,KAAKC,QACXyG,EAAS3G,EAAIC,KAAKA,KAAKkuB,SAJX,gDAOdrvB,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,GAEiB,uCAAG,4BAAA7P,EAAA,+EAEEgU,GAAetE,IAAf,wCACiBL,IAHnB,OAEVjN,EAFU,OAKhBkuB,EAAQluB,EAAIC,KAAKA,KAAKuI,SAAS3H,IALf,gDAOhB/B,QAAQC,IAAI,KAAIC,SAPA,yDAAH,oDAUjBovB,KACC,CAACznB,EAAUsnB,EAAMhhB,IAEpB,IAKMohB,EAAqB,SAACzhB,GAC1B,IAAIgB,EACJ,OAAQhB,EAAK,IACX,IAAK,IACHgB,EACE,4BACE,mBAAGnN,UAAU,6BAAb,sCAGJ,MACF,IAAK,IACHmN,EACE,8BACG,IACD,mBAAGnN,UAAU,mCAAb,wCAGJ,MACF,IAAK,IACHmN,EACE,8BACG,IACD,mBAAG0gB,MAAM,yBAAT,sCAOR,OAAO1gB,GAGH2gB,EAAqB,SAACC,GAC1B,IAAI5gB,EACJ,OAAQ4gB,EAAK,IACX,IAAK,IACH5gB,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,kCACT,MACF,IAAK,IACHA,EAAS,cAKb,OAAOA,GAET,OACE,8BACE,sBAAKnN,UAAU,YAAf,UACE,mBAAGA,UAAU,2BAAb,SAAyCmG,IACzC,wBAAOnG,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,4DACA,mDACA,0DACA,oDACA,iFACA,qCACA,6CAGJ,gCACGiG,EAAM7D,KAAI,SAACyG,GACV,OACE,qBAAiB7I,UAAU,cAA3B,UACE,oBAAIA,UAAU,eAAd,SACG6I,EAAImlB,WAAanlB,EAAImlB,WAAa,yBAErC,oBAAIhuB,UAAU,eAAd,SAA8BwR,yBAAc3I,EAAIolB,UAChD,oBAAIjuB,UAAU,eAAd,SACG8tB,EAAmBjlB,EAAIqlB,UAE1B,oBAAIluB,UAAU,gBAAd,SACG4tB,EAAmB/kB,EAAIuD,aAE1B,+BACGoF,yBAAc3I,EAAIslB,WADrB,OAEGnb,uBAAYnK,EAAIslB,cAEnB,qBACEnuB,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,UAIG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OAlGH,SAACA,EAAGJ,GAC5BI,EAAEiM,kBACFxK,EAAGE,KAAH,sCAAuC/B,IAgGLguB,CAAkB5tB,EAAGqI,EAAIzI,KAF3C,wBAQF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIqB,IAAlB5E,EAAIuD,UACH,cAAC,GAAD,CAAYhM,GAAIyI,EAAIzI,GAAIitB,GAAIxkB,IAE5B,OAnCGA,EAAIzI,kBCqEdiuB,GAhLK,WAAO,IAAD,EACI5vB,mBAAS,IADb,mBACjBwvB,EADiB,KACTK,EADS,OAEI7vB,mBAAS,iBAFb,mBAEjByvB,EAFiB,KAETK,EAFS,OAGA9vB,mBAAS,IAHT,mBAGjB+vB,EAHiB,KAGXC,EAHW,OAIQhwB,mBAAS,IAJjB,mBAIjB2R,EAJiB,KAIPC,EAJO,OAMQ5R,mBAAS,IANjB,mBAMjBsJ,EANiB,KAMP2mB,EANO,KAOlBliB,EAAWjP,OAAOC,aAAaC,QAAQ,aAErC2I,EAA2BqE,qBAAWlI,IAAtC6D,uBAEJnE,EAAKC,cACT6K,qBAAU,YACS,uCAAG,4BAAA5P,EAAA,+EAEEgU,GAAetE,IAAf,wCACiBL,IAHnB,OAEVjN,EAFU,OAKhBmvB,EAAYnvB,EAAIC,KAAKA,KAAKuI,SAAS3H,IALnB,gDAOhB/B,QAAQC,IAAI,KAAIC,SAPA,yDAAH,qDAUjBovB,KACC,CAACnhB,IAEJ,IAAMxN,EAAY,uCAAG,WAAOwB,GAAP,eAAArD,EAAA,yDACnBqD,EAAEiM,kBACGwhB,EAFc,gBAGjB5d,EAAY,2EACZnR,YAAW,WACTmR,EAAY,MACX,KANc,2BAORse,sBAAW,IAAIrb,KAAK2a,GAAS,IAAI3a,MAPzB,iBAQjBjD,EAAY,0EACZnR,YAAW,WACTmR,EAAY,MACX,KAXc,2BAYG,kBAAX6d,EAZQ,iBAajB7d,EAAY,0DACZnR,YAAW,WACTmR,EAAY,MACX,KAhBc,2BAiBPme,EAjBO,iBAkBjBne,EAAY,4EACZnR,YAAW,WACTmR,EAAY,MACX,KArBc,mDAwBGid,GAAcjwB,KAAK,QAAS,CAC5C4wB,OAAQA,EACRC,OAAQA,EACRM,KAAMA,EACNI,YAAa7mB,IA5BA,QAwBTxI,EAxBS,OA8BflB,QAAQC,IAAIiB,GACY,OAApBA,EAAIC,KAAKC,QACXxC,EAAW,CACTW,MAAO,YACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAKkuB,SAC9BtvB,IAAK,gCAEPgI,EAAuB,6BACvBlH,YAAW,WACTkH,EAAuB,MACtB,MACHkoB,EAAU,IACVG,EAAQ,IACRF,EAAU,iBACVtsB,EAAGE,KAAK,YACRF,EAAGE,KAAK,iCAERkO,EAAY9Q,EAAIC,KAAKC,QACrBP,YAAW,WACTmR,EAAY,MACX,OAnDU,mDAsDfhS,QAAQC,IAAI,KAAIC,SAtDD,2DAAH,sDA0DlB,OACE,8BACE,8BACE,qBAAKyB,UAAU,aAAf,SACE,qBAAKI,GAAG,iBAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,cAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,sBACZiF,gBAAc,QACdC,gBAAc,qBACdjD,MAAO,CAAEG,OAAQ,WANnB,+BAYJ,qBACErN,GAAG,qBACHJ,UAAU,WACVwQ,kBAAgB,cAChBC,cAAY,kBAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAb,UACE,sBAAKD,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,kCACA,uBACE/L,KAAK,OACLE,GAAG,aACHJ,UAAU,eACVO,SAAU,SAACC,GAAD,OAAO8tB,EAAU9tB,EAAEC,OAAOH,QACpCA,MAAO2tB,EACPxD,IAAK,IAAInX,KAAS,SAKxB,qBAAKtT,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,kCACA,yBACE1L,SAAU,SAACC,GAAD,OAAO+tB,EAAU/tB,EAAEC,OAAOH,QACpCA,MAAO4tB,EACP9tB,GAAG,aACHJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGA,wBAAQxc,MAAM,IAAd,8BACA,wBAAQA,MAAM,IAAd,8BACA,wBAAQA,MAAM,IAAd,6CACA,wBAAQA,MAAM,IAAd,oCAKR,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,gCACA,0BACE7L,GAAG,GACH6P,KAAK,IACLjQ,UAAU,eACVM,MAAOkuB,EACPjuB,SAAU,SAACC,GAAD,OAAOiuB,EAAQjuB,EAAEC,OAAOH,aAGtC,wBACEJ,KAAK,SACLF,UAAU,4BACVY,QAAS5B,EAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCoQ,uBC9JtCye,GAVK,WAClB,OACE,sBAAK7uB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,2DACA,cAAC,GAAD,IACA,cAAC,GAAD,QCgKS8uB,GApKQ,WAAO,IACpB1uB,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAFkB,EAIWzD,mBAAS,IAJpB,mBAIpBswB,EAJoB,KAIPC,EAJO,KAKnB7oB,EAAwBsE,qBAAWlI,IAAnC4D,oBAER4G,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEImwB,GAAczgB,IAAd,kCAA6CzM,IAFjD,OAERb,EAFQ,OAGdyvB,EAAezvB,EAAIC,KAAKA,KAAKkuB,SAHf,gDAKdrvB,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAACgiB,EAAgB5uB,IA6DpB,OACE,gCACE,sBAAKJ,UAAU,kBAAf,UACE,wBAAQA,UAAU,uBAAuBY,QA9DhC,WACbqB,EAAGE,KAAK,gCA6DJ,2BAG2B,IAA1B4sB,EAAY3iB,UACX,qBAAKpM,UAAU,YAAf,SACE,wBAAQA,UAAU,uBAAuBY,QAhE9B,WACnBqB,EAAGE,KAAH,sCAAuC/B,EAAvC,UA+DQ,wBAKF,MAGJ,mBAAGJ,UAAU,2BAAb,SAAyCmG,IACzC,oBAAInG,UAAU,YAAd,SAA2B+uB,EAAYrF,QAEvC,uBAAO1pB,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,oCACA,oBAAIA,UAAU,aAAd,SAA4B+uB,EAAYrF,WAE1C,qBAAI1pB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,6DAGA,qBAAIA,UAAU,aAAd,UACGwR,yBAAcud,EAAYZ,WAD7B,OAEGnb,uBAAY+b,EAAYZ,iBAG7B,qBAAInuB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,mCACA,oBAAIA,UAAU,aAAd,SAA4BwR,yBAAcud,EAAYd,aAExD,qBAAIjuB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sCACA,oBAAIA,UAAU,aAAd,SA5DiB,SAAC+tB,GAC1B,IAAI5gB,EACJ,OAAQ4gB,EAAK,IACX,IAAK,IACH5gB,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,kCACT,MACF,IAAK,IACHA,EAAS,cAKb,OAAOA,EA2CI2gB,CAAmBiB,EAAYb,aAGpC,qBAAIluB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SACE,4BAnGe,SAACmM,GAC1B,IAAIgB,EACJ,OAAQhB,EAAK,IACX,IAAK,IACHgB,EACE,4BACE,mBAAGnN,UAAU,6BAAb,sCAGJ,MACF,IAAK,IACHmN,EACE,8BACG,IACD,mBAAGnN,UAAU,mCAAb,wCAGJ,MACF,IAAK,IACHmN,EACE,8BACG,IACD,mBAAG0gB,MAAM,yBAAT,sCAOR,OAAO1gB,EAsEOygB,CAAmBmB,EAAY3iB,kBAGvC,qBAAIpM,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SAA4B+uB,EAAYP,UAE1C,qBAAIxuB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,6DACA,oBAAIA,UAAU,aAAd,SACG+uB,EAAYf,WAAae,EAAYf,WAAa,4BAGvD,qBAAIhuB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,iDACA,oBAAIA,UAAU,aAAd,SACG+uB,EAAYE,cACTF,EAAYE,cACZ,4BAGR,qBAAIjvB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,uCACA,oBAAIA,UAAU,aAAd,SACG+uB,EAAYG,QACT,YACA1d,yBAAcud,EAAYG,SAC1B,YACAlc,uBAAY+b,EAAYG,SACxB,qCCrJHC,GATe,WAC5B,OACE,sBAAKnvB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,oEACA,cAAC,GAAD,QC+JSovB,GA/JI,WACjB,IAAIntB,EAAKC,cACD9B,EAAOqT,cAAPrT,GAFe,EAGD3B,mBAAS,IAHR,mBAGhB+M,EAHgB,KAGXsE,EAHW,OAIKrR,mBAAS,IAJd,mBAIhBwvB,EAJgB,KAIRK,EAJQ,OAKK7vB,mBAAS,IALd,mBAKhByvB,EALgB,KAKRK,EALQ,OAMC9vB,mBAAS,IANV,mBAMhB+vB,EANgB,KAMVC,EANU,KAOfroB,EAA2BqE,qBAAWlI,IAAtC6D,uBAPe,EAQS3H,mBAAS,IARlB,mBAQhB2R,EARgB,KAQNC,EARM,KAUvBtD,qBAAU,YACO,uCAAG,8BAAA5P,EAAA,+EAEImwB,GAAczgB,IAAd,kCAA6CzM,IAFjD,OAERb,EAFQ,OAGRwvB,EAAcxvB,EAAIC,KAAKA,KAAKkuB,QAClCY,EAAUvb,uBAAYgc,EAAYd,SAElCM,EAAUQ,EAAYb,QACtBO,EAAQM,EAAYP,MACpB1e,EAAO,CACL1P,KACA6tB,OAAQlb,uBAAYgc,EAAYd,QAChCC,OAAQa,EAAYb,OACpBM,KAAMO,EAAYP,OAZN,kDAednwB,QAAQC,IAAI,KAAIC,SAfF,0DAAH,qDAmBfyO,KACC,CAAC5M,IAEJ,IAIMyL,EAAY,uCAAG,8BAAA1O,EAAA,yDACd8wB,EADc,gBAEjB5d,EAAY,2EACZnR,YAAW,WACTmR,EAAY,MACX,KALc,2BAMRse,sBAAW,IAAIrb,KAAK2a,GAAS,IAAI3a,MANzB,iBAOjBjD,EAAY,0EACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,2BAWPme,EAXO,iBAYjBne,EAAY,4EACZnR,YAAW,WACTmR,EAAY,MACX,KAfc,mDAkBGid,GAAcpiB,IAAI,OAAQ,CAC1C9K,KACA6tB,SACAC,SACAM,SAtBa,QAwBS,QANlBjvB,EAlBS,QAwBPC,KAAKC,QACLsM,EAAO,CACX3L,KACA6tB,SACAC,SACAM,QAEE1wB,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,gCAGTgI,EAAuB,8BACvBlH,YAAW,WACTkH,EAAuB,MACtB,MACHnE,EAAGE,KAAH,sCAAuC/B,MAEvCgG,EAAuB7G,EAAIC,KAAKC,QAChCP,YAAW,WACTkH,EAAuB,MACtB,OAhDU,mDAmDf/H,QAAQC,IAAI,KAAIC,SAnDD,2DAAH,qDAwDlB,OACE,qBAAKyB,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAb,UACE,sBAAKD,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,kCACA,uBACE/L,KAAK,OACLE,GAAG,aACHJ,UAAU,eACVO,SAAU,SAACC,GAAD,OAAO8tB,EAAU9tB,EAAEC,OAAOH,QACpCA,MAAO2tB,SAKb,qBAAKjuB,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,kCACA,yBACE1L,SAAU,SAACC,GAAD,OAAO+tB,EAAU/tB,EAAEC,OAAOH,QACpCA,MAAO4tB,EACP9tB,GAAG,aACHJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGA,wBAAQxc,MAAM,IAAd,8BACA,wBAAQA,MAAM,IAAd,8BACA,wBAAQA,MAAM,IAAd,6CACA,wBAAQA,MAAM,IAAd,oCAKR,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,gCACA,0BACE7L,GAAG,GACH6P,KAAK,IACLjQ,UAAU,eACVM,MAAOkuB,EACPjuB,SAAU,SAACC,GAAD,OAAOiuB,EAAQjuB,EAAEC,OAAOH,aAGtC,mBAAGN,UAAU,mBAAb,SAAiCoQ,IAEjC,sBAAKpQ,UAAU,kBAAf,UACE,wBACEA,UAAU,uBACVE,KAAK,SACLU,QAASiL,EAHX,sBAOA,wBAAQ7L,UAAU,uBAAuBY,QArHlC,WACbqB,EAAGE,KAAH,sCAAuC/B,KAoHjC,oCChJKivB,GATW,WACxB,OACE,sBAAKrvB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,+DACA,cAAC,GAAD,QCGSsvB,GARO,WACpB,OACE,qBAAKtvB,UAAU,OAAf,SACE,oBAAIA,UAAU,cAAd,2B,qBC0JSuvB,GA5JI,SAAC,GAAqB,IAAnB7wB,EAAkB,EAAlBA,IAAK8wB,EAAa,EAAbA,GAAI5wB,EAAS,EAATA,GAAS,EACdH,mBAAS,IADK,mBAC/BgxB,EAD+B,KACzBC,EADyB,OAEZjxB,mBAAS,IAFG,mBAE/BkxB,EAF+B,KAExBC,EAFwB,OAGRnxB,mBAAS,IAHD,mBAG/BoxB,EAH+B,KAGtBC,EAHsB,OAIdrxB,mBAAS,IAJK,mBAI/BsxB,EAJ+B,KAIzBC,EAJyB,OAKdvxB,mBAAS,IALK,mBAK/BwxB,EAL+B,KAKzBC,EALyB,KAOhCC,EAAoB,uCAAG,4BAAAhzB,EAAA,yDACd,KAATsyB,EADuB,gBAEzBO,EAAQ,wFACR9wB,YAAW,WACT8wB,EAAQ,MACP,MALsB,4BAMhBP,EAAKpwB,OAAS,GANE,iBAOzB2wB,EAAQ,oEACR9wB,YAAW,WACT8wB,EAAQ,MACP,MAVsB,2BAWN,KAAVL,EAXgB,iBAYzBK,EAAQ,yFACR9wB,YAAW,WACT8wB,EAAQ,MACP,MAfsB,6BAgBhBL,EAAMtwB,OAAS,GAhBC,iBAiBzB2wB,EAAQ,qEACR9wB,YAAW,WACT8wB,EAAQ,MACP,MApBsB,2BAqBJ,KAAZH,EArBgB,iBAsBzBG,EAAQ,0GACR9wB,YAAW,WACT8wB,EAAQ,MACP,KAzBsB,2BA0BhBH,IAAYF,EA1BI,iBA2BzBK,EAAQ,6GACR9wB,YAAW,WACT8wB,EAAQ,MACP,KA9BsB,mDAiCL/kB,GAAeC,IAAI,gBAAiB,CACpDxM,IAAKA,EACLE,GAAIA,EACJ4wB,GAAIA,EACJY,KAAMX,EACNY,MAAOV,IAtCc,QAwCC,QAPlBpwB,EAjCiB,QAwCfC,KAAKC,QACXxC,EAAW,CACTW,MAAO,mCACPI,QAAS,GACTE,QAAS,GACTE,IAAK,4BAEP8xB,EAAQ,sDACRhxB,YAAW,WACTgxB,EAAQ,MACP,QAEHF,EAAQzwB,EAAIC,KAAKC,QACjBP,YAAW,WACT8wB,EAAQ,MACP,OAvDkB,mDA0DvB3xB,QAAQC,IAAI,KAAIC,SA1DO,2DAAH,qDA8D1B,OACE,gCACE,wBACEyB,UAAU,oBACVE,KAAK,SACLkL,cAAY,QACZC,cAAY,cAJd,8CASA,qBAAKrL,UAAU,kBAAkBI,GAAG,aAApC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8CACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,sBAAKtL,UAAU,aAAf,UACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,YAAf,wCACA,uBACE/L,KAAK,WACLE,GAAG,YACHJ,UAAU,eACVM,MAAOmvB,EACPlvB,SAAU,SAACC,GACTkvB,EAAQlvB,EAAEC,OAAOH,aAKvB,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,yCACA,uBACE/L,KAAK,WACLE,GAAG,aACHJ,UAAU,eACVM,MAAOqvB,EACPpvB,SAAU,SAACC,GACTovB,EAASpvB,EAAEC,OAAOH,aAKxB,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,eAAf,0DACA,uBACE/L,KAAK,WACLE,GAAG,eACHJ,UAAU,eACVM,MAAOuvB,EACPtvB,SAAU,SAACC,GACTsvB,EAAWtvB,EAAEC,OAAOH,aAI1B,mBAAGN,UAAU,yBAAb,SAAuCiwB,IACvC,mBAAGjwB,UAAU,wBAAb,SAAsC+vB,OAGxC,sBAAK/vB,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,0CACVY,QAASuvB,EAHX,2BAOA,wBACEjwB,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,wCCuDCglB,GA9LS,WACtB,IAAM9jB,EAAWjP,OAAOC,aAAaC,QAAQ,aADjB,EAGoBgB,mBAAS,IAH7B,mBAGrBiV,EAHqB,KAGHC,EAHG,OAKIlV,mBAAS,IALb,mBAKrBmW,EALqB,KAKXC,EALW,OAMNpW,mBAAS,IANH,mBAMrBmB,EANqB,KAMhB2wB,EANgB,OAQF9xB,mBAAS,IARP,mBAQrBmY,EARqB,KAQdC,EARc,OASIpY,mBAAS,GATb,mBASrB+xB,EATqB,KASXC,EATW,OAUUhyB,oBAAS,GAVnB,mBAUrBiyB,EAVqB,KAURC,EAVQ,KAYpBvtB,EAAmBqH,qBAAWlI,IAA9Ba,eACFwtB,EAAW,uCAAG,sBAAAzzB,EAAA,+EAEE8N,GAAe4B,IAAf,mBAA+BL,IAFjC,cAGRhN,KAAKC,OAHG,gDAMhBpB,QAAQC,IAAI,KAAIC,SANA,yDAAH,qDASjBwO,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIgU,GAAetE,IAAf,wCACiBL,IAHrB,OAKU,QAHlBjN,EAFQ,QAKNC,KAAKC,QACXkU,EAAoBpU,EAAIC,KAAKA,KAAKuI,UANtB,gDASd1J,QAAQC,IAAI,KAAIC,SATF,yDAAH,qDAafyO,GAEe,uCAAG,4BAAA7P,EAAA,+EAEI8N,GAAe4B,IAAf,mBAA+BL,IAFnC,OAGU,QADlBjN,EAFQ,QAGNC,KAAKC,SACXpB,QAAQC,IAAIiB,GACZgxB,EAAOhxB,EAAIC,KAAKA,KAAKqI,UAAUjI,KAC/BiV,EAAYtV,EAAIC,KAAKA,KAAKqI,UAAU+M,WANxB,gDASdvW,QAAQC,IAAI,KAAIC,SATF,yDAAH,oDAafsyB,KACC,CAACld,EAAqBnH,EAAU+jB,EAAQ1b,IAE3C,IAqBMic,EAAa,uCAAG,WAAOC,EAAOC,GAAd,SAAA7zB,EAAA,+EAEZ8N,GAAeC,IAAI,cAAe,CACtCxM,IAAK8N,EACL5M,IAAKoxB,EACLpc,SAAUmc,IALM,sDAQlB1yB,QAAQC,IAAI,KAAIC,SARE,wDAAH,wDAYnB,OACE,8BACE,sBAAKyB,UAAU,mBAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,qBACE4K,IAAI,UACJiL,MAAM,MACN0F,OAAO,MACPvb,UAAU,+BACV2K,IAAK/K,IAEP,wBACE0N,MAAO,CACL6N,gBAAiB,OACjBzQ,MAAO,QACP8M,QAAS,GACT4D,aAAc,EACd3N,OAAQ,UACRoI,MAAO,QACPob,UAAW,UARf,sDAYE,cAAC,KAAD,CACEtZ,OAAO,UACPpG,KAAMqF,EACNsa,WAAYxc,GAAQS,IAAI,UACxBgc,cAAe,WACbR,GAAe,GACfF,EAAY,IAEdW,cAAe,SAACrxB,GACd1B,QAAQC,IAAIyB,GACZ4wB,GAAe,IAEjBU,gBApES,SAACN,GACpB1yB,QAAQC,IAAIyyB,GACZla,EAASka,GACTN,EAAY,KACZE,GAAe,GACfjc,GACGS,IAAI,UACJC,MAAM2b,GACNhZ,iBACAC,MAAK,SAACsZ,GACLf,EAAOe,GACPluB,EAAekuB,GACfR,EAAcC,EAAOO,GACrBV,IACAvyB,QAAQC,IAAIsW,GACK,gBAAbA,GACFF,GAAQS,IAAR,iBAAsBP,IAAYvG,OAAOuG,OAqDrC2c,WAAY,SAACf,GACXC,EAAYD,IAEdgB,QAAM,OAGTd,EACC,2BAAUpwB,MAAOkwB,EAAUiB,IAAI,MAAMzxB,UAAU,eAA/C,UACG,IACAwwB,EAAU,OAGb,MAGJ,sBAAKxwB,UAAU,2BAAf,UACE,uDACa,IACX,sBAAMA,UAAU,qBAAhB,SAAsC0T,EAAiBnC,UAEzD,oDACa,IACX,sBAAMvR,UAAU,qBAAhB,SACG4T,0BAAeF,EAAiB5B,eAGrC,+CACa,IACX,sBAAM9R,UAAU,qBAAhB,SACGwR,yBAAckC,EAAiB1B,eAGpC,iEACuB,IACrB,sBAAMhS,UAAU,qBAAhB,SAAsC0T,EAAiBxB,UAEzD,oEACiB,IACf,sBAAMlS,UAAU,qBAAhB,SAAsC0T,EAAiB9D,SAEzD,wCACS,IACP,sBAAM5P,UAAU,qBAAhB,SAAsC0T,EAAiBtB,WAEzD,yDACW,IACT,sBAAMpS,UAAU,qBAAhB,SACG0T,EAAiBhE,YAGtB,gFAC0B,IACxB,sBAAM1P,UAAU,qBAAhB,SACG0T,EAAiBhC,aAGtB,cAAC,GAAD,CACEhT,IAAKgV,EAAiBhC,QACtB8d,GAAI9b,EAAiB8b,GACrB5wB,GAAI8U,EAAiB9U,cCnLlB8yB,GATa,WAC1B,OACE,sBAAK1xB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,wCACA,cAAC,GAAD,QCGS2xB,GARM,WACnB,OACE,qBAAK3xB,UAAU,OAAf,SACE,oBAAIA,UAAU,cAAd,0BCqHS4xB,GArHO,SAAC,GAAgB,IAAdhP,EAAa,EAAbA,GAAIxiB,EAAS,EAATA,GACvB6B,EAAKC,cAD2B,EAERzD,qBAFQ,mBAE7B+X,EAF6B,KAErBC,EAFqB,OAGVhY,qBAHU,mBAG7BirB,EAH6B,KAGtBmI,EAHsB,KAI9BrlB,EAAWjP,OAAOC,aAAaC,QAAQ,aACvCq0B,EAAev0B,OAAOC,aAAaC,QAAQ,oBAEjDsP,qBAAU,YACS,uCAAG,4BAAA5P,EAAA,+EAEEgU,GAAetE,IAAf,wCACiBL,IAHnB,OAEVjN,EAFU,OAKhBsyB,EAAStyB,EAAIC,KAAKA,KAAKuI,SAASwJ,MALhB,gDAOhBlT,QAAQC,IAAI,KAAIC,SAPA,yDAAH,qDAUjBovB,KACC,CAACnhB,IACJ,IAAMsT,EAAa,uCAAG,sBAAA3iB,EAAA,+EAEZmwB,GAAcpiB,IAAI,WAAY,CAClC9K,GAAIA,EACJgM,UAAkB,OAAPwW,EAAc,EAAI,EAC7BoL,WAAYtE,GAAgB,gCAC5BuF,cAAezY,GAAkB,sCANjB,OAShBvZ,EADS,OAAP2lB,EACS,CACThlB,MAAO,sBACPI,QAAS,GACTE,QAAS,CACP8N,IAAK,CACH5L,GAAIA,EACJgM,UAAkB,OAAPwW,EAAc,EAAI,EAC7BoL,WAAYtE,GAAgB,gCAC5BuF,cAAezY,GAAkB,sCAGrCpY,IAAK,+BAGI,CACTR,MAAO,oBACPI,QAAS,GACTE,QAAS,CACP8N,IAAK,CACH5L,GAAIA,EACJgM,UAAkB,OAAPwW,EAAc,EAAI,EAC7BoL,WAAYtE,GAAgBoI,EAC5B7C,cAAezY,GAAkB,sCAGrCpY,IAAK,gCAGT6D,EAAGE,KAAK,YACRF,EAAGE,KAAK,iCAtCU,gDAwClB9D,QAAQC,IAAI,KAAIC,SAxCE,yDAAH,qDA2CnB,OACE,gCACE,yBACE2B,KAAK,SACLF,UAAkB,OAAP4iB,EAAc,uBAAyB,sBAClDxX,cAAY,QACZC,cAAA,aAAmBjL,GAAnB,OAAwBwiB,GAJ1B,iBAMgB,OAAPA,EAAc,sBAAW,uBAGlC,qBAAK5iB,UAAU,kBAAkBI,GAAE,YAAOA,GAAP,OAAYwiB,GAA/C,SACE,qBAAK5iB,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,wBACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,0BACEiQ,KAAK,IACL3P,MAAOkW,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAUjW,EAAEC,OAAOH,QACpCN,UAAU,mBAId,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAOsf,EAActf,IAJhC,gBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,wCCqBCymB,GA3HK,WAAO,IAAD,EACQtzB,mBAAS,IADjB,mBACjBuzB,EADiB,KACPC,EADO,KAExBllB,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEImwB,GAAczgB,IAAI,kBAFtB,OAERtN,EAFQ,OAId0yB,EAAY1yB,EAAIC,KAAKA,KAAKkuB,SAJZ,gDAMdrvB,QAAQC,IAAI,KAAIC,SANF,yDAAH,qDASfyO,KACC,IACH,IAAM8gB,EAAqB,SAACC,GAC1B,IAAI5gB,EACJ,OAAQ4gB,EAAK,IACX,IAAK,IACH5gB,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,kCACT,MACF,IAAK,IACHA,EAAS,cAKb,OAAOA,GAET,OACE,qBAAKnN,UAAU,WAAf,SACuB,IAApBgyB,EAAS3yB,OACR2yB,EAAS5vB,KAAI,SAAC8vB,GACZ,OACE,qBAAKlyB,UAAU,gBAAf,SACE,sBAAKA,UAAU,OAAf,UACE,sBAAKA,UAAU,YAAf,UACE,sBAAKA,UAAU,iCAAf,UACE,qBACEA,UAAU,oCACV2K,IACiB,uBAAfunB,EAAOtyB,IACHsyB,EAAOtyB,IACP,2CAENgL,IAAI,2BACJiL,MAAM,QAER,sBAAK7V,UAAU,gCAAf,UACE,oBAAIA,UAAU,kBAAd,SAAiCkyB,EAAOxI,QACxC,mBAAG1pB,UAAU,YAAb,SAA0BkyB,EAAOtiB,YAGrC,oBAAG5P,UAAU,YAAb,UACE,0DADF,IACiCkyB,EAAO1D,WAG1C,qBAAIxuB,UAAU,8BAAd,UACE,qBAAIA,UAAU,kBAAd,UACE,yDACCwR,yBAAc0gB,EAAOjE,WAExB,qBAAIjuB,UAAU,kBAAd,UACE,gEACC8tB,EAAmBoE,EAAOhE,cAG/B,sBAAKluB,UAAU,0CAAf,UACE,cAAC,GAAD,CAAeI,GAAI8xB,EAAO9xB,GAAIwiB,GAAG,OACjC,cAAC,GAAD,CAAexiB,GAAI8xB,EAAO9xB,GAAIwiB,GAAG,cAnCHsP,EAAO9xB,OA0C/C,qBAAKJ,UAAU,wBAAf,4ECVOmyB,GAvEY,SAAC,GAAkB,IAAhB/xB,EAAe,EAAfA,GAAIgyB,EAAW,EAAXA,KAC5BnwB,EAAKC,cACHkM,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,6DACnBqD,EAAEiM,kBADiB,kBAGC6gB,GAAcjf,OAAd,wBAAsCjO,IAHvC,OAKA,KALA,OAKTZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAK4mB,GAChBl0B,QAAS,GACTE,IAAK,gCAEP6D,EAAGE,KAAK,YACRF,EAAGE,KAAK,kCAbO,gDAgBjB9D,QAAQC,IAAI,KAAIC,SAhBC,yDAAH,sDAmBlB,OACE,gCACE,mBACEyB,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,cAHF,wBAQA,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,cAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,mBAAGA,UAAU,YAAb,+GAKF,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCwFC+mB,GA9IS,WAAO,IAAD,EACM5zB,mBAAS,IADf,mBACrB6zB,EADqB,KACVC,EADU,KAExBtwB,EAAKC,cACT6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEImwB,GAAczgB,IAAI,uBAFtB,OAERtN,EAFQ,OAGdgzB,EAAahzB,EAAIC,KAAKA,KAAKkuB,SAHb,gDAKdrvB,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDAQfyO,KACC,IAEH,IAKM4gB,EAAqB,SAACzhB,GAC1B,IAAIgB,EACJ,OAAQhB,EAAK,IACX,IAAK,IACHgB,EACE,4BACE,mBAAGnN,UAAU,6BAAb,sCAGJ,MACF,IAAK,IACHmN,EACE,8BACG,IACD,mBAAGnN,UAAU,mCAAb,wCAGJ,MACF,IAAK,IACHmN,EACE,8BACG,IACD,mBAAGnN,UAAU,yBAAb,sCAOR,OAAOmN,GAGH2gB,EAAqB,SAACC,GAC1B,IAAI5gB,EACJ,OAAQ4gB,EAAK,IACX,IAAK,IACH5gB,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,kCACT,MACF,IAAK,IACHA,EAAS,cAKb,OAAOA,GAET,OACE,8BACE,qBAAKnN,UAAU,YAAf,SACE,wBAAOA,UAAU,kDAAjB,UACE,uBAAOA,UAAU,yBAAjB,SACE,+BACE,kDACA,0CACA,qCACA,mDACA,0DACA,oDACA,qCACA,6CAGJ,gCACGsyB,EAAUlwB,KAAI,SAACyG,GACd,OACE,qBAAiB7I,UAAU,cAA3B,UACE,oBAAIA,UAAU,eAAd,SAA8B6I,EAAI6gB,QAClC,oBAAI1pB,UAAU,eAAd,SACE,qBACE6V,MAAM,MACNlL,IACc,uBAAZ9B,EAAIjJ,IACAiJ,EAAIjJ,ICzGnB,GD0GsBiJ,EAAIjJ,IAEjBgL,IAAI,+BAGR,oBAAI5K,UAAU,eAAd,SAA8B6I,EAAI+G,MAClC,oBAAI5P,UAAU,2BAAd,SACGwR,yBAAc3I,EAAIolB,UAErB,oBAAIjuB,UAAU,eAAd,SACG8tB,EAAmBjlB,EAAIqlB,UAE1B,oBAAIluB,UAAU,gBAAd,SACG4tB,EAAmB/kB,EAAIuD,aAE1B,qBACEpM,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,UAIG,IACD,mBACEzN,UAAU,0BACVY,QAAS,SAACJ,GAAD,OA1GH,SAACA,EAAGJ,GAC5BI,EAAEiM,kBACFxK,EAAGE,KAAH,wCAAyC/B,IAwGPguB,CAAkB5tB,EAAGqI,EAAIzI,KAF3C,wBAOF,oBACEJ,UAAU,2BACVsN,MAAO,CAAEG,OAAQ,WAFnB,SAIE,cAAC,GAAD,CAAoBrN,GAAIyI,EAAIzI,GAAIgyB,KAAMvpB,QAvCjCA,EAAIzI,iBEpFdoyB,GAVQ,WACrB,OACE,sBAAKxyB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,oDACA,cAAC,GAAD,IACA,cAAC,GAAD,QCkISyyB,GAtIgB,WAAO,IAC5BryB,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAF0B,EAIiBzD,mBAAS,IAJ1B,mBAI5Bi0B,EAJ4B,KAIRC,EAJQ,KAMnC5lB,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEImwB,GAAczgB,IAAd,8BAAyCzM,IAF7C,OAERb,EAFQ,OAGdozB,EAAsBpzB,EAAIC,KAAKA,KAAKkuB,SAHtB,gDAKdrvB,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAAC5M,EAAIuyB,IAyDR,OACE,gCACE,qBAAK3yB,UAAU,kBAAf,SACE,wBAAQA,UAAU,uBAAuBY,QA1DhC,WACbqB,EAAGE,KAAK,kCAyDJ,6BAIF,oBAAInC,UAAU,YAAd,SAA2B0yB,EAAmBhJ,QAE9C,uBAAO1pB,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,oCACA,oBAAIA,UAAU,aAAd,SAA4B0yB,EAAmBhJ,WAEjD,qBAAI1pB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,mCACA,oBAAIA,UAAU,aAAd,SACGwR,yBAAckhB,EAAmBzE,aAGtC,qBAAIjuB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sCACA,oBAAIA,UAAU,aAAd,SA3CiB,SAAC+tB,GAC1B,IAAI5gB,EACJ,OAAQ4gB,EAAK,IACX,IAAK,IACH5gB,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,mBACT,MACF,IAAK,IACHA,EAAS,kCACT,MACF,IAAK,IACHA,EAAS,cAKb,OAAOA,EA0BI2gB,CAAmB4E,EAAmBxE,aAG3C,qBAAIluB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SACE,4BAlFe,SAACmM,GAC1B,IAAIgB,EACJ,OAAQhB,EAAK,IACX,IAAK,IACHgB,EACE,4BACE,mBAAGnN,UAAU,6BAAb,sCAGJ,MACF,IAAK,IACHmN,EACE,8BACG,IACD,mBAAGnN,UAAU,mCAAb,wCAGJ,MACF,IAAK,IACHmN,EACE,8BACG,IACD,mBAAG0gB,MAAM,yBAAT,sCAOR,OAAO1gB,EAqDOygB,CAAmB8E,EAAmBtmB,kBAG9C,qBAAIpM,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SAA4B0yB,EAAmBlE,UAEjD,qBAAIxuB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,6DACA,oBAAIA,UAAU,aAAd,SAA4B0yB,EAAmB1E,gBAEjD,qBAAIhuB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,iDACA,oBAAIA,UAAU,aAAd,SAA4B0yB,EAAmBzD,mBAEjD,qBAAIjvB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,uCACA,oBAAIA,UAAU,aAAd,SACG,YACCwR,yBAAckhB,EAAmBxD,SACjC,YACAlc,uBAAY0f,EAAmBxD,uBCtHhC0D,GATa,WAC1B,OACE,sBAAK5yB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,kEACA,cAAC,GAAD,QC2HS6yB,GA5HM,WAAO,IAClBn0B,EAAQ+U,cAAR/U,IACJuD,EAAKC,cAFgB,EAIiBzD,mBAAS,IAJ1B,mBAIlBq0B,EAJkB,KAIHC,EAJG,KAKjB9uB,EAA0BwG,qBAAWlI,IAArC0B,sBACR8I,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI+b,GAAYrM,IAAZ,2BAAoCnO,IAFxC,OAERa,EAFQ,OAGdwzB,EAAiBxzB,EAAIC,KAAKA,KAAKyI,OAHjB,gDAKd5J,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAAC+lB,EAAkBr0B,IAqCtB,OACE,gCACE,sBAAKsB,UAAU,kBAAf,UACE,wBAAQA,UAAU,uBAAuBY,QAtChC,WACbqB,EAAGE,KAAK,4BAqCJ,2BAGA,qBAAKnC,UAAU,YAAf,SACE,wBAAQA,UAAU,uBAAuBY,QAX5B,WACnBqB,EAAGE,KAAH,kCAAmCzD,EAAnC,UAUM,2BAKJ,mBAAGsB,UAAU,2BAAb,SAAyCiE,IACzC,oBAAIjE,UAAU,YAAd,SAA2B8yB,EAAcp0B,MACzC,uBAAOsB,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,6BACA,oBAAIA,UAAU,aAAd,SAA4B8yB,EAAcp0B,SAE5C,qBAAIsB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SArDc,SAACmM,GACvB,IAAIC,EAAY,GAChB,OAAQD,EAAK,IACX,IAAK,IACHC,EAAY,mBACZ,MACF,IAAK,IACHA,EAAY,8CACZ,MACF,IAAK,IACHA,EAAY,8BACZ,MACF,IAAK,IACHA,EAAY,iCACZ,MACF,IAAK,IACHA,EAAY,2BACZ,MACF,IAAK,IACHA,EAAY,sBAKhB,OAAOA,EA8BI4mB,CAAgBF,EAAc1mB,gBAGnC,qBAAIpM,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,0CACA,qBAAIA,UAAU,aAAd,UACG8V,wBAAagd,EAAczZ,kBAD9B,OACsD,0CAGxD,qBAAIrZ,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,2CACA,qBAAIA,UAAU,aAAd,UACG8V,wBAAagd,EAAcxZ,iBAD9B,OACqD,0CAGvD,qBAAItZ,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SAA4B8yB,EAAcvZ,eAE5C,qBAAIvZ,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+BACA,oBAAIA,UAAU,aAAd,SACE,qBAAK2K,IAAKmoB,EAAcpb,IAAK9M,IAAI,oBAAYiL,MAAM,aAIvD,qBAAI7V,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,2CACA,oBAAIA,UAAU,aAAd,SAA4B8yB,EAAc1Z,YAE5C,qBAAIpZ,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,8CACA,oBAAIA,UAAU,aAAd,SAA4B8yB,EAAcG,kBAE5C,qBAAIjzB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,yCACA,oBACEA,UAAU,aACVkzB,wBAAyB,CAAEC,OAAQL,EAAcM,4BC7GhDC,GATU,WACvB,OACE,sBAAKrzB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,iDACA,cAAC,GAAD,QCgTSszB,GA5SE,WACf,IAAIrxB,EAAKC,cACDxD,EAAQ+U,cAAR/U,IAFa,EAIWD,mBAAS,IAJpB,mBAIdib,EAJc,KAIJC,EAJI,OAKWlb,mBAAS,IALpB,mBAKdmb,EALc,KAKJC,EALI,OAMWpb,mBAAS,IANpB,mBAMdmW,EANc,KAMJC,EANI,OAO2BpW,mBAAS,IAPpC,mBAOd4a,EAPc,KAOIS,EAPJ,OAQyBrb,mBAAS,IARlC,mBAQd6a,EARc,KAQGS,EARH,OASOtb,mBAAS,IAThB,mBASd2a,EATc,KASNY,EATM,OAUiBvb,mBAAS,IAV1B,mBAUdwb,EAVc,KAUDC,EAVC,OAWiBzb,mBAAS,IAX1B,mBAWd0b,EAXc,KAWDC,EAXC,OAYa3b,mBAAS,IAZtB,mBAYd2N,EAZc,KAYHE,EAZG,OAaa7N,mBAAS,IAbtB,mBAad8a,EAbc,KAaHc,EAbG,OAeC5b,mBAAS,IAfV,mBAed+M,EAfc,KAeTsE,EAfS,OAiBWrR,mBAAS,IAjBpB,oBAiBd2R,GAjBc,MAiBJC,GAjBI,MAkBbnM,GAA6BuG,qBAAWlI,IAAxC2B,yBAER6I,qBAAU,YACO,uCAAG,8BAAA5P,EAAA,+EAEI+b,GAAYrM,IAAZ,2BAAoCnO,IAFxC,OAERa,EAFQ,OAGRg0B,EAAch0B,EAAIC,KAAKA,KAAKyI,MAClC0R,EAAY4Z,EAAY70B,KACxBmb,EAAY0Z,EAAY7b,KACxB7C,EAAY0e,EAAY3e,UACxBmF,EAAmBwZ,EAAYja,iBAC/BQ,EAAoByZ,EAAYla,kBAChCW,EAAUuZ,EAAYna,QACtBc,EAAeqZ,EAAYN,cAC3B7Y,EAAemZ,EAAYH,cAC3B9mB,EAAainB,EAAYnnB,WACzBiO,EAAakZ,EAAYha,WAEzBzJ,EAAO,CACLpR,IAAK60B,EAAY70B,IACjB0N,UAAWmnB,EAAYnnB,UACvBsL,IAAK6b,EAAY7b,IACjB0B,OAAQma,EAAYna,OACpBkB,UAAWiZ,EAAYN,aACvB1Y,UAAWgZ,EAAYH,aACvB/Z,iBAAkBka,EAAYla,iBAC9BC,gBAAiBia,EAAYja,gBAC7B1E,SAAU2e,EAAY3e,SACtB2E,UAAWga,EAAYha,YAzBX,kDA4Bdlb,QAAQC,IAAI,KAAIC,SA5BF,0DAAH,qDA+BfyO,KACC,CAACtO,IAEJ,IAIMmN,GAAY,uCAAG,8BAAA1O,EAAA,yDACduc,EADc,gBAEjBrJ,GAAY,yEACZnR,YAAW,WACTmR,GAAY,MACX,KALc,0BAMPgJ,EANO,iBAOjBhJ,GAAY,sFACZnR,YAAW,WACTmR,GAAY,MACX,KAVc,2BAWPiJ,EAXO,iBAYjBjJ,GAAY,uFACZnR,YAAW,WACTmR,GAAY,MACX,KAfc,2BAgBP+I,EAhBO,iBAiBjB/I,GAAY,8EACZnR,YAAW,WACTmR,GAAY,MACX,KApBc,2BAqBP4J,EArBO,iBAsBjB5J,GAAY,0FACZnR,YAAW,WACTmR,GAAY,MACX,KAzBc,2BA0BP8J,EA1BO,iBA2BjB9J,GAAY,qFACZnR,YAAW,WACTmR,GAAY,MACX,KA9Bc,mDAiCG6I,GAAYhO,IAAI,aAAc,CAC9CxM,IAAK+P,GAAgBiL,GACrBtN,UAAWA,EACXsL,IAAKkC,EACLR,OAAQ3K,GAAgB2K,GACxBkB,UAAWL,EACXM,UAAWJ,EACXd,iBAAkBA,EAClBC,gBAAiBA,EACjB1E,SAAUA,EACV2E,UAAWA,IA3CE,QA8CS,QAblBha,EAjCS,QA8CPC,KAAKC,QACLsM,EAAO,CACXrN,IAAK+P,GAAgBiL,GACrBtN,UAAWA,EACXsL,IAAKkC,EACLR,OAAQ3K,GAAgB2K,GACxBkB,UAAWL,EACXM,UAAWJ,EACXd,iBAAkBA,EAClBC,gBAAiBA,EACjB1E,SAAUA,EACV2E,UAAWA,GAGTzb,KAAKC,UAAUgO,KAAUjO,KAAKC,UAAUyN,IAC1CvO,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,IAAKA,GAChBtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,aAGT8F,GAAyB,8BACzBhF,YAAW,WACTgF,GAAyB,MACxB,MACHjC,EAAGE,KAAH,kCAAmCzD,MAEnC2R,GAAY9Q,EAAIC,KAAKC,QACrBP,YAAW,WACTmR,GAAY,MACX,MA7EU,mDAgFfhS,QAAQC,IAAI,KAAGC,SAhFA,2DAAH,qDA4GlB,OACE,8BACE,uBAAM0B,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,8CACA,qBAAKtB,IAAKiP,EAAUhP,IAAI,oBAAYiL,MAAM,QAC1C,uBACE3V,KAAK,OACLyX,OAAO,UACPvX,GAAG,WACHJ,UAAU,eACVO,SAAU,SAACC,GA/BA,IAACyJ,EAgCNzJ,EAAEC,OAAOmX,MAAM,KA3H7BlD,GAAQS,IAAI,SAASC,MAAMR,GAAUvG,SA6HzBwG,EAAYrU,EAAEC,OAAOmX,MAAM,GAAGrG,MAlCtBtH,EAmCKzJ,EAAEC,OAAOmX,MAAM,GAlCrBlD,GAAQS,IAAR,gBAAqBlL,EAAIsH,OAAQrG,IAAIjB,GAC7C4N,GACT,iBACA,SAACC,OACD,SAAC/X,GACC1B,QAAQC,IAAIyB,MAEd,WACE2U,GACGS,IAAI,SACJC,MAAMnL,EAAIsH,MACVwG,iBACAC,MAAK,SAACC,GACL4B,EAAY5B,gBA2BhB,sBAAKjY,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,0CAEA,cAAC,KAAD,CACE7L,GAAG,WACHE,MAAO+Y,EACPrZ,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdwZ,EAAoBxZ,IAEtB+X,KAAK,OACLC,UAAU,WAIhB,sBAAKtY,UAAU,MAAf,UACG,IACD,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,eAAf,2CAEA,cAAC,KAAD,CACE7L,GAAG,eACHE,MAAOgZ,EACPtZ,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdyZ,EAAmBzZ,IAErB+X,KAAK,OACLC,UAAU,YAIhB,qBAAKtY,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,YAAf,gCACA,yBACE7L,GAAG,YACHJ,UAAU,eACVM,MAAOiZ,EACPhZ,SAAU,SAACC,GAAD,OAAO6Z,EAAa7Z,EAAEC,OAAOH,QAJzC,UAME,wBAAQA,MAAM,yBAAd,oCACA,wBAAQA,MAAM,uBAAd,kCACA,wBAAQA,MAAM,mBAAd,yCAMR,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,kCACA,uBACE/L,KAAK,OACLE,GAAG,SACHJ,UAAU,eACVM,MAAO8Y,EACP7Y,SAAU,SAACC,GAAD,OAAOwZ,EAAUxZ,EAAEC,OAAOH,aAIxC,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,cAAf,8CACA,0BACEjM,UAAU,eACVI,GAAG,cACH6P,KAAK,IACL3P,MAAO2Z,EACP1Z,SAAU,SAACC,GAAD,OAAO0Z,EAAe1Z,EAAEC,OAAOH,aAG7C,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,cAAf,yCACA,cAAC,YAAD,CACEzM,KAAM2a,EACN5B,OAAQC,KACRjY,SAAU,SAACkY,EAAOF,GAChB,IAAM/Y,EAAO+Y,EAAOG,UACpB0B,EAAe5a,IAEjBgb,OAAQ,CACNC,SAAU,CACRC,UAAW,oDAMnB,mBAAG1a,UAAU,mBAAb,SAAiCoQ,KAEjC,sBAAKpQ,UAAU,kBAAf,UACE,wBACEA,UAAU,uBACVE,KAAK,SACLU,QAASiL,GAHX,sBAOA,wBAAQ7L,UAAU,uBAAuBY,QApJlC,WACbqB,EAAGE,KAAH,kCAAmCzD,KAmJ7B,oCClSK80B,GATM,WACnB,OACE,sBAAKxzB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,4CACA,cAAC,GAAD,QCsGSyzB,GAvGO,WAAO,IACnBrzB,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAFiB,EAIkBzD,mBAAS,IAJ3B,mBAInBi1B,EAJmB,KAIHC,EAJG,KAKlBtvB,EAA2BoG,qBAAWlI,IAAtC8B,uBAER0I,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI+X,GAAarI,IAAb,6BAAuCzM,IAF3C,OAERb,EAFQ,OAGdo0B,EAAkBp0B,EAAIC,KAAKA,KAAK2I,QAHlB,gDAKd9J,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAAC2mB,EAAmBvzB,IAuBvB,OACE,gCACE,sBAAKJ,UAAU,kBAAf,UACE,wBAAQA,UAAU,uBAAuBY,QAxBhC,WACbqB,EAAGE,KAAK,8BAuBJ,2BAGA,qBAAKnC,UAAU,YAAf,SACE,wBAAQA,UAAU,uBAAuBY,QAzB5B,WACnBqB,EAAGE,KAAH,oCAAqC/B,EAArC,UAwBM,2BAKJ,mBAAGJ,UAAU,2BAAb,SAAyCqE,IACzC,oBAAIrE,UAAU,YAAd,SAA2B0zB,EAAeh1B,MAC1C,uBAAOsB,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sCACA,oBAAIA,UAAU,aAAd,SAA4B0zB,EAAeh1B,SAE7C,qBAAIsB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SApCc,SAACmM,GACvB,IAAIC,EAAY,GAChB,OAAQD,EAAK,IACX,IAAK,IACHC,EAAY,gCACZ,MACF,IAAK,IACHA,EAAY,+BAKhB,OAAOA,EAyBI4mB,CAAgBU,EAAetnB,gBAGpC,qBAAIpM,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sCACA,qBAAIA,UAAU,aAAd,UACG8V,wBAAa4d,EAAe3d,YAD/B,OACiD,0CAInD,qBAAI/V,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,oCACA,oBAAIA,UAAU,aAAd,SACE,qBACE2K,IAAK+oB,EAAe9d,WACpBhL,IAAI,6BACJiL,MAAM,aAKZ,qBAAI7V,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,yCACA,oBAAIA,UAAU,aAAd,SAA4B0zB,EAAe7Y,WAG7C,qBAAI7a,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,wBACA,oBACEA,UAAU,aACVkzB,wBAAyB,CAAEC,OAAQO,EAAeld,sBCxFjDod,GATW,WACxB,OACE,sBAAK5zB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,0DACA,cAAC,GAAD,QCoSS6zB,GA/RG,WAChB,IAAI5xB,EAAKC,cACD9B,EAAOqT,cAAPrT,GAFc,EAIA3B,mBAAS,IAJT,mBAIf+M,EAJe,KAIVsE,EAJU,OAKIrR,mBAAS,IALb,mBAKf0X,EALe,KAKRpB,EALQ,OAMItW,mBAAS,IANb,mBAMf2X,EANe,KAMRC,EANQ,OAOU5X,mBAAS,IAPnB,mBAOfmW,EAPe,KAOLC,EAPK,OAQYpW,mBAAS,IARrB,mBAQf6X,EARe,KAQJC,EARI,OASM9X,mBAAS,IATf,mBASf+X,EATe,KASPC,EATO,OAUEhY,qBAVF,mBAUfiY,EAVe,KAUTC,EAVS,OAWYlY,mBAAS,IAXrB,mBAWf2N,EAXe,KAWJE,EAXI,OAaM7N,qBAbN,mBAafq1B,EAbe,KAaPC,EAbO,OAcUt1B,mBAAS,IAdnB,mBAcf2R,EAde,KAcLC,EAdK,OAgBM5R,mBAAS,IAhBf,mBAgBfqY,EAhBe,KAgBPC,EAhBO,KAkBdzS,EAA8BmG,qBAAWlI,IAAzC+B,0BAERyI,qBAAU,YACO,uCAAG,8BAAA5P,EAAA,+EAEI+X,GAAarI,IAAb,6BAAuCzM,IAF3C,OAERb,EAFQ,OAGRy0B,EAAez0B,EAAIC,KAAKA,KAAK2I,OACnC4M,EAASif,EAAat1B,KACtB2X,EAAS2d,EAAape,YACtBf,EAAYmf,EAAapf,UACzB2B,EAAayd,EAAaje,YAC1BU,EAAUud,EAAaxd,QACvBlK,EAAa0nB,EAAa5nB,WAC1BuK,EAAQqd,EAAa1zB,OACrByzB,EAAU,CAAEzzB,MAAO0zB,EAAa1zB,MAAOua,MAAOmZ,EAAanZ,QAE3D/K,EAAO,CACL1P,GAAIA,EACJ1B,IAAKs1B,EAAat1B,IAClB8X,OAAQwd,EAAaxd,OACrBiB,MAAOuc,EAAaje,WACpB3J,UAAW4nB,EAAa5nB,UACxBsL,IAAKsc,EAAape,WAClBhB,SAAUof,EAAapf,SACvBoB,cAAege,EAAa1zB,QArBhB,kDAwBdjC,QAAQC,IAAI,KAAIC,SAxBF,0DAAH,qDA2BfyO,GAEqB,uCAAG,4BAAA7P,EAAA,+EAEF+X,GAAarI,IAAI,2BAFf,OAEdtN,EAFc,OAGpBwX,EAAUC,wCAA6BzX,EAAIC,KAAKA,KAAKgW,SAHjC,gDAKpBnX,QAAQC,IAAI,KAAIC,SALI,yDAAH,oDAQrB0Y,KACC,CAAC7W,EAAI2W,IAER,IAgBMG,GAAiB,uCAAG,WAAO3F,GAAP,eAAApU,EAAA,+EAEJ+X,GAAa7X,KAAK,qBAAsB,CACxDkU,KAAMA,IAHc,OAEhBhS,EAFgB,OAKtBoX,EAAQpX,EAAIC,KAAKA,KAAK8V,WAAWlV,IALX,gDAOtB/B,QAAQC,IAAI,KAAMC,SAPI,yDAAH,sDA+BjB4Y,GAAe,CACnBC,OAAQ,SAACC,EAAUC,GAAX,oBAAC,gBACJD,GADG,IAENhK,aAAc,mBACd3C,MAAO4M,EAAMC,WAAa,QAAU,SACpCC,QAAS,MAIP3L,GAAY,uCAAG,4BAAA1O,EAAA,yDACdgZ,EADc,gBAEjB9F,EAAY,kFACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPiG,EANO,iBAOjBjG,EAAY,+FACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,2BAWPmG,EAXO,iBAYjBnG,EAAY,oEACZnR,YAAW,WACTmR,EAAY,MACX,KAfc,mDAkBG6E,GAAahK,IAAI,eAAgB,CACjD9K,GAAIA,EACJ1B,IAAK+P,GAAgB0H,GACrBK,OAAQA,EACRiB,MAAOnB,EACPlK,UAAWA,EACXsL,IAAKtB,EACLxB,SAAUA,EACVoB,cAAeU,IA1BF,QA6BS,OA7BT,OA6BPlX,KAAKC,SACLsM,EAAO,CACX3L,GAAIA,EACJ1B,IAAK+P,GAAgB0H,GACrBK,OAAQA,EACRiB,MAAOnB,EACPlK,UAAWA,EACXsL,IAAKtB,EACLxB,SAAUA,EACVoB,cAAeU,GAEjBrY,QAAQC,MACJR,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,sBAITkG,EAA0B,8BAC1BpF,YAAW,WACToF,EAA0B,MACzB,MACHrC,EAAGE,KAAH,oCAAqC/B,KAtDxB,mDAyDf/B,QAAQC,IAAI,KAAIC,SAzDD,2DAAH,qDA8DlB,OACE,qBAAKyB,UAAU,OAAf,SACE,uBACEC,OAAO,GACPyQ,QAAQ,sBACR1Q,UAAU,4BAHZ,UAKE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,sCACA,uBACE/L,KAAK,OACLE,GAAG,QACHJ,UAAU,eACVM,MAAO6V,EACP5V,SAAU,SAACC,GAAD,OAAOuU,EAASvU,EAAEC,OAAOH,aAIvC,sBAAKN,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,8CACA,qBAAKtB,IAAKyL,EAAOxL,IAAI,6BAAciL,MAAM,MAAM7V,UAAU,SACzD,uBACEE,KAAK,OACLyX,OAAO,UACPvX,GAAG,QAEHG,SAAU,SAACC,GArHA,IAACyJ,EAsHNzJ,EAAEC,OAAOmX,MAAM,KAhJ7BlD,GAAQS,IAAI,UAAUC,MAAMR,GAAUvG,SAkJ1BwG,EAAYrU,EAAEC,OAAOmX,MAAM,GAAGrG,MAxHtBtH,EAyHKzJ,EAAEC,OAAOmX,MAAM,GAxHrBlD,GAAQS,IAAR,iBAAsBlL,EAAIsH,OAAQrG,IAAIjB,GAC9C4N,GACT,iBACA,SAACC,OACD,SAAC/X,GACC1B,QAAQC,IAAIyB,MAEd,WACE2U,GACGS,IAAI,UACJC,MAAMnL,EAAIsH,MACVwG,iBACAC,MAAK,SAACC,GACL5B,EAAS4B,gBAiHb,sBAAKjY,UAAU,aAAf,UACE,uBAAOiM,QAAQ,YAAf,sCAUA,cAAC,KAAD,CACE7L,GAAG,QACHE,MAAOgW,EACPtW,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdiW,EAAajW,IAEf+X,KAAK,OACLC,UAAU,SAId,sBAAKtY,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,cAAC,YAAD,CACEzM,KAAMgX,EACN+B,OAAQC,KACRjY,SAAU,SAACkY,EAAOF,GAChB,IAAM/Y,EAAO+Y,EAAOG,UACpBjC,EAAUjX,SAUhB,sBAAKQ,UAAU,cAAf,UACE,uBAAOiM,QAAQ,SAAf,yCACA,cAAC,KAAD,CACE7L,GAAG,SACHuY,aAAW,EACXpY,SAjMW,SAACqY,EAAcC,GACR,kBAAtBA,EAAW5Y,OACb0W,EAAQiC,EAAatY,OACU,kBAAtBuY,EAAW5Y,QACpBiX,GAAkB0B,EAAatY,QA8LzBwY,QAAShC,EACTiC,OAAQ5B,GACR7W,MAAOwzB,OAGX,mBAAG9zB,UAAU,mBAAb,SAAiCoQ,IAEjC,sBAAKpQ,UAAU,kBAAf,UACE,wBACEA,UAAU,uBACVE,KAAK,SACLU,QAASiL,GAHX,sBAOA,wBAAQ7L,UAAU,uBAAuBY,QArNlC,WACbqB,EAAGE,KAAH,oCAAqC/B,KAoN/B,oCCtRK6zB,GATO,WACpB,OACE,sBAAKj0B,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,qDACA,cAAC,GAAD,QC0ISk0B,GA3IO,WAAO,IACnB9zB,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAFiB,EAIkBzD,mBAAS,IAJ3B,mBAInB01B,EAJmB,KAIHC,EAJG,KAKlBzvB,EAA2B8F,qBAAWlI,IAAtCoC,uBAERoI,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIupB,GAAa7Z,IAAb,6BAAuCzM,IAF3C,OAERb,EAFQ,OAGd60B,EAAkB70B,EAAIC,KAAKA,KAAK6I,QAHlB,gDAKdhK,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAAConB,EAAmBh0B,IA0BvB,OACE,gCACE,sBAAKJ,UAAU,kBAAf,UACE,wBAAQA,UAAU,uBAAuBY,QA3BhC,WACbqB,EAAGE,KAAK,kCA0BJ,2BAGA,qBAAKnC,UAAU,YAAf,SACE,wBAAQA,UAAU,uBAAuBY,QA5B5B,WACnBqB,EAAGE,KAAH,wCAAyC/B,EAAzC,UA2BM,2BAKJ,mBAAGJ,UAAU,2BAAb,SAAyC2E,IACzC,oBAAI3E,UAAU,YAAd,SAA2Bm0B,EAAez1B,MAE1C,uBAAOsB,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,oCACA,oBAAIA,UAAU,aAAd,SAA4Bm0B,EAAez1B,SAE7C,qBAAIsB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SACE,4BAzCY,SAACmM,GACvB,IAAIC,EAAY,GAChB,OAAQD,EAAK,IACX,IAAK,IACHC,EAAY,oBACZ,MACF,IAAK,IACHA,EAAY,oCACZ,MACF,IAAK,IACHA,EAAY,qCAKhB,OAAOA,EA0BO4mB,CAAgBmB,EAAe/nB,kBAGvC,qBAAIpM,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,oCACA,qBAAIA,UAAU,aAAd,UACG8V,wBAAaqe,EAAelN,WAD/B,OACgD,0CAIlD,qBAAIjnB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,yBACA,oBAAIA,UAAU,aAAd,SACGwR,yBAAc2iB,EAAenN,cAIlC,qBAAIhnB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,yDACA,oBAAIA,UAAU,aAAd,SACGwR,yBAAc2iB,EAAepL,gBAIlC,qBAAI/oB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,4BACA,oBAAIA,UAAU,aAAd,SAA4Bm0B,EAAejN,WAG7C,qBAAIlnB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,uCACA,oBAAIA,UAAU,aAAd,SAA4Bm0B,EAAeE,qBAG7C,qBAAIr0B,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,2CACA,oBAAIA,UAAU,aAAd,SAA4Bm0B,EAAeG,oBAG7C,qBAAIt0B,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,kCACA,oBAAIA,UAAU,aAAd,SAA4Bm0B,EAAeI,gBAG7C,qBAAIv0B,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,yDAGA,oBAAIA,UAAU,aAAd,SAA4Bm0B,EAAeK,kBAG7C,qBAAIx0B,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+DAGA,oBAAIA,UAAU,aAAd,SAA4Bm0B,EAAeM,eAG7C,qBAAIz0B,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,wBACA,oBACEA,UAAU,aACVkzB,wBAAyB,CAAEC,OAAQgB,EAAe3d,sBC5HjDke,GATW,WACxB,OACE,sBAAK10B,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,wDACA,cAAC,GAAD,QC8aS20B,GAnaG,WAChB,IAAI1yB,EAAKC,cACD9B,EAAOqT,cAAPrT,GAFc,EAII3B,mBAAS,IAJb,mBAIf4oB,EAJe,KAIRC,EAJQ,OAKM7oB,mBAAS,IALf,mBAKf+X,EALe,KAKPC,EALO,OAMYhY,mBAAS,IANrB,mBAMfwoB,EANe,KAMJM,EANI,OAOQ9oB,mBAAS,IAPjB,mBAOfuoB,EAPe,KAONQ,EAPM,OAQI/oB,mBAAS,iBARb,mBAQfyoB,EARe,KAQRO,EARQ,OASUhpB,mBAAS,IATnB,mBASfipB,EATe,KASLC,EATK,OAUUlpB,mBAAS,IAVnB,mBAUfmpB,EAVe,KAURC,EAVQ,OAWIppB,mBAAS,iBAXb,mBAWf8P,EAXe,KAWRuZ,EAXQ,OAagBrpB,mBAAS,IAbzB,mBAafspB,EAbe,KAaFC,EAbE,OAcgBvpB,mBAAS,IAdzB,mBAcfwpB,EAde,KAcFC,EAdE,OAesBzpB,qBAftB,mBAefm2B,EAfe,KAeCC,EAfD,OAgB4Bp2B,qBAhB5B,oBAgBfq2B,GAhBe,MAgBIC,GAhBJ,SAkBMt2B,mBAAS,IAlBf,qBAkBf0pB,GAlBe,MAkBPC,GAlBO,SAmBY3pB,mBAAS,IAnBrB,qBAmBf4pB,GAnBe,MAmBJC,GAnBI,MAqBd1jB,GAA8B6F,qBAAWlI,IAAzCqC,0BArBc,GAsBUnG,mBAAS,IAtBnB,qBAsBf2R,GAtBe,MAsBLC,GAtBK,SAuBA5R,mBAAS,IAvBT,qBAuBf+M,GAvBe,MAuBVsE,GAvBU,MAyBhByY,GAAa,uCAAG,4BAAAprB,EAAA,+EAEAupB,GAAa7Z,IAAI,2BAFjB,OAEZtN,EAFY,OAGlB6oB,GAAUpR,wCAA6BzX,EAAIC,KAAKA,KAAKgpB,aAHnC,gDAKlBnqB,QAAQC,IAAI,KAAIC,SALE,yDAAH,qDAQbkqB,GAAY,uCAAG,4BAAAtrB,EAAA,+EAECurB,GAAgB7b,IAAI,0BAFrB,OAEXtN,EAFW,OAGjB+oB,GAAatR,wCAA6BzX,EAAIC,KAAKA,KAAK6oB,YAHvC,gDAKjBhqB,QAAQC,IAAI,KAAIC,SALC,yDAAH,qDASlBwO,qBAAU,YACO,uCAAG,8BAAA5P,EAAA,+EAEIupB,GAAa7Z,IAAb,6BAAuCzM,IAF3C,OAERb,EAFQ,OAGR40B,EAAiB50B,EAAIC,KAAKA,KAAK6I,OACrCif,EAAS6M,EAAez1B,KACxB+X,EAAU0d,EAAe3d,QACzB+Q,EAAa4M,EAAelN,WAC5BO,EAAWzU,uBAAYohB,EAAenN,UACtCS,EAAS0M,EAAejN,OACxBS,EAAYwM,EAAejL,eAC3BpB,EAASqM,EAAelL,UACxBpB,EAAesM,EAAe9L,WAE9B0M,GAAqB,CACnBz0B,MAAO6zB,EAAe9L,UACtBxN,MAAOsZ,EAAeG,iBAExBO,EAAkB,CAChBv0B,MAAO6zB,EAAejL,cACtBrO,MAAOsZ,EAAeE,kBAGxBvkB,GAAO,CACL1P,GAAIA,EACJ1B,IAAKy1B,EAAez1B,IACpB8X,OAAQ2d,EAAe3d,OACvByQ,UAAWkN,EAAelN,UAC1BD,QAASjU,uBAAYohB,EAAenN,SACpC5a,UAAW+nB,EAAe/nB,UAC1B8a,MAAOiN,EAAejN,MACtB6B,UAAWhW,uBAAYohB,EAAenN,SACtCgC,OAAQmL,EAAe9L,UACvBY,SAAUkL,EAAelL,SACzBC,cAAeiL,EAAejL,gBAjClB,kDAoCd7qB,QAAQC,IAAI,KAAIC,SApCF,0DAAH,qDAwCfyO,GACiB,uCAAG,4BAAA7P,EAAA,+EAEE8Q,GAAiBpB,IAAI,2BAFvB,OAEVtN,EAFU,OAGhB2oB,EAAe3oB,EAAIC,KAAKA,KAAK0O,YAHb,gDAKhB7P,QAAQC,IAAI,KAAIC,SALA,yDAAH,oDAQjBoqB,GAEiB,uCAAG,4BAAAxrB,EAAA,+EAEE+b,GAAYrM,IAAI,oBAFlB,OAEVtN,EAFU,OAGhByoB,EAAezoB,EAAIC,KAAKA,KAAKyI,OAHb,gDAKhB5J,QAAQC,IAAI,KAAIC,SALA,yDAAH,oDAQjBqqB,GAEAL,KAEAE,OACC,CAACT,EAAgBE,EAAgBE,GAAWE,GAAcloB,IAE7D,IAAM+W,GAAe,CACnBC,OAAQ,SAACC,EAAUC,GAAX,oBAAC,gBACJD,GADG,IAEN3M,MAAO4M,EAAMC,WAAa,QAAU,SACpCC,QAAS,MAePqR,GAAkB,uCAAG,WAAOtX,GAAP,eAAApU,EAAA,+EAELurB,GAAgBrrB,KAAK,oBAAqB,CAC1DkU,KAAMA,IAHe,OAEjBhS,EAFiB,OAKvBsoB,EAAetoB,EAAIC,KAAKA,KAAK6oB,UAAUjoB,IALhB,gDAOvB/B,QAAQC,IAAI,KAAMC,SAPK,yDAAH,sDAsBlBuqB,GAAmB,uCAAG,WAAOvX,GAAP,eAAApU,EAAA,+EAENupB,GAAarpB,KAAK,qBAAsB,CACxDkU,KAAMA,IAHgB,OAElBhS,EAFkB,OAKxBooB,EAAYpoB,EAAIC,KAAKA,KAAKgpB,WAAWpoB,IALb,gDAOxB/B,QAAQC,IAAI,KAAMC,SAPM,yDAAH,sDAenBsN,GAAY,uCAAG,4BAAA1O,EAAA,yDACdkqB,EADc,gBAEjBhX,GAAY,gFACZnR,YAAW,WACTmR,GAAY,MACX,KALc,0BAMP4W,EANO,iBAOjB5W,GAAY,gFACZnR,YAAW,WACTmR,GAAY,MACX,KAVc,4BAWR,IAAIjR,KAAK6nB,GAXD,iBAYjB5W,GAAY,8DACZnR,YAAW,WACTmR,GAAY,MACX,KAfc,2BAgBP2W,EAhBO,iBAiBjB3W,GAAY,qFACZnR,YAAW,WACTmR,GAAY,MACX,KApBc,2BAqBPmG,EArBO,iBAsBjBnG,GAAY,oEACZnR,YAAW,WACTmR,GAAY,MACX,KAzBc,2BA0BPqX,EA1BO,iBA2BjBrX,GAAY,mFACZnR,YAAW,WACTmR,GAAY,MACX,KA9Bc,2BA+BPuX,EA/BO,iBAgCjBvX,GAAY,uFACZnR,YAAW,WACTmR,GAAY,MACX,KAnCc,mDAsCGqW,GAAaxb,IAAI,eAAgB,CACjD9K,GAAIA,EACJ1B,IAAK+P,GAAgB4Y,GACrB7Q,OAAQA,EACRyQ,UAAWA,EACXD,QAASA,EACT5a,UAAW,EACX8a,MAAOA,EACP6B,UAAW/B,EACXgC,OAAQpB,EACRqB,SAAU1a,EACV2a,cAAexB,IAjDF,QAmDS,OAnDT,OAmDPloB,KAAKC,SACLsM,EAAO,CACX3L,GAAIA,EACJ1B,IAAK+P,GAAgB4Y,GACrB7Q,OAAQA,EACRyQ,UAAWA,EACXD,QAASA,EACT5a,UAAW,EACX8a,MAAOA,EACP6B,UAAW/B,EACXgC,OAAQpB,EACRqB,SAAU1a,EACV2a,cAAexB,GAGjBrpB,QAAQC,IAAIR,KAAKC,UAAUyN,MAAS1N,KAAKC,UAAUgO,IAC/CjO,KAAKC,UAAUyN,MAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,IAAKA,IAChBtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,oBAGTwG,GAA0B,8BAC1B1F,YAAW,WACT0F,GAA0B,MACzB,MACH3C,EAAGE,KAAH,wCAAyC/B,KA/E5B,mDAkFf/B,QAAQC,IAAI,KAAIC,SAlFD,2DAAH,qDAuFlB,OACE,8BACE,uBAAM0B,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,aAAf,UACE,uBAAOiM,QAAQ,YAAf,oCACA,uBACE/L,KAAK,OACLE,GAAG,YACHJ,UAAU,eACVM,MAAO+mB,EACP9mB,SAAU,SAACC,GAAD,OAAO8mB,EAAS9mB,EAAEC,OAAOH,aAGvC,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,oCAUA,cAAC,KAAD,CACE7L,GAAG,QACHE,MAAO2mB,EACPjnB,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdinB,EAAajnB,IAEf+X,KAAK,OACLC,UAAU,WAIhB,qBAAKtY,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,yBACA,uBACE/L,KAAK,OACLE,GAAG,UACHJ,UAAU,eACVO,SAAU,SAACC,GAAD,OAAOgnB,EAAWhnB,EAAEC,OAAOH,QACrCA,MAAO0mB,YAMf,sBAAKhnB,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,cAAf,4CACA,yBACE1L,SAAU,SAACC,GAAD,OAAOinB,EAASjnB,EAAEC,OAAOH,QACnCA,MAAO4mB,EACP9mB,GAAG,cACHJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCiL,EAAY3lB,KAAI,SAAC6F,GAChB,OACE,wBAAwB3H,MAAO2H,EAAMvJ,IAArC,SACGuJ,EAAMvJ,KADIuJ,EAAMvJ,gBAQ7B,qBAAKsB,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,kCACA,yBACE1L,SAAU,SAACC,GAAD,OAAOsnB,EAAStnB,EAAEC,OAAOH,QACnCA,MAAOiO,EACPnO,GAAG,QACHJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCmL,EAAY7lB,KAAI,SAACmM,GAChB,OACE,wBAAuBjO,MAAOiO,EAAMnO,GAApC,SACGmO,EAAM7P,KADI6P,EAAMnO,kBAU/B,sBAAKJ,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOiM,QAAQ,aAAf,uCACA,cAAC,KAAD,CACE7L,GAAG,aACHuY,aAAW,EACXpY,SA7NiB,SAACqY,EAAcC,GAClB,kBAAtBA,EAAW5Y,QACb0nB,EAAY/O,EAAatY,OACzBu0B,EAAkBjc,IACa,kBAAtBC,EAAW5Y,OACpB6oB,GAAoBlQ,EAAatY,OACF,UAAtBuY,EAAW5Y,QACpB0nB,EAAY,KAuNF7O,QAASqP,GACTpP,OAAQ5B,GACR7W,MAAOs0B,SAIb,sBAAK50B,UAAU,MAAf,UACG,IACD,sBAAKA,UAAU,cAAf,UACE,uBAAOiM,QAAQ,YAAf,2CACA,cAAC,KAAD,CACE7L,GAAG,YACHuY,aAAW,EACXpY,SAjQgB,SAACqY,EAAcC,GACjB,kBAAtBA,EAAW5Y,QACb4nB,EAAejP,EAAatY,OAC5By0B,GAAqBnc,IACU,kBAAtBC,EAAW5Y,OACpB4oB,GAAmBjQ,EAAatY,OACD,UAAtBuY,EAAW5Y,QACpB4nB,EAAe,KA2PL/O,QAASuP,GACTtP,OAAQ5B,GACR7W,MAAOw0B,cAMf,sBAAK90B,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,cAAC,YAAD,CACEzM,KAAMgX,EACN+B,OAAQC,KACRjY,SAAU,SAACkY,EAAOF,GAChB,IAAM/Y,EAAO+Y,EAAOG,UACpBjC,EAAUjX,SAUhB,mBAAGQ,UAAU,mBAAb,SAAiCoQ,KAEjC,sBAAKpQ,UAAU,kBAAf,UACE,wBACEA,UAAU,uBACVE,KAAK,SACLU,QAASiL,GAHX,sBAOA,wBAAQ7L,UAAU,uBAAuBY,QAzPlC,WACbqB,EAAGE,KAAH,wCAAyC/B,KAwPnC,oCCjaK40B,GATO,WACpB,OACE,sBAAKh1B,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,mDACA,cAAC,GAAD,QC0ESi1B,GA3EQ,WAAO,IAAD,EACOxqB,qBAAWlI,IAArCgF,EADmB,EACnBA,SAAUC,EADS,EACTA,YAEZ+C,EAAWhN,OAAOC,aAAaC,QAAQ,aACvC+O,EAAWjP,OAAOC,aAAaC,QAAQ,aACzCwE,EAAKC,cAmBT,OAlBA6K,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,kEAGG,UAAboN,EAHU,gCAIAnN,EAAayP,IAAI,cAJjB,OAIZtN,EAJY,iCAKU,OAAbgL,EALG,kCAMAnN,EAAayP,IAAI,0BANjB,QAMZtN,EANY,gDAQAnC,EAAayP,IAAb,6BAAuCL,IARvC,QAQZjN,EARY,eAUdiI,EAAYjI,EAAIC,KAAKA,KAAK01B,QAVZ,kDAYd72B,QAAQC,IAAI,KAAIC,SAZF,0DAAH,qDAefyO,KACC,CAACxF,EAAagF,EAAUjC,IAEzB,qBAAKvK,UAAU,OAAf,SACGuH,EAASnF,KAAI,SAAC+yB,GACb,OACE,sBACEn1B,UACkB,YAAhBm1B,EAAGx3B,UACa,YAAhBw3B,EAAGx3B,UACa,aAAhBw3B,EAAGx3B,UACa,wBAAhBw3B,EAAGx3B,SACC,gCACgB,aAAhBw3B,EAAGx3B,SACH,gCACgB,WAAhBw3B,EAAGx3B,UACa,kBAAhBw3B,EAAGx3B,UACa,qCAAhBw3B,EAAGx3B,UACa,sBAAhBw3B,EAAGx3B,SACH,+BACgB,6BAAhBw3B,EAAGx3B,UAA4C,sCAAhBw3B,EAAGx3B,SAClC,6BACgB,aAAhBw3B,EAAGx3B,UACa,cAAhBw3B,EAAGx3B,UACa,sBAAhBw3B,EAAGx3B,SACH,6BACgB,sCAAhBw3B,EAAGx3B,UAAgD,6BAAhBw3B,EAAGx3B,SACtC,kCACA,gCAtBR,gCA0Ba,iCAASw3B,EAAG73B,gBA1BzB,mBA0B2D,IACzD,iCAASkU,yBAAc2jB,EAAGC,cA3B5B,WA2BuD,IACrD,iCAASpiB,uBAAYmiB,EAAGC,cA5B1B,mCA4B8D,IAC5D,mCACGD,EAAGx3B,SADN,MACmBw3B,EAAGh3B,YAEtB,mBACE6B,UAAU,4BACVsN,MAAO,CAAEG,OAAQ,UAAW4nB,MAAO,SACnCz0B,QAAS,SAACJ,GACRA,EAAEiM,kBACFxK,EAAGE,KAAH,qCAAsCgzB,EAAG/0B,UAbxC+0B,EAAG/0B,UCYLk1B,GAjES,WAAO,IAAD,EACI72B,mBAAS,IADb,mBACrB0M,EADqB,KACXoqB,EADW,OAEJ92B,mBAAS,IAFL,mBAErB+2B,EAFqB,KAEfC,EAFe,KAItBlrB,EAAWhN,OAAOC,aAAaC,QAAQ,aACrC+J,EAAgBiD,qBAAWlI,IAA3BiF,YACFgF,EAAWjP,OAAOC,aAAaC,QAAQ,aAa7C,OAXAsP,qBAAU,YACM,uCAAG,4BAAA5P,EAAA,+EAEKgU,GAAetE,IAAI,wBAFxB,OAEPtN,EAFO,OAGbk2B,EAAQl2B,EAAIC,KAAKA,KAAKuI,UAHT,gDAKb1J,QAAQC,IAAI,KAAIC,SALH,yDAAH,qDAQdm3B,KACC,IAED,qBAAK11B,UAAU,OAAf,SACE,yBACEM,MAAO6K,EACP5K,SAAQ,uCAAE,WAAOC,GAAP,iBAAArD,EAAA,yDACRo4B,EAAY/0B,EAAEC,OAAOH,QACjBE,EAAEC,OAAOH,MAFL,0CAIclD,EAAayP,IAAb,6BACMrM,EAAEC,OAAOH,QAL7B,OAIEf,EAJF,OAOJiI,EAAYjI,EAAIC,KAAKA,KAAK01B,QAPtB,gDASJ72B,QAAQC,IAAI,KAAIC,SATZ,6CAca,OAAbgM,EAdA,kCAeUnN,EAAayP,IAAI,0BAf3B,QAeFtN,EAfE,gDAiBUnC,EAAayP,IAAI,cAjB3B,QAiBFtN,EAjBE,eAoBJiI,EAAYjI,EAAIC,KAAKA,KAAK01B,QApBtB,mDAsBJ72B,QAAQC,IAAI,KAAIC,SAtBZ,iEAAF,sDA0BRyB,UAAU,eA5BZ,UA8BE,wBAAQM,MAAM,GAAd,oCACc,UAAbiK,EAAuB,wBAAQjK,MAAOkM,EAAf,mBAA0C,GACjEgpB,EAAKpzB,KAAI,SAACuzB,GACT,OACE,yBAAoBr1B,MAAOq1B,EAAGjkB,QAA9B,UACGikB,EAAGjkB,QADN,MACkBikB,EAAGpkB,KADrB,MAC8BokB,EAAGj4B,SADpBi4B,EAAGv1B,aC5Cbw1B,GAXY,WACzB,IAAMrrB,EAAWhN,OAAOC,aAAaC,QAAQ,aAC7C,OACE,sBAAKuC,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,wDACc,OAAbuK,GAAkC,UAAbA,EAAuB,cAAC,GAAD,IAAsB,GACnE,cAAC,GAAD,QCsKSsrB,GAxKK,WAClB,IAAI5zB,EAAKC,cADe,EAEFzD,mBAAS,IAFP,mBAEjB+M,EAFiB,KAEZsE,EAFY,KAGhB1P,EAAOqT,cAAPrT,GAHgB,EAIM3B,mBAAS,IAJf,mBAIjBuoB,EAJiB,KAIRQ,EAJQ,OAKI/oB,mBAAS,IALb,mBAKjB+X,EALiB,KAKTC,EALS,OAMAhY,mBAAS,iBANT,mBAMjBurB,EANiB,KAMXC,EANW,OAQoBxrB,mBAAS,IAR7B,mBAQjByrB,EARiB,KAQDC,EARC,KAUhBvkB,EAAgC6E,qBAAWlI,IAA3CqD,4BAVgB,EAWQnH,mBAAS,IAXjB,mBAWjB2R,EAXiB,KAWPC,EAXO,KAaxBtD,qBAAU,YACY,uCAAG,4BAAA5P,EAAA,+EAEDgU,GAAetE,IAAI,wBAFlB,OAEbtN,EAFa,OAGnB4qB,EAAkB5qB,EAAIC,KAAKA,KAAKuI,UAHb,gDAKnB1J,QAAQC,IAAI,KAAIC,SALG,yDAAH,qDAQpB6rB,GAEe,uCAAG,8BAAAjtB,EAAA,+EAEI0vB,GAAehgB,IAAf,qBAAiCzM,IAFrC,OAERb,EAFQ,OAGRu2B,EAAmBv2B,EAAIC,KAAKA,KAAKuJ,SACvCye,EAAWzU,uBAAY+iB,EAAiB9O,UACxCvQ,EAAUqf,EAAiBtf,QAC3ByT,EAAQ6L,EAAiBtL,MAEzB1a,EAAO,CACL1P,GAAIA,EACJ4mB,QAASjU,uBAAY+iB,EAAiB9O,SACtCxQ,OAAQsf,EAAiBtf,OACzB6T,WAAYyL,EAAiBtL,OAZjB,kDAednsB,QAAQC,IAAI,KAAIC,SAfF,0DAAH,oDAmBfyO,KACC,CAACmd,EAAmB/pB,IAEvB,IAIMyL,EAAY,uCAAG,4BAAA1O,EAAA,yDACd6pB,EADc,gBAEjB3W,EAAY,oEACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPmG,EANO,iBAOjBnG,EAAY,mEACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,mDAaGwc,GAAe3hB,IAAI,OAAQ,CAC3C9K,GAAIA,EACJ4mB,QAASA,EACTxQ,OAAQA,EACR6T,WAAYL,IAjBC,QAmBS,OAnBT,OAmBPxqB,KAAKC,SACLsM,EAAO,CACX3L,GAAIA,EACJ4mB,QAASA,EACTxQ,OAAQA,EACR6T,WAAYL,GAGVlsB,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,2BAGTwH,EAA4B,8BAC5B1G,YAAW,WACT0G,EAA4B,MAC3B,MACH3D,EAAGE,KAAH,yCAA0C/B,KAvC7B,mDA0Cf/B,QAAQC,IAAI,KAAIC,SA1CD,2DAAH,qDA8ClB,OACE,8BACE,uBAAM0B,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,iDACA,yBACE1L,SAAU,SAACC,GACTypB,EAAQzpB,EAAEC,OAAOH,QAEnBA,MAAO0pB,EACP5pB,GAAG,QACHJ,UAAU,eANZ,UAQE,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCoN,EAAe9nB,KAAI,SAAC2F,GACnB,OACE,wBAA0BzH,MAAOyH,EAAS3H,GAA1C,SACG2H,EAASwJ,MADCxJ,EAAS3H,eAQhC,qBAAKJ,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,yBACA,uBACE/L,KAAK,OACLE,GAAG,UACHJ,UAAU,eACVO,SAAU,SAACC,GAAD,OAAOgnB,EAAWhnB,EAAEC,OAAOH,QACrCA,MAAO0mB,YAMf,sBAAKhnB,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,0BACEjM,UAAU,eACVI,GAAG,SACH6P,KAAK,IACL3P,MAAOkW,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAUjW,EAAEC,OAAOH,aAIxC,mBAAGN,UAAU,mBAAb,SAAiCoQ,IAEjC,sBAAKpQ,UAAU,kBAAf,UACE,wBACEA,UAAU,uBACVE,KAAK,SACLU,QAASiL,EAHX,sBAOA,wBAAQ7L,UAAU,uBAAuBY,QAjHlC,WACbqB,EAAGE,KAAH,yCAA0C/B,KAgHpC,oCC3JK21B,GATS,WACtB,OACE,sBAAK/1B,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,kDACA,cAAC,GAAD,QCmESg2B,GArES,WAAO,IACrB51B,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAFmB,EAIoBzD,mBAAS,IAJ7B,mBAIrBq3B,EAJqB,KAIHG,EAJG,KAKpBtwB,EAA6B8E,qBAAWlI,IAAxCoD,yBAERoH,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI0vB,GAAehgB,IAAf,qBAAiCzM,IAFrC,OAERb,EAFQ,OAGd02B,EAAoB12B,EAAIC,KAAKA,KAAKuJ,UAHpB,gDAKd1K,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAACipB,EAAqB71B,IAQzB,OACE,gCACE,sBAAKJ,UAAU,kBAAf,UACE,wBAAQA,UAAU,uBAAuBY,QAThC,WACbqB,EAAGE,KAAK,mCAQJ,2BAGA,qBAAKnC,UAAU,YAAf,SACE,wBAAQA,UAAU,uBAAuBY,QAV5B,WACnBqB,EAAGE,KAAH,yCAA0C/B,EAA1C,UASM,2BAKJ,mBAAGJ,UAAU,2BAAb,SAAyC2F,IACzC,qBAAI3F,UAAU,YAAd,gCAAsC81B,EAAiB11B,MACvD,uBAAOJ,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,iDACA,oBAAIA,UAAU,aAAd,SAA4B81B,EAAiBpM,WAG/C,qBAAI1pB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,yBACA,oBAAIA,UAAU,aAAd,SACGwR,yBAAcskB,EAAiB9O,cAGpC,qBAAIhnB,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,iCACA,qBAAIA,UAAU,aAAd,UACG8V,wBAAaggB,EAAiBrY,UADjC,OACiD,0CAGnD,qBAAIzd,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,wBACA,oBAAIA,UAAU,aAAd,SAA4B81B,EAAiBtf,qBCiB1C0f,GA7EY,SAAC,GAAwB,IAAtB91B,EAAqB,EAArBA,GAAI+1B,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,KAClCn0B,EAAKC,cADwC,EAG/CuI,qBAAWlI,IADLgD,EAFyC,EAEzCA,kBAAmBC,EAFsB,EAEtBA,qBAGrB4I,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,6DACnBqD,EAAEiM,kBADiB,kBAGCogB,GAAexe,OAAf,wBAAuCjO,IAHxC,OAKA,KALA,OAKTZ,OACNvC,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAK4qB,GAChBl4B,QAAS,GACTE,IAAK,wCAEPoH,EACED,EAAkB+I,QAAO,SAAC+nB,GACxB,OAAOA,EAAUj2B,KAAOA,MAG5B6B,EAAGE,KAAK,kCACRF,EAAGE,KAAH,yCAA0Cg0B,KAlB3B,gDAqBjB93B,QAAQC,IAAI,KAAIC,SArBC,yDAAH,sDAwBlB,OACE,gCACE,mBACEyB,UAAU,+BACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,SAGF,qBAAKJ,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,OAAnC,SACE,qBAAKJ,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,mBAAGA,UAAU,YAAb,mGAKF,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCC+SCgrB,GAxWY,SAAC,GAAkB,IAAhBl2B,EAAe,EAAfA,GAAI+1B,EAAW,EAAXA,KAC5Bl0B,EAAKC,cADkC,EAErBzD,mBAAS,IAFY,mBAEpC+M,EAFoC,KAE/BsE,EAF+B,OAGjBrR,mBAAS,IAHQ,mBAGpC83B,EAHoC,KAG7BC,EAH6B,OAIf/3B,mBAAS,IAJM,mBAIpC+X,EAJoC,KAI5BC,EAJ4B,OAKfhY,mBAAS,IALM,mBAKpCg4B,EALoC,KAK5BC,EAL4B,OAMbj4B,mBAAS,KANI,mBAMpCimB,EANoC,KAM3BiS,EAN2B,OAOXl4B,mBAAS,IAPE,mBAOpCm4B,EAPoC,KAO1BC,EAP0B,OAQXp4B,mBAAS,IARE,mBAQpCmpB,EARoC,KAQ7BC,EAR6B,OASjBppB,mBAAS,iBATQ,mBASpC8P,EAToC,KAS7BuZ,EAT6B,OAWLrpB,mBAAS,IAXJ,mBAWpCwpB,EAXoC,KAWvBC,EAXuB,OAYfzpB,mBAAS,IAZM,mBAYpCq4B,EAZoC,KAY5BC,EAZ4B,OAaTt4B,mBAAS,IAbA,mBAapC4pB,EAboC,KAazBC,GAbyB,QAeC7pB,qBAfD,qBAepCu4B,GAfoC,MAepBC,GAfoB,SAgBOx4B,qBAhBP,qBAgBpCq2B,GAhBoC,MAgBjBC,GAhBiB,MAkBrCmC,GAAc,uCAAG,4BAAA/5B,EAAA,+EAED0vB,GAAehgB,IAAI,4BAFlB,OAEbtN,EAFa,OAGnBw3B,EAAU/f,wCAA6BzX,EAAIC,KAAKA,KAAK23B,SAHlC,gDAKnB94B,QAAQC,IAAI,KAAIC,SALG,yDAAH,qDAQdkqB,GAAY,uCAAG,4BAAAtrB,EAAA,+EAECurB,GAAgB7b,IAAI,0BAFrB,OAEXtN,EAFW,OAGjB+oB,GAAatR,wCAA6BzX,EAAIC,KAAKA,KAAK6oB,YAHvC,gDAKjBhqB,QAAQC,IAAI,KAAIC,SALC,yDAAH,qDASZoqB,GAAW,uCAAG,4BAAAxrB,EAAA,+EAEE8Q,GAAiBpB,IAAI,2BAFvB,OAEVtN,EAFU,OAGhB2oB,EAAe3oB,EAAIC,KAAKA,KAAK0O,YAHb,gDAKhB7P,QAAQC,IAAI,KAAIC,SALA,yDAAH,qDASXyO,GAAS,uCAAG,8BAAA7P,EAAA,+EAEI0vB,GAAehgB,IAAf,4BAAwCzM,IAF5C,OAGU,QADlBb,EAFQ,QAGNC,KAAKC,SACL23B,EAAe73B,EAAIC,KAAKA,KAAK63B,iBACnCb,EAASY,EAAa14B,KACtB+X,EAAU2gB,EAAa5gB,QACvBkgB,EAAUU,EAAaX,QACvBE,EAAWS,EAAa1S,SACxBmS,EAAYO,EAAaE,aACzBxP,EAASsP,EAAanO,UACtBpB,EAAeuP,EAAaG,cAE5BxC,GAAqB,CACnBz0B,MAAO82B,EAAaG,aACpB1c,MAAOuc,EAAa9C,iBAEtB2C,GAAkB,CAChB32B,MAAO82B,EAAaE,YACpBzc,MAAOuc,EAAaI,gBAGtB1nB,EAAO,CACL1P,GAAIA,EACJ1B,IAAK04B,EAAa14B,IAClB+3B,OAAQW,EAAaX,OACrB/R,QAAS0S,EAAa1S,QACtBnC,UAAW6U,EAAa7U,UACxB/L,OAAQ4gB,EAAa5gB,OACrB6R,UAAW+O,EAAaG,aACxBD,YAAaF,EAAaE,YAC1BrO,SAAUmO,EAAanO,YA/Bb,gDAmCd5qB,QAAQC,IAAI,KAAIC,SAnCF,yDAAH,qDAuCT4Y,GAAe,CACnBC,OAAQ,SAACC,EAAUC,GAAX,oBAAC,gBACJD,GADG,IAEN3M,MAAO4M,EAAMC,WAAa,QAAU,SACpCC,QAAS,MAcPqR,GAAkB,uCAAG,WAAOtX,GAAP,eAAApU,EAAA,+EAELurB,GAAgBrrB,KAAK,oBAAqB,CAC1DkU,KAAMA,IAHe,OAEjBhS,EAFiB,OAKvBtC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK6oB,WAC9BjqB,IAAK,kCAEPypB,EAAetoB,EAAIC,KAAKA,KAAK6oB,UAAUjoB,IAXhB,gDAavB/B,QAAQC,IAAI,KAAMC,SAbK,yDAAH,sDA2BlBk5B,GAAoB,uCAAG,WAAOlmB,GAAP,eAAApU,EAAA,+EAEP0vB,GAAexvB,KAAK,sBAAuB,CAC3DkU,KAAMA,IAHiB,OAEnBhS,EAFmB,OAKzBs3B,EAAYt3B,EAAIC,KAAKA,KAAK23B,OAAO/2B,IACjCnD,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK23B,QAC9B/4B,IAAK,6BAVkB,gDAazBC,QAAQC,IAAI,KAAMC,SAbO,yDAAH,sDAwBpBsN,GAAY,uCAAG,WAAOrL,GAAP,eAAArD,EAAA,yDACnBqD,EAAEiM,oBACE8pB,GAASE,GAAU/R,GAAWlO,GAAUoR,GAASkP,GAAUvoB,GAF5C,0CAIGse,GAAe3hB,IAAI,gBAAiB,CACpD9K,GAAIA,EACJ1B,IAAK+P,GAAgB8nB,GACrBE,OAAQA,EACR/R,QAASA,EACTnC,UAAWzP,SAAS2jB,GAAU3jB,SAAS4R,GACvClO,OAAQA,EACR6R,UAAWT,EACX0P,YAAaV,EACb3N,SAAU1a,IAbG,OAeS,OAfT,OAeP/O,KAAKC,SACLsM,EAAO,CACX3L,GAAIA,EACJ1B,IAAK+P,GAAgB8nB,GACrBE,OAAQA,EACR/R,QAASA,EACTnC,UAAW,GAAKzP,SAAS2jB,GAAU3jB,SAAS4R,GAC5ClO,OAAQA,EACR6R,UAAWT,EACX0P,YAAaV,EACb3N,SAAU1a,GAERzQ,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,wCAGT6D,EAAGE,KAAK,kCACRF,EAAGE,KAAH,yCAA0Cg0B,KApC7B,gDAkDf93B,QAAQC,IAAI,KAAIC,SAlDD,yDAAH,sDAuDlB,OACE,gCACE,mBACEyB,UAAU,qCACVoL,cAAY,QACZC,cAAA,aAAmBjL,EAAnB,OACAQ,QApEoB,WACxBoM,KACA2b,KACAF,KACAyO,QAmEE,qBAAKl3B,UAAU,kBAAkBI,GAAE,YAAOA,EAAP,OAAnC,SACE,qBAAKJ,UAAU,8CAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,wEAGA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,sBAAKtL,UAAU,aAAf,UACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAO,oBAAe7L,GAA7B,mCACA,uBACEF,KAAK,OACLE,GAAE,oBAAeA,GACjBJ,UAAU,eACVM,MAAOi2B,EACPh2B,SAAU,SAACC,GAAD,OAAOg2B,EAASh2B,EAAEC,OAAOH,aAGvC,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAO,gBAAW7L,GAAzB,kCACA,cAAC,KAAD,CACEA,GAAE,gBAAWA,GACbE,MAAOm2B,EACPz2B,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdo2B,EAAUp2B,IAEZ+X,KAAK,OACLC,UAAU,WAIhB,qBAAKtY,UAAU,MAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOiM,QAAO,mBAAc7L,GAA5B,2CACA,cAAC,KAAD,CACEA,GAAE,mBAAcA,GAChBuY,aAAW,EACXpY,SA5KU,SAACqY,EAAcC,GACjB,kBAAtBA,EAAW5Y,OACb4nB,EAAejP,EAAatY,OACG,kBAAtBuY,EAAW5Y,OACpB4oB,GAAmBjQ,EAAatY,OACD,UAAtBuY,EAAW5Y,QACpB4nB,EAAe,KAuKC/O,QAASuP,EACTtP,OAAQ5B,GACR7W,MAAOw0B,UAIb,qBAAK90B,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAO,iBAAY7L,GAA1B,qCACA,uBACEF,KAAK,SACLE,GAAE,iBAAYA,GACdJ,UAAU,eACVM,MAAOokB,EACP+F,IAAI,IACJgH,IAAI,OACJlxB,SAAU,SAACC,GAAD,OAAOm2B,EAAWn2B,EAAEC,OAAOH,kBAM7C,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOiM,QAAO,qBAAgB7L,GAA9B,sCACA,cAAC,KAAD,CACEA,GAAE,qBAAgBA,GAClBuY,aAAW,EACXpY,SA/KY,SAACqY,EAAcC,GACnB,kBAAtBA,EAAW5Y,OACb42B,EAAYje,EAAatY,OACM,kBAAtBuY,EAAW5Y,OACpBw3B,GAAqB7e,EAAatY,OACH,UAAtBuY,EAAW5Y,QACpB42B,EAAY,KA0KI/d,QAASge,EACT/d,OAAQ5B,GACR7W,MAAO02B,UAIb,qBAAKh3B,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAO,eAAU7L,GAAxB,kCACA,yBACEG,SAAU,SAACC,GAAD,OAAOsnB,EAAStnB,EAAEC,OAAOH,QACnCA,MAAOiO,EACPnO,GAAE,eAAUA,GACZJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCmL,EAAY7lB,KAAI,SAACmM,GAChB,OACE,wBAAuBjO,MAAOiO,EAAMnO,GAApC,SACGmO,EAAM7P,KADI6P,EAAMnO,kBAU/B,sBAAKJ,UAAU,aAAf,UACE,uBAAOiM,QAAO,gBAAW7L,GAAzB,wBACA,0BACEA,GAAE,gBAAWA,GACb6P,KAAK,IACLjQ,UAAU,eACVM,MAAOkW,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAUjW,EAAEC,OAAOH,gBAK1C,sBAAKN,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAOqL,GAAarL,IAJ/B,sBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCC3NCosB,GAjIiB,WAAO,IAAD,EAElCjtB,qBAAWlI,IADLgD,EAD4B,EAC5BA,kBAAmBC,EADS,EACTA,qBAEnBpF,EAAOqT,cAAPrT,GAcR,OAbA2M,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI0vB,GAAehgB,IAAf,8BAA0CzM,IAF9C,OAGU,QADlBb,EAFQ,QAGNC,KAAKC,QACX+F,EAAqBjG,EAAIC,KAAKA,KAAK63B,kBAJvB,gDAOdh5B,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,KACC,CAACxH,EAAsBpF,IAExB,qBAAKJ,UAAU,YAAf,SACGuF,EAAkBnD,KAAI,SAACi0B,GACtB,OACE,qBAAKr2B,UAAU,gBAAf,SACE,sBAAKA,UAAU,0BAAf,UACE,sBAAKA,UAAU,8CAAf,UACE,6BAAKq2B,EAAU33B,MACf,uBAAMsB,UAAU,SAAhB,UACE,cAAC,GAAD,CACEI,GAAIi2B,EAAUj2B,GACd+1B,KAAME,EAAUsB,cAElB,cAAC,GAAD,CACEv3B,GAAIi2B,EAAUj2B,GACd+1B,KAAME,EAAUsB,YAChBvB,KAAMC,UAOZ,qBAAKr2B,UAAU,YAAf,SACE,oBAAGA,UAAU,YAAb,UACE,kDADF,IAC8Bq2B,EAAU7f,YAG1C,qBAAIxW,UAAU,8BAAd,UACE,qBAAIA,UAAU,kBAAd,UACE,4DACA,4BAAI8V,wBAAaugB,EAAUI,UAF7B,IAE0C,yCAF1C,QAGI,6BAAKJ,EAAU/B,oBAEnB,qBAAIt0B,UAAU,kBAAd,UACE,+DADF,IAC+Bq2B,EAAU3R,QACvC,mCAAM2R,EAAU/B,qBAGlB,qBAAIt0B,UAAU,kBAAd,UACE,0DACA,4BAAI8V,wBAAaugB,EAAU9T,aAAgB,IAC3C,4CAGF,qBAAIviB,UAAU,kBAAd,UACE,yDACCq2B,EAAUmB,iBAEb,qBAAIx3B,UAAU,kBAAd,UACE,4DADF,IACmCq2B,EAAU9B,cAE7C,qBAAIv0B,UAAU,kBAAd,UACE,2CADF,IAC0Bq2B,EAAU5B,aAEpC,qBAAIz0B,UAAU,kBAAd,UACE,8DADF,IAC8Bq2B,EAAU7B,uBApDV6B,EAAUj2B,UC2TzCw3B,GA7Ua,WAAO,IACzBx3B,EAAOqT,cAAPrT,GADwB,EAEN3B,mBAAS,IAFH,mBAEzB83B,EAFyB,KAElBC,EAFkB,OAGJ/3B,mBAAS,IAHL,mBAGzB+X,EAHyB,KAGjBC,EAHiB,OAIJhY,mBAAS,IAJL,mBAIzBg4B,EAJyB,KAIjBC,EAJiB,OAKFj4B,mBAAS,KALP,mBAKzBimB,EALyB,KAKhBiS,EALgB,OAMAl4B,mBAAS,IANT,mBAMzBm4B,EANyB,KAMfC,EANe,OAOAp4B,mBAAS,IAPT,mBAOzBmpB,EAPyB,KAOlBC,EAPkB,OAQNppB,mBAAS,iBARH,mBAQzB8P,EARyB,KAQlBuZ,EARkB,OAUMrpB,mBAAS,IAVf,mBAUzBwpB,EAVyB,KAUZC,EAVY,OAWJzpB,mBAAS,IAXL,mBAWzBq4B,EAXyB,KAWjBC,EAXiB,OAYEt4B,mBAAS,IAZX,mBAYzB4pB,EAZyB,KAYdC,EAZc,OAcA7pB,mBAAS,IAdT,mBAczB2R,EAdyB,KAcfC,EAde,KAgB5BpO,EAAKC,cACHg1B,EAAc,uCAAG,4BAAA/5B,EAAA,+EAED0vB,GAAehgB,IAAI,4BAFlB,OAEbtN,EAFa,OAGnBw3B,EAAU/f,wCAA6BzX,EAAIC,KAAKA,KAAK23B,SAHlC,gDAKnB94B,QAAQC,IAAI,KAAIC,SALG,yDAAH,qDAQdkqB,GAAY,uCAAG,4BAAAtrB,EAAA,+EAECurB,GAAgB7b,IAAI,0BAFrB,OAEXtN,EAFW,OAGjB+oB,EAAatR,wCAA6BzX,EAAIC,KAAKA,KAAK6oB,YAHvC,gDAKjBhqB,QAAQC,IAAI,KAAIC,SALC,yDAAH,qDASlBwO,qBAAU,YACS,uCAAG,4BAAA5P,EAAA,+EAEE8Q,GAAiBpB,IAAI,2BAFvB,OAEVtN,EAFU,OAGhB2oB,EAAe3oB,EAAIC,KAAKA,KAAK0O,YAHb,gDAKhB7P,QAAQC,IAAI,KAAIC,SALA,yDAAH,qDAQjBoqB,GACAuO,IACAzO,OACC,CAACP,EAAgB6O,EAAWzO,IAE/B,IAAMnR,GAAe,CACnBC,OAAQ,SAACC,EAAUC,GAAX,oBAAC,gBACJD,GADG,IAEN3M,MAAO4M,EAAMC,WAAa,QAAU,SACpCC,QAAS,MAcPqR,GAAkB,uCAAG,WAAOtX,GAAP,eAAApU,EAAA,+EAELurB,GAAgBrrB,KAAK,oBAAqB,CAC1DkU,KAAMA,IAHe,OAEjBhS,EAFiB,OAKvBtC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK6oB,WAC9BjqB,IAAK,kCAEPypB,EAAetoB,EAAIC,KAAKA,KAAK6oB,UAAUjoB,IAXhB,gDAavB/B,QAAQC,IAAI,KAAMC,SAbK,yDAAH,sDA2BlBk5B,GAAoB,uCAAG,WAAOlmB,GAAP,eAAApU,EAAA,+EAEP0vB,GAAexvB,KAAK,sBAAuB,CAC3DkU,KAAMA,IAHiB,OAEnBhS,EAFmB,OAKzBtC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK23B,QAC9B/4B,IAAK,6BAEPy4B,EAAYt3B,EAAIC,KAAKA,KAAK23B,OAAO/2B,IAXR,gDAazB/B,QAAQC,IAAI,KAAMC,SAbO,yDAAH,sDAiBpBS,GAAY,uCAAG,4BAAA7B,EAAA,yDACdo5B,EADc,gBAEjBlmB,EAAY,+EACZnR,YAAW,WACTmR,EAAY,MACX,KALc,0BAMPomB,EANO,iBAOjBpmB,EAAY,8EACZnR,YAAW,WACTmR,EAAY,MACX,KAVc,4BAWR,IAAIjR,KAAKq3B,GAXD,iBAYjBpmB,EAAY,4DACZnR,YAAW,WACTmR,EAAY,MACX,KAfc,2BAgBPuX,EAhBO,iBAiBjBvX,EAAY,uFACZnR,YAAW,WACTmR,EAAY,MACX,KApBc,4BAqBR,IAAIjR,KAAKslB,EAAU,IArBX,iBAsBjBrU,EAAY,+DACZnR,YAAW,WACTmR,EAAY,MACX,KAzBc,2BA0BPumB,EA1BO,iBA2BjBvmB,EAAY,mFACZnR,YAAW,WACTmR,EAAY,MACX,KA9Bc,2BA+BE,kBAAV9B,EA/BQ,iBAgCjB8B,EAAY,8EACZnR,YAAW,WACTmR,EAAY,MACX,KAnCc,2BAoCPmG,EApCO,iBAqCjBnG,EAAY,oEACZnR,YAAW,WACTmR,EAAY,MACX,KAxCc,mDA2CGwc,GAAexvB,KAAK,iBAAkB,CACtDqB,IAAK+P,GAAgB8nB,GACrBE,OAAQA,EACR/R,QAASA,EACTnC,UAAWzP,SAAS2jB,GAAU3jB,SAAS4R,GACvClO,OAAQA,EACRmhB,YAAav3B,EACbioB,UAAWT,EACX0P,YAAaV,EACb3N,SAAU1a,IApDG,QAsDS,QAXlBhP,EA3CS,QAsDPC,KAAKC,QACXxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK63B,kBAC9Bj5B,IAAK,wCAEP6D,EAAGE,KAAK,kCACRF,EAAGE,KAAH,yCAA0C/B,MAE1CiQ,EAAY9Q,EAAIC,KAAKC,QACrBP,YAAW,WACTmR,EAAY,MACX,MAnEU,mDAsEfhS,QAAQC,IAAI,KAAIC,SAtED,2DAAH,qDA0ElB,OACE,8BACE,qBAAKyB,UAAU,aAAf,SACE,qBAAKI,GAAG,sBAAR,SACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAcI,GAAG,gBAAhC,SACE,oBAAIJ,UAAU,OAAd,SACE,qBACEA,UAAU,yBACVoL,cAAY,WACZC,cAAY,2BACZiF,gBAAc,QACdC,gBAAc,0BACdjD,MAAO,CAAEG,OAAQ,WANnB,wCAYJ,qBACErN,GAAG,0BACHJ,UAAU,WACVwQ,kBAAgB,gBAChBC,cAAY,uBAJd,SAME,qBAAKzQ,UAAU,iBAAf,SACE,uBAAMC,OAAO,GAAGyQ,QAAQ,sBAAxB,UACE,sBAAK1Q,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,mCACA,uBACE/L,KAAK,OACLE,GAAG,aACHJ,UAAU,eACVM,MAAOi2B,EACPh2B,SAAU,SAACC,GAAD,OAAOg2B,EAASh2B,EAAEC,OAAOH,aAGvC,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,kCACA,cAAC,KAAD,CACE7L,GAAG,SACHE,MAAOm2B,EACPz2B,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACdo2B,EAAUp2B,IAEZ+X,KAAK,OACLC,UAAU,WAIhB,qBAAKtY,UAAU,MAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOiM,QAAQ,YAAf,2CACA,cAAC,KAAD,CACE7L,GAAG,YACHuY,aAAW,EACXpY,SA7LM,SAACqY,EAAcC,GACjB,kBAAtBA,EAAW5Y,OACb4nB,EAAejP,EAAatY,OACG,kBAAtBuY,EAAW5Y,OACpB4oB,GAAmBjQ,EAAatY,OACD,UAAtBuY,EAAW5Y,QACpB4nB,EAAe,KAwLK/O,QAASuP,EACTtP,OAAQ5B,UAId,qBAAKnX,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,qCACA,uBACE/L,KAAK,SACLE,GAAG,UACHJ,UAAU,eACVM,MAAOokB,EACP+F,IAAI,IACJgH,IAAI,OACJlxB,SAAU,SAACC,GAAD,OAAOm2B,EAAWn2B,EAAEC,OAAOH,kBAM7C,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOiM,QAAQ,cAAf,sCACA,cAAC,KAAD,CACE7L,GAAG,cACHuY,aAAW,EACXpY,SA/LQ,SAACqY,EAAcC,GACnB,kBAAtBA,EAAW5Y,OACb42B,EAAYje,EAAatY,OACM,kBAAtBuY,EAAW5Y,OACpBw3B,GAAqB7e,EAAatY,OACH,UAAtBuY,EAAW5Y,QACpB42B,EAAY,KA0LQ/d,QAASge,EACT/d,OAAQ5B,UAId,qBAAKnX,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,kCACA,yBACE1L,SAAU,SAACC,GAAD,OAAOsnB,EAAStnB,EAAEC,OAAOH,QACnCA,MAAOiO,EACPnO,GAAG,QACHJ,UAAU,eAJZ,UAME,wBAAQM,MAAM,gBAAWwc,UAAQ,EAAjC,6BAGCmL,EAAY7lB,KAAI,SAACmM,GAChB,OACE,wBAAuBjO,MAAOiO,EAAMnO,GAApC,SACGmO,EAAM7P,KADI6P,EAAMnO,kBAU/B,sBAAKJ,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,wBACA,0BACE7L,GAAG,SACH6P,KAAK,IACLjQ,UAAU,eACVM,MAAOkW,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAUjW,EAAEC,OAAOH,aAIxC,wBACEJ,KAAK,SACLF,UAAU,4BACVY,QAAS5B,GAHX,qBAOA,mBAAGgB,UAAU,mBAAb,SAAiCoQ,qBC7TpCynB,GAXa,WAC1B,OACE,sBAAK73B,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,0CACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,QCRSlD,OAAMC,OAAO,CAC1BC,QAASH,EAAS,oBCyJLi7B,GAtJE,SAAC,GAAuB,IAArBzb,EAAoB,EAApBA,QAAS0b,EAAW,EAAXA,KAAW,EACdt5B,mBAAS,IADK,mBAC/B+vB,EAD+B,KACzBC,EADyB,OAENhwB,mBAAS,IAFH,mBAE/Bu5B,EAF+B,KAErBC,EAFqB,OAGRx5B,mBAAS,IAHD,mBAG/BmgB,EAH+B,KAGtBsZ,EAHsB,OAINz5B,mBAAS,IAJH,mBAI/BkgB,EAJ+B,KAIrBwZ,EAJqB,OAMR15B,mBAAS,IAND,mBAM/BsF,EAN+B,KAMtBC,EANsB,KAQlC/B,EAAKC,cACHsK,EAAWjP,OAAOC,aAAaC,QAAQ,aAEvC26B,EAAc,uCAAG,WAAO53B,GAAP,eAAArD,EAAA,yDACrBqD,EAAEiM,mBACE+hB,IAAQwJ,EAFS,0CAICK,GAAah7B,KAAK,kBAAmB,CACrDi7B,QAASjc,EACTkc,SAAUP,EACVQ,QAAShK,EACTiK,SAAUjsB,EACV0W,YAAa6U,EACbnZ,QAASA,IAVM,QAIXrf,EAJW,QAYTC,KAAKA,KAAKk5B,WAChBz7B,EAAW,CACTW,MAAO,gBACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAKk5B,UAC9Bt6B,IAAK,aAEP6D,EAAGE,KAAK,8BAnBO,gDAsBjB9D,QAAQC,IAAI,KAAIC,SAtBC,yDAAH,sDA0Bd6S,EAAW,uCAAG,8BAAAjU,EAAA,+EAEE+b,GAAYrM,IAAZ,8BAAuCwP,IAFzC,cAEV9c,EAFU,OAGhByE,EAAWzE,EAAIC,KAAKA,KAAKyI,OAHT,SAKKuU,GAAe3P,IAAf,0BAAsCkrB,IAL3C,OAKV3T,EALU,OAMhB+T,EAAY/T,EAAO5kB,KAAKA,KAAKid,SAASkC,UACtCsZ,EAAY,IACZC,EAAW,IACXzJ,EAAQ,IATQ,kDAWhBpwB,QAAQC,IAAI,KAAIC,SAXA,0DAAH,qDAeXo6B,EAAoB,uCAAG,WAAOn4B,GAAP,eAAArD,EAAA,6DAC3B86B,EAAYz3B,EAAEC,OAAOH,OADM,SAGT4Y,GAAYrM,IAAZ,2BAAoCrM,EAAEC,OAAOH,QAHpC,QAGrBf,EAHqB,QAInBC,KAAKA,KAAKyI,OAGdiwB,EADe,yBAAbvZ,EACSpf,EAAIC,KAAKA,KAAKyI,MAAMoR,iBAEpB9Z,EAAIC,KAAKA,KAAKyI,MAAMqR,iBATR,2CAAH,sDAa1B,OACE,gCACE,wBACEtZ,UAAU,4BACVE,KAAK,SACLkL,cAAY,QACZC,cAAA,aAAmBgR,EAAnB,YACAzb,QAASwQ,EALX,oCAUA,qBAAKpR,UAAU,kBAAkBI,GAAE,YAAOic,EAAP,YAAnC,SACE,qBAAKrc,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,qDACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,sBAAKtL,UAAU,aAAf,UACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,8CACA,yBACE7L,GAAG,WACHJ,UAAU,eACVM,MAAO03B,EACPz3B,SAAU,SAACC,GAAD,OAAOm4B,EAAqBn4B,IAJxC,UAME,wBAAQF,MAAM,GAAGwc,UAAQ,EAAzB,2BAGC/Y,EAAQ3B,KAAI,SAAC6F,GACZ,OACE,yBACE3H,MAAO2H,EAAMvJ,IAEbsB,UAAU,eAHZ,UAKGiI,EAAMvJ,IALT,sBAK2B,IACxBoX,wBAAa7N,EAAMoR,kBANtB,kBAMqD,IAClDvD,wBAAa7N,EAAMqR,iBAPtB,qBAEOrR,EAAMvJ,cAWrB,sBAAKsB,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,oCACA,0BACE7L,GAAG,UACH6P,KAAK,IACLjQ,UAAU,eACVM,MAAOkuB,EACPjuB,SAAU,SAACC,GAAD,OAAOiuB,EAAQjuB,EAAEC,OAAOH,gBAKxC,sBAAKN,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO43B,EAAe53B,IAJjC,gBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,wCCnDCstB,GAvFE,SAAC,GAAgC,IAA9Bvc,EAA6B,EAA7BA,QAAS0b,EAAoB,EAApBA,KAAMjZ,EAAc,EAAdA,QAAc,EACvBrgB,mBAAS,IADc,mBACxC+vB,EADwC,KAClCC,EADkC,KAE3CxsB,EAAKC,cACHsK,EAAWjP,OAAOC,aAAaC,QAAQ,aACvCo7B,EAAc,uCAAG,WAAOr4B,GAAP,eAAArD,EAAA,yDACrBqD,EAAEiM,mBAEE+hB,EAHiB,0CAKC6J,GAAah7B,KAAK,kBAAmB,CACrDy7B,SAAUzc,EACV0c,QAASvK,EACTwK,SAAUxsB,EACV0W,YAAa6U,EACbjZ,QAASA,IAVM,QAKXvf,EALW,QAYTC,KAAKA,KAAKy5B,WAChBh8B,EAAW,CACTW,MAAO,WACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAKy5B,UAC9B76B,IAAK,aAEP6D,EAAGE,KAAK,8BAnBO,gDAsBjB9D,QAAQC,IAAI,KAAIC,SAtBC,yDAAH,sDA0BpB,OACE,gCACE,wBACEyB,UAAU,2BACVE,KAAK,SACLkL,cAAY,QACZC,cAAA,aAAmBgR,EAAnB,YAJF,+BAQA,qBAAKrc,UAAU,kBAAkBI,GAAE,YAAOic,EAAP,YAAnC,SACE,qBAAKrc,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,gDACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,+BACA,0BACE7L,GAAG,UACH6P,KAAK,IACLjQ,UAAU,eACVM,MAAOkuB,EACPjuB,SAAU,SAACC,GAAD,OAAOiuB,EAAQjuB,EAAEC,OAAOH,eAKxC,sBAAKN,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAOq4B,EAAer4B,IAJjC,gBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,wCCmQC4tB,GAlUC,WAAO,IACb7c,EAAY5I,cAAZ4I,QACJpa,EAAKC,cAFW,EAGgBzD,mBAAS,IAHzB,mBAGbyf,EAHa,KAGDib,EAHC,OAKM16B,mBAAS,IALf,mBAKb26B,EALa,KAKNC,EALM,OAMQ56B,mBAAS,IANjB,mBAMb66B,EANa,KAMLC,EANK,OAOM96B,mBAAS,IAPf,mBAOb+6B,EAPa,KAONC,EAPM,OAQIh7B,mBAAS,IARb,mBAQb+iB,EARa,KAQPC,EARO,OASIhjB,mBAAS,IATb,mBASbi7B,EATa,KASPC,EATO,OAUYl7B,mBAAS,IAVrB,mBAUb2R,EAVa,KAUHC,EAVG,OAYE5R,mBAAS,IAZX,mBAYb+M,EAZa,KAYRsE,EAZQ,KAapB/C,qBAAU,YACS,uCAAG,8BAAA5P,EAAA,+EAEEqf,GAAe3P,IAAf,qBAAiCwP,IAFnC,QAEV9c,EAFU,QAGRC,KAAKC,SACX05B,EAAc55B,EAAIC,KAAKA,KAAKid,UACtBmd,EAAmBr6B,EAAIC,KAAKA,KAAKid,SACvC4c,EAASO,EAAiBtc,SAC1Bic,EAAUK,EAAiBxb,SAC3Bqb,EAASG,EAAiBrc,QAC1BkE,EAAQmY,EAAiBrW,OACzBoW,EAAQC,EAAiBx5B,IACzB0P,EAAO,CACL1P,GAAIw5B,EAAiBrW,MACrB7kB,IAAKk7B,EAAiBtc,QACtBpL,KAAM0nB,EAAiBxb,QACvBxO,IAAKgqB,EAAiBrc,UAfV,gDAmBhBlf,QAAQC,IAAI,KAAIC,SAnBA,yDAAH,qDAsBjBs7B,KACC,CAACxd,IAEJ,IAIMyd,EAAU,uCAAG,4BAAA38B,EAAA,yDACZi8B,EADY,gBAEf/oB,EAAY,gFACZnR,YAAW,WACTmR,EAAY,MACX,KALY,0BAOLipB,EAPK,iBAQfjpB,EAAY,uFACZnR,YAAW,WACTmR,EAAY,MACX,KAXY,2BAaY,KAAlBipB,EAAOj6B,OAbD,iBAcfgR,EAAY,qFACZnR,YAAW,WACTmR,EAAY,MACX,MAjBY,2BAkBLmpB,EAlBK,iBAmBfnpB,EAAY,0FACZnR,YAAW,WACTmR,EAAY,MACX,KAtBY,6BAwBNmpB,EAAMn6B,OAAS,IAAMm6B,EAAMn6B,OAAS,IAxB9B,iBAyBfgR,EACE,qJAEFnR,YAAW,WACTmR,EAAY,MACX,KA9BY,mDAiCK2V,GAAgB9a,IAAI,eAAgB,CACpD9K,GAAIohB,EACJ9iB,IAAK06B,EACLlnB,KAAMonB,EACN1pB,IAAK4pB,IArCM,QAuCW,OAvCX,OAuCLh6B,KAAKC,SACLsM,EAAO,CACX3L,GAAIohB,EACJ9iB,IAAK06B,EACLlnB,KAAMonB,EACN1pB,IAAK4pB,GAGH17B,KAAKC,UAAUgO,KAAUjO,KAAKC,UAAUyN,IAC1CvO,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CACP8N,IAAKD,GAEP3N,IAAK,qBAGT6D,EAAGE,KAAK,8BAzDG,mDA4Db9D,QAAQC,IAAI,KAAIC,SA5DH,2DAAH,qDAiEVw7B,EAAa,uCAAG,4BAAA58B,EAAA,yDACfi8B,EADe,gBAElB/oB,EAAY,gFACZnR,YAAW,WACTmR,EAAY,MACX,KALe,0BAORipB,EAPQ,iBAQlBjpB,EAAY,uFACZnR,YAAW,WACTmR,EAAY,MACX,KAXe,2BAaS,KAAlBipB,EAAOj6B,OAbE,iBAclBgR,EAAY,qFACZnR,YAAW,WACTmR,EAAY,MACX,MAjBe,2BAkBRmpB,EAlBQ,iBAmBlBnpB,EAAY,0FACZnR,YAAW,WACTmR,EAAY,MACX,KAtBe,6BAwBTmpB,EAAMn6B,OAAS,IAAMm6B,EAAMn6B,OAAS,IAxB3B,iBAyBlBgR,EACE,qJAEFnR,YAAW,WACTmR,EAAY,MACX,KA9Be,mDAiCV2V,GAAgB9a,IAAI,eAAgB,CACxC9K,GAAIohB,EACJ9iB,IAAK06B,EACLlnB,KAAMonB,EACN1pB,IAAK4pB,IArCS,eAuCVztB,EAAO,CACX3L,GAAIohB,EACJ9iB,IAAK06B,EACLlnB,KAAMonB,EACN1pB,IAAK4pB,GAGH17B,KAAKC,UAAUgO,KAAUjO,KAAKC,UAAUyN,IAC1CvO,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,OACXtN,QAAS,CACP8N,IAAKD,GAEP3N,IAAK,qBArDO,UAyDVoe,GAAetR,IAAI,YAAa,CACpC9K,GAAIs5B,IA1DU,eA4DhBz8B,EAAW,CACTW,MAAO,WACPI,QAAS,GACTE,QAAS,GACTE,IAAK,aAhES,UAmEV8a,GAAYhO,IAAI,aAAc,CAClCxM,IAAK2d,EACLjQ,UAAW,IArEG,QAwEhBnK,EAAGE,KAAH,oCAAqCka,EAArC,qBAxEgB,mDA0EhBhe,QAAQC,IAAI,KAAIC,SA1EA,2DAAH,qDA+EnB,OACE,sBAAKyB,UAAU,OAAf,UACE,oBAAIA,UAAU,mBAAd,iDAEA,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,qCACA,uBACE/L,KAAK,OACLE,GAAG,QACHJ,UAAU,eACVM,MAAO84B,EACP74B,SAAU,SAACC,GAAD,OAAO64B,EAAS74B,EAAEC,OAAOH,eAIzC,qBAAKN,UAAU,QAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,OAAf,4CACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,OACHG,SAAU,SAACC,GAAD,OAAO+4B,EAAU/4B,EAAEC,OAAOH,QACpCA,MAAOg5B,SAIb,qBAAKt5B,UAAU,QAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,MAAf,+CACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,MACHG,SAAU,SAACC,GAAD,OAAOi5B,EAASj5B,EAAEC,OAAOH,QACnCA,MAAOk5B,YAKf,mBAAGx5B,UAAU,cAAb,SAA4BoQ,IAC5B,sBAAKpQ,UAAU,kBAAf,UACE,wBAAQA,UAAU,6BAA6BY,QAASm5B,EAAxD,sBAGA,wBAAQ/5B,UAAU,8BAA8BY,QAASk5B,EAAzD,sBAGA,wBAAQ95B,UAAU,yBAAyBY,QAtMlC,WACbqB,EAAGE,KAAK,8BAqMJ,2BAGA,cAAC,GAAD,CAAUka,QAASA,EAAS0b,KAAM2B,IAClC,cAAC,GAAD,CAAUrd,QAASA,EAAS0b,KAAM2B,EAAM5a,QAASZ,EAAWY,aAG9D,qBAAI9e,UAAU,YAAd,wBAAmCke,EAAWb,YAC9C,uBAAOrd,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sDACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWG,gBAEzC,qBAAIre,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,4CACA,qBAAIA,UAAU,aAAd,UACG,IADH,YAESwR,yBAAc0M,EAAWI,SAFlC,WAEiD,IAC9CtL,uBAAYkL,EAAWI,eAI5B,qBAAIte,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,sBACA,qBAAIA,UAAU,aAAd,UACG,IADH,YAESwR,yBAAc0M,EAAWK,SAFlC,WAEiD,IAC9CvL,uBAAYkL,EAAWK,eAI5B,qBAAIve,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,uBACA,qBAAIA,UAAU,aAAd,UACG,IADH,YAESwR,yBAAc0M,EAAWM,UAFlC,WAEkD,IAC/CxL,uBAAYkL,EAAWM,gBAI5B,qBAAIxe,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,iDACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWpN,QAGzC,qBAAI9Q,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,uCACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWS,cAGzC,qBAAI3e,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,6BACA,qBAAIA,UAAU,aAAd,UACG8V,wBAAaoI,EAAWU,SAD3B,SAC2C,IAChB,yBAAxBV,EAAWS,SAAgC,UAAS,iBAIzD,qBAAI3e,UAAU,SAAd,UACE,qBAAIA,UAAU,8BAAd,qBAC8B,yBAAxBke,EAAWS,SAAgC,UAAS,WAAO,IADjE,UAEO,OAEP,qBAAI3e,UAAU,aAAd,UACGke,EAAWW,SADd,OAE2B,yBAAxBX,EAAWS,SAAgC,UAAS,iBAIzD,qBAAI3e,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,iDACA,oBAAIA,UAAU,aAAd,SAA4Bke,EAAWpN,QAGzC,qBAAI9Q,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,gCACA,oBAAIA,UAAU,aAAd,SAA4B8V,wBAAaoI,EAAWY,uBC5TjDkb,GARK,WAClB,OACE,8BACE,cAAC,GAAD,OCoZSC,GA/YU,WACvB,IAAIh4B,EAAKC,cAEHg4B,EAAY38B,OAAOC,aAAaC,QAAQ,aACxC08B,EAAmB58B,OAAOC,aAAaC,QAAQ,oBAJxB,EAMOgB,mBAAS,uBANhB,mBAMtB27B,EANsB,KAMVC,EANU,OAOC57B,mBAAS,IAPV,mBAOtB8f,EAPsB,KAOb+b,EAPa,OAQG77B,mBAAS,IARZ,mBAQtB+f,EARsB,KAQZ+b,EARY,OASD97B,mBAAS,IATR,mBAStB+7B,EATsB,KASdC,EATc,OAUCh8B,mBAAS,IAVV,mBAUtBmgB,EAVsB,KAUbsZ,EAVa,OAWGz5B,mBAAS,KAXZ,mBAWtBi8B,EAXsB,KAWZC,EAXY,OAYCl8B,mBAAS,IAZV,mBAYtBqgB,EAZsB,KAYb8b,EAZa,OAaTn8B,mBAAS,IAbA,mBAatBqS,EAbsB,KAalB+pB,EAbkB,OAcGp8B,mBAAS,IAdZ,mBActB2R,EAdsB,KAcZC,EAdY,KAgBrBhK,EAASoE,qBAAWlI,IAApB8D,KAhBqB,EAiBW5H,mBAAS,UAjBpB,mBAiBtBq8B,EAjBsB,KAiBRC,EAjBQ,OAkBSt8B,mBAAS,UAlBlB,mBAkBtBu8B,EAlBsB,KAkBTC,GAlBS,QAoBax8B,mBAAS,IApBtB,qBAoBtBq0B,GApBsB,MAoBPC,GApBO,MAqBrB1W,GAAY5I,cAAZ4I,QAERtP,qBAAU,WACR,IAAMmuB,EAAQ,uCAAG,4BAAA/9B,EAAA,+EAEK+b,GAAYrM,IAAZ,2BAAoCwP,KAFzC,OAGW,QADlB9c,EAFO,QAGLC,KAAKC,QACXszB,GAAiBxzB,EAAIC,KAAKA,KAAKyI,OAJpB,gDAOb5J,QAAQC,IAAI,KAAGC,SAPF,yDAAH,sDAWG,uCAAG,4BAAApB,EAAA,+EAEEgU,GAAetE,IAAf,wCACiBqtB,IAHnB,OAKQ,QAHlB36B,EAFU,QAKRC,KAAKC,SACPF,EAAIC,KAAKA,KAAKuI,SAChB8yB,EAAMt7B,EAAIC,KAAKA,KAAKuI,SAASwJ,MAE7BspB,EAAMV,IATM,gDAahB97B,QAAQC,IAAI,KAAIC,SAbA,yDAAH,qDAgBjBovB,GACAuN,MACC,CAAC7e,GAAS0W,GAAkBmH,EAAWW,EAAOV,IAEjD,IAgCMgB,GAAc,uCAAG,4BAAAh+B,EAAA,yDACR,KAATkJ,EADiB,gBAEnBgK,EAAY,0GACZnR,YAAW,WACTmR,EAAY,MACX,KALgB,0BAMTkO,EANS,iBAOnBlO,EAAY,mFACZnR,YAAW,WACTmR,EAAY,MACX,KAVgB,2BAWTmO,EAXS,iBAYnBnO,EAAY,oFACZnR,YAAW,WACTmR,EAAY,MACX,KAfgB,2BAgBC,KAAXmqB,EAhBU,iBAiBnBnqB,EAAY,mFACZnR,YAAW,WACTmR,EAAY,MACX,KApBgB,6BAsBR,yBAAXmqB,GACAE,EACEU,KAAKC,OACF,IAAI/nB,KAAKkL,GAAY,IAAIlL,KAAKiL,IAA/B,QAzBe,iBA4BnBlO,EAAY,qFACZnR,YAAW,WACTmR,EAAY,MACX,KA/BgB,6BAiCR,0BAAXmqB,GACAE,EACEU,KAAKC,OAAO,IAAI/nB,KAAKkL,GAAY,IAAIlL,KAAKiL,IAA/B,OAnCM,iBAqCnBlO,EAAY,sFACZnR,YAAW,WACTmR,EAAY,MACX,KAxCgB,2BAyCTuO,EAzCS,iBA0CnBvO,EAAY,wEACZnR,YAAW,WACTmR,EAAY,MACX,KA7CgB,2BA8CTyO,EA9CS,iBA+CnBzO,EAAY,4EACZnR,YAAW,WACTmR,EAAY,MACX,KAlDgB,mDAqDCmM,GAAenf,KAAK,QAAS,CAC7CqlB,aAAcrc,EACdgY,WAAY+b,EACZ7b,QAASxL,uBAAYwL,GAAW,IAAMvL,uBAAYuL,GAAW,MAC7DC,SAAUzL,uBAAYyL,GAAY,IAAMxL,uBAAYwL,GAAY,MAChEnB,SAAUhB,GACVsC,SAAU6b,EACV5b,QAASA,EACTC,SAAU6b,EACV5pB,GAAIA,EACJ2M,SAAU,EACVrR,UAAW,EACX0S,QAASA,IAjEM,WAmEO,QAdlBvf,EArDW,QAmETC,KAAKC,OAnEI,qBAoEXF,EAAIC,KAAKA,KAAKid,SApEH,wBAqEbxf,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAKid,UAC9Bre,IAAK,2BAzEM,UA2EG8a,GAAYhO,IAAI,aAAc,CAC5CxM,IAAK2d,GACLjQ,UAAW,IA7EA,QA+ES,OA/ET,OA+EP5M,KAAKC,QACTwC,EAAGE,KAAH,oCAAqCka,GAArC,aAhFW,2DAqFjBhe,QAAQC,IAAI,KAAIC,SArFC,2DAAH,qDAyFpB,OACE,gCACE,oBAAIyB,UAAU,cAAd,iDAEA,uBAAMA,UAAU,OAAhB,UACE,qBAAIA,UAAU,aAAd,gCAAyCqc,MACzC,sBAAKrc,UAAU,yBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,wBAAOiM,QAAQ,aAAajM,UAAU,mBAAtC,sDACuB,SAGzB,yBACEI,GAAG,aACHJ,UAAU,gBACVM,MAAO85B,EACP75B,SAAU,SAACC,GAAD,OAAO65B,EAAc75B,EAAEC,OAAOH,QAJ1C,UAME,wBAAQA,MAAM,sBAAd,iCACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,0BAAd,2CAIJ,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,sBAUA,uBACEjM,UAAU,eACVE,KAAK,iBACLE,GAAG,UACHE,MAAOie,EACPhe,SAAU,SAACC,GACT,IAAM86B,EAAQ,IAAIhoB,KACd,IAAIA,KAAK9S,EAAEC,OAAOH,OAASg7B,EAAQ,GACrChB,EAAW95B,EAAEC,OAAOH,eAK9B,qBAAKN,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,uBAUA,uBACEjM,UAAU,eACVE,KAAK,iBACLE,GAAG,eACHE,MAAOke,EACPje,SAAU,SAACC,GACJ+d,EAOD,IAAIjL,KAAK9S,EAAEC,OAAOH,OAAS,IAAIgT,KAAKiL,IACpC,KAEAgc,EAAY/5B,EAAEC,OAAOH,QAErB+P,EACE,0IAEFnR,YAAW,WACTmR,EAAY,MACX,OAhBLA,EAAY,gFACZnR,YAAW,WACTmR,EAAY,MACX,iBAsBf,sBAAKrQ,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,uCACA,yBACE7L,GAAG,SACHJ,UAAU,eACVM,MAAOk6B,EACPj6B,SAAU,SAACC,GAAD,OA7NO,SAACA,GAE1B,GADAi6B,EAAUj6B,EAAEC,OAAOH,OACI,yBAAnBE,EAAEC,OAAOH,MAA4B,CACvCy6B,EAAgB,IAChBJ,EAAY,KAEZM,GAAe,UACf/C,EAAWpF,GAAczZ,kBACzB,IAAIkiB,EAAKzoB,SAASggB,GAAczZ,iBAAmB,GACnDuhB,EAAmC,IAAxBQ,KAAKI,MAAMD,EAAK,WACtB,GAAuB,0BAAnB/6B,EAAEC,OAAOH,MAA2B,CAC7C26B,GAAe,IACfN,EAAY,KACZI,EAAgB,UAEhB7C,EAAWpF,GAAcxZ,iBACzB,IAAIiiB,EAAKzoB,SAASggB,GAAcxZ,gBAAkB,GAClDshB,EAAmC,IAAxBQ,KAAKI,MAAMD,EAAK,WAE3BR,EAAgB,UAChBE,GAAe,UACf/C,EAAW,IACXyC,EAAY,IACZC,EAAW,IACX1C,EAAW,IAqMYuD,CAAmBj7B,IAJtC,UAME,wBAAQF,MAAM,GAAd,6BACA,wBAAQA,MAAM,uBAAd,0BACA,wBAAQA,MAAM,wBAAd,iCAIJ,sBAAKN,UAAS,mBAAc86B,GAA5B,UACE,qBAAK96B,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,kBAAf,yCACA,cAAC,KAAD,CACE7L,GAAG,kBACHE,MAAOse,EACP5e,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACd43B,EAAW53B,IAEb+X,KAAK,OACLC,UAAU,WAIhB,qBAAKtY,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,aAAf,qCACA,uBACE/L,KAAK,SACLE,GAAG,aACHJ,UAAU,eACVM,MAAOo6B,EACPjQ,IAAI,IACJgH,IAAI,MACJlxB,SAAU,SAACC,GACTm6B,EAAYn6B,EAAEC,OAAOH,OACrB,IAAIi7B,EAAMzoB,SAAStS,EAAEC,OAAOH,OAASwS,SAAS8L,GAAY,EAC1Dgc,EAAmC,IAAxBQ,KAAKI,MAAMD,EAAK,iBAMrC,sBAAKv7B,UAAS,mBAAcg7B,GAA5B,UACE,qBAAKh7B,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,iBAAf,0CACA,cAAC,KAAD,CACE7L,GAAG,iBACHE,MAAOse,EACP5e,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACd43B,EAAW53B,IAEb+X,KAAK,OACLC,UAAU,WAIhB,qBAAKtY,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,YAAf,sCACA,uBACE/L,KAAK,SACLE,GAAG,YACHJ,UAAU,eACVM,MAAOo6B,EACPjQ,IAAI,IACJgH,IAAI,KACJlxB,SAAU,SAACC,GACTm6B,EAAYn6B,EAAEC,OAAOH,OACrB,IAAIi7B,EAAMzoB,SAAStS,EAAEC,OAAOH,OAASwS,SAAS8L,GAAY,EAC1Dgc,EAAmC,IAAxBQ,KAAKI,MAAMD,EAAK,iBAMrC,sBAAKv7B,UAAU,aAAf,UACE,uBAAOiM,QAAQ,UAAf,yDACA,cAAC,KAAD,CACE7L,GAAG,UACHE,MAAOwe,EACP9e,UAAU,0BACVkY,OAAO,kBACPC,eAAe,IACfC,cAAe,SAAC9X,GACds6B,EAAWt6B,IAEb+X,KAAK,OACLC,UAAU,SAGd,mBAAGtY,UAAU,cAAb,SAA4BoQ,IAE5B,qBAAKpQ,UAAU,kBAAf,SACE,sBAAKA,UAAU,IAAf,UACE,wBACEE,KAAK,SACLF,UAAU,mBACVY,QAASu6B,GAHX,8BAQA,wBACEj7B,KAAK,SACLF,UAAU,8BACVY,QAjTG,WACbqB,EAAGE,KAAK,8BA6SA,uCCmRGu5B,GAlpBW,WAAM,MAENj9B,mBAAS,IAFH,mBAEvB4H,EAFuB,KAEjBob,EAFiB,OAIJhjB,mBAAS,IAJL,mBAIvBk9B,EAJuB,KAIhBC,EAJgB,OAKEn9B,mBAAS,IALX,mBAKvBqT,EALuB,KAKbC,EALa,OAMEtT,mBAAS,IANX,mBAMvBuT,EANuB,KAMbC,EANa,OAOFxT,mBAAS,IAPP,mBAOvBiR,EAPuB,KAOfC,EAPe,OAQNlR,mBAAS,IARH,mBAQvByT,EARuB,KAQjBC,EARiB,OASR1T,mBAAS,IATD,mBASvBmR,EATuB,KASlBC,EATkB,OAURpR,mBAAS,IAVD,mBAUvB8T,EAVuB,KAUlBC,EAVkB,OAWR/T,mBAAS,IAXD,mBAWvBo9B,EAXuB,KAWlBC,EAXkB,OAaRr9B,mBAAS,IAbD,mBAavBgU,EAbuB,KAalBC,EAbkB,OAcMjU,mBAAS,IAdf,mBAcvBs9B,EAduB,KAcXC,EAdW,OAeMv9B,mBAAS,IAff,mBAevBw9B,EAfuB,KAeXC,EAfW,QAgBIz9B,mBAAS,UAhBb,qBAgBvB09B,GAhBuB,MAgBZC,GAhBY,SAiBc39B,oBAAS,GAjBvB,qBAiBvB49B,GAjBuB,MAiBPC,GAjBO,SAmBE79B,mBAAS,IAnBX,qBAmBvB89B,GAnBuB,MAmBbC,GAnBa,SAoBF/9B,mBAAS,IApBP,qBAoBvBg+B,GApBuB,MAoBfC,GApBe,SAqBcj+B,mBAAS,IArBvB,qBAqBvBk+B,GArBuB,MAqBPC,GArBO,MAuBtBt2B,GAAYmE,qBAAWlI,IAAvB+D,QAvBsB,GAyBI7H,mBAAS,IAzBb,qBAyBvBo+B,GAzBuB,MAyBZC,GAzBY,SA0BAr+B,mBAAS,CACrCoc,MAAO,wBACPva,MAAO,KA5BqB,qBA0BvBy8B,GA1BuB,MA0BdC,GA1Bc,SA+BRv+B,mBAAS,IA/BD,qBA+BvB+M,GA/BuB,MA+BlBsE,GA/BkB,MA+CxBmtB,GAAgB,uCAAG,4BAAA9/B,EAAA,+EAEH6oB,GAAgBnZ,IAAI,mBAFjB,OAEftN,EAFe,OAGrBm9B,GAAU1lB,wCAA6BzX,EAAIC,KAAKA,KAAK09B,SAHhC,gDAKrB7+B,QAAQC,IAAI,KAAIC,SALK,yDAAH,qDAShB4+B,GAAS,uCAAG,8BAAAhgC,EAAA,+EAEI6oB,GAAgBnZ,IAAI,cAFxB,OAERtN,EAFQ,OAIRuZ,EAAU,CACd,CACE+B,MAAO,wBACPva,MAAO,KAGXf,EAAIC,KAAKA,KAAKymB,UAAUlX,SAAQ,SAAClN,GAC/B,IAAMuV,EAAS,CACbyD,MAAOhZ,EAAK+N,IAAM,MAAQ/N,EAAKnD,IAC/B4B,MAAOuB,EAAKzB,IAEd0Y,EAAQ3W,KAAKiV,MAEf0lB,GAAahkB,GAjBC,gDAoBdza,QAAQC,IAAI,KAAIC,SApBF,yDAAH,qDAuBfwO,qBAAU,WACRowB,KACAF,OACC,IAEH,IAAMG,GAAQ,uCAAG,WAAOh9B,GAAP,iBAAAjD,EAAA,+EAEK6oB,GAAgBnZ,IAAhB,qBAAkCzM,IAFvC,OAEPb,EAFO,OAIP89B,EAAoB99B,EAAIC,KAAKA,KAAKymB,UACxC2V,EAASyB,EAAkB3+B,KAC3BqT,EAAYsrB,EAAkBvrB,UAC9BG,EAAYc,uBAAYsqB,EAAkBrrB,WAC1CrC,EAAU0tB,EAAkB3tB,QAC5ByC,EAAQkrB,EAAkBnrB,MAC1BrC,EAAOwtB,EAAkBztB,KACzB4C,EAAO6qB,EAAkB3rB,SACzB8qB,GAAYa,EAAkBC,kBAC9BxB,EAAOuB,EAAkBxB,KACzBe,GAAkB,CAChBt8B,MAAO+8B,EAAkBC,iBACzBziB,MAAOwiB,EAAkBhX,qBAI3BvW,GAAO,CACL1P,GAAIi9B,EAAkBj9B,GAAK,GAC3B1B,IAAK2+B,EAAkB3+B,IACvBwT,KAAMmrB,EAAkBnrB,KACxBJ,SAAUurB,EAAkBvrB,SAC5BE,SAAUe,uBAAYsqB,EAAkBrrB,UACxCtC,OAAQ2tB,EAAkB3tB,OAC1BE,IAAKytB,EAAkBztB,IACvB0tB,iBAAkBD,EAAkBC,iBACpCzB,IAAKwB,EAAkBxB,MA7BZ,kDAgCbx9B,QAAQC,IAAI,KAAIC,SAhCH,0DAAH,sDAoCR4Y,GAAe,CACnBC,OAAQ,SAACC,EAAUC,GAAX,oBAAC,gBACJD,GADG,IAEN3M,MAAO4M,EAAMC,WAAa,QAAU,SACpCC,QAAS,MAgBP+lB,GAAsB,uCAAG,WAAOhsB,GAAP,eAAApU,EAAA,+EAET6oB,GAAgB3oB,KAAK,aAAc,CACnDkU,KAAMA,IAHmB,OAErBhS,EAFqB,OAK3BtC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAK09B,QAC9B9+B,IAAK,+BAEPo+B,GAAYj9B,EAAIC,KAAKA,KAAK09B,OAAO98B,IACjCw8B,GAAkB,CAChBt8B,MAAOf,EAAIC,KAAKA,KAAK09B,OAAO98B,GAC5Bya,MAAOtb,EAAIC,KAAKA,KAAK09B,OAAO3rB,OAdH,gDAiB3BlT,QAAQC,IAAI,KAAMC,SAjBS,yDAAH,sDAyEtBi/B,GAAc,uCAAG,oCAAArgC,EAAA,yDAChBw+B,EADgB,gBAEnBjpB,EAAO,gFACPxT,YAAW,WACTwT,EAAO,MACN,KALgB,0BAOG,KAAbZ,EAPU,iBAQnBY,EAAO,0EACPxT,YAAW,WACTwT,EAAO,MACN,KAXgB,2BAaTV,EAbS,iBAcnBU,EAAO,qEACPxT,YAAW,WACTwT,EAAO,MACN,KAjBgB,2BAmBTR,EAnBS,iBAoBnBQ,EAAO,uFACPxT,YAAW,WACTwT,EAAO,MACN,KAvBgB,2BAyBM,KAAhBR,EAAK7S,OAzBK,iBA0BnBqT,EAAO,qFACPxT,YAAW,WACTwT,EAAO,MACN,MA7BgB,2BA8BT9C,EA9BS,iBA+BnB8C,EAAO,0FACPxT,YAAW,WACTwT,EAAO,MACN,KAlCgB,6BAoCV9C,EAAIvQ,OAAS,IAAMuQ,EAAIvQ,OAAS,IApCtB,iBAqCnBqT,EACE,qJAEFxT,YAAW,WACTwT,EAAO,MACN,KA1CgB,2BA2CThD,EA3CS,iBA4CnBgD,EAAO,+EACPxT,YAAW,WACTwT,EAAO,MACN,KA/CgB,6BAiDVmpB,EAAIx8B,OAAS,GAAKw8B,EAAIx8B,OAAS,IAjDrB,iBAkDnBqT,EAAO,wDACPxT,YAAW,WACTwT,EAAO,MACN,KArDgB,2BAsDT6pB,GAtDS,iBAuDnB7pB,EAAO,mFACPxT,YAAW,WACTwT,EAAO,MACN,KA1DgB,2BA4DTH,EA5DS,iBA6DnBG,EAAO,iFACPxT,YAAW,WACTwT,EAAO,MACN,KAhEgB,mDAoEYsT,GAAgBnZ,IAAhB,yBACTqF,IArEH,eAoEXurB,EApEW,iBAuEWzX,GAAgBnZ,IAAhB,wBAAqC+C,IAvEhD,eAuEX8tB,EAvEW,iBAwEW1X,GAAgBnZ,IAAhB,wBAAqCgvB,IAxEhD,WAwEX8B,EAxEW,OAyEjBt/B,QAAQC,IAAIq/B,EAAcn+B,KAAKA,KAAKymB,UAAU9X,OACG,MAA7CsvB,EAAej+B,KAAKA,KAAKymB,UAAU9X,MA1EtB,iBA2EfuE,EAAO,kEACPxT,YAAW,WACTwT,EAAO,MACN,MA9EY,2BA+EsC,MAA5CgrB,EAAcl+B,KAAKA,KAAKymB,UAAU9X,MA/E5B,iBAgFfuE,EAAO,qEACPxT,YAAW,WACTwT,EAAO,MACN,MAnFY,2BAoFsC,MAA5CirB,EAAcn+B,KAAKA,KAAKymB,UAAU9X,MApF5B,iBAqFfuE,EAAO,6DACPxT,YAAW,WACTwT,EAAO,MACN,MAxFY,yCA0FGzH,GAAe5N,KAAK,6BAA8B,CAClEqB,IAAK6T,EACL3T,GAAI,WACJ6M,YAAagD,GAAgBktB,KA7FhB,WA+FS,QALlBp8B,EA1FS,QA+FPC,KAAKC,OA/FE,wBAgGbxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CACP8N,IAAK,CACHtN,IAAKa,EAAIC,KAAKA,KAAK+S,IAAI7T,IACvB+M,YAAalM,EAAIC,KAAKA,KAAK+S,IAAI9G,YAC/B/N,OAAQ6B,EAAIC,KAAKA,KAAK+S,IAAI7U,SAG9BU,IAAK,4BA1GM,UA4GG4nB,GAAgB3oB,KAAK,QAAS,CAC5CqB,IAAK+P,GAAgBktB,GACrBzpB,KAAMA,EACNJ,SAAUA,EACVE,SAAUA,EACVtC,OAAQjB,GAAgBiB,GACxBE,IAAKA,EACL0tB,iBAAkBf,GAClB7qB,QAASnS,EAAIC,KAAKA,KAAK+S,IAAI7T,IAC3Bm9B,IAAKA,IArHM,QA4GP+B,EA5GO,OAuHbv/B,QAAQC,IAAIs/B,GACU,OAAlBA,EAAEp+B,KAAKC,QACTxC,EAAW,CACTW,MAAO,UACPI,QAAS,GACTE,QAAS,CACP8N,IAAK4xB,EAAEp+B,KAAKA,KAAKymB,WAEnB7nB,IAAK,qBAEP++B,KACA72B,GAAQs3B,EAAEp+B,KAAKA,KAAKymB,UAAU7lB,IAC9BqhB,EAAQmc,EAAEp+B,KAAKA,KAAKymB,UAAU7lB,IAC9B48B,GAAW,CACTniB,MACE+iB,EAAEp+B,KAAKA,KAAKymB,UAAUrW,IAAM,MAAQguB,EAAEp+B,KAAKA,KAAKymB,UAAUvnB,IAC5D4B,MAAOs9B,EAAEp+B,KAAKA,KAAKymB,UAAU7lB,KAE/Bg9B,GAASQ,EAAEp+B,KAAKA,KAAKymB,UAAU7lB,IAC/B87B,EAAc,UACdE,GAAa,IACbE,IAAkB,GAClBN,EAAc,4BACd98B,YAAW,WACT88B,EAAc,MACb,OAEHtpB,EAAOkrB,EAAEp+B,KAAKC,QACdP,YAAW,WACTwT,EAAO,MACN,MArJQ,2DA0JjBrU,QAAQC,IAAI,KAAIC,SA1JC,2DAAH,qDA+Jds/B,GAAc,uCAAG,8BAAA1gC,EAAA,yDAChBw+B,EADgB,gBAEnBjpB,EAAO,gFACPxT,YAAW,WACTwT,EAAO,MACN,KALgB,0BAOG,KAAbZ,EAPU,iBAQnBY,EAAO,0EACPxT,YAAW,WACTwT,EAAO,MACN,KAXgB,2BAaTV,EAbS,iBAcnBU,EAAO,qEACPxT,YAAW,WACTwT,EAAO,MACN,KAjBgB,2BAmBTR,EAnBS,iBAoBnBQ,EAAO,uFACPxT,YAAW,WACTwT,EAAO,MACN,KAvBgB,2BAyBM,KAAhBR,EAAK7S,OAzBK,iBA0BnBqT,EAAO,qFACPxT,YAAW,WACTwT,EAAO,MACN,MA7BgB,2BA8BT9C,EA9BS,iBA+BnB8C,EAAO,0FACPxT,YAAW,WACTwT,EAAO,MACN,KAlCgB,6BAoCV9C,EAAIvQ,OAAS,IAAMuQ,EAAIvQ,OAAS,IApCtB,iBAqCnBqT,EACE,qJAEFxT,YAAW,WACTwT,EAAO,MACN,KA1CgB,2BA2CThD,EA3CS,iBA4CnBgD,EAAO,+EACPxT,YAAW,WACTwT,EAAO,MACN,KA/CgB,6BAiDVmpB,EAAIx8B,OAAS,GAAKuQ,EAAIvQ,OAAS,IAjDrB,iBAkDnBqT,EAAO,wDACPxT,YAAW,WACTwT,EAAO,MACN,KArDgB,2BAsDT6pB,GAtDS,iBAuDnB7pB,EAAO,mFACPxT,YAAW,WACTwT,EAAO,MACN,KA1DgB,mDA8DCsT,GAAgB9a,IAAI,OAAQ,CAC5C9K,GAAIiG,EACJ3H,IAAK+P,GAAgBktB,GACrBzpB,KAAMA,EACNJ,SAAUA,EACVE,SAAUA,EACVtC,OAAQjB,GAAgBiB,GACxBE,IAAKA,EACL0tB,iBAAkBf,GAClBV,IAAKA,IAvEU,QA8DXt8B,EA9DW,OAyEjBlB,QAAQC,IAAIiB,GACY,OAApBA,EAAIC,KAAKC,QACLsM,EAAO,CACX3L,GAAIiG,EACJ3H,IAAK+P,GAAgBktB,GACrBzpB,KAAMA,EACNJ,SAAUA,EACVE,SAAUA,EACVtC,OAAQjB,GAAgBiB,GACxBE,IAAKA,EACL0tB,iBAAkBf,GAClBV,IAAKA,GAEH/9B,KAAKC,UAAUyN,MAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,WACPI,QAAS,CAAEwN,QACXtN,QAAS,CACP8N,IAAKD,GAEP3N,IAAK,qBAIT++B,KACAnB,EAAc,6BACd98B,YAAW,WACT88B,EAAc,MACb,OAEHtpB,EAAOnT,EAAIC,KAAKC,QAChBP,YAAW,WACTwT,EAAO,MACN,MA1GY,mDA6GjBrU,QAAQC,IAAI,KAAIC,SA7GC,2DAAH,qDAkHpB,OACE,gCACE,oBAAIyB,UAAU,cAAd,2CAEA,uBAAMC,OAAO,GAAGD,UAAU,OAA1B,UACE,cAAC,KAAD,CACEA,UAAU,aACV8Y,QAAS+jB,GACTv8B,MAAOy8B,GACPx8B,SA9UqB,SAACD,EAAOL,GACnC+8B,GAAW18B,GACXmhB,EAAQnhB,EAAMA,OACdgG,GAAQhG,EAAMA,OACQ,kBAAlBL,EAAOA,SACW,KAAhBK,EAAMA,OACR88B,GAAS98B,EAAMA,OACf47B,EAAc,UACdE,GAAa,IACbE,IAAkB,KAElBV,EAAS,IACT7pB,EAAY,IACZE,EAAY,IACZtC,EAAU,IACVwC,EAAQ,IACRtC,EAAO,IACP2C,EAAO,IACPspB,EAAO,IACPM,GAAa,UACbF,EAAc,IACdI,IAAkB,GAClBE,GAAY,IACZI,GAAkB,MAGtBv+B,QAAQC,IAAIgC,EAAOL,MA2Uf,sBAAKD,UAAU,aAAf,UACE,uBAAOiM,QAAQ,QAAf,qCACA,uBACE/L,KAAK,OACLE,GAAG,QACHJ,UAAU,eACVM,MAAOq7B,EACPp7B,SAAU,SAACC,GAAD,OAAOo7B,EAASp7B,EAAEC,OAAOH,aAIvC,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,+BACA,yBACE7L,GAAG,UACHE,MAAOwR,EACP9R,UAAU,eACVO,SAAU,SAACC,GAAD,OAAOuR,EAAYvR,EAAEC,OAAOH,QAJxC,UAME,wBAAQA,MAAM,GAAd,6BACA,wBAAQA,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,yBAIN,qBAAKN,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,0BACA,uBACE/L,KAAK,OACLE,GAAG,WACHJ,UAAU,eACVM,MAAO0R,EACPzR,SAAU,SAACC,GAAD,OAAOyR,EAAYzR,EAAEC,OAAOH,kBAM9C,sBAAKN,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,OAAf,4CACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,OACHG,SAAU,SAACC,GAAD,OAAO2R,EAAQ3R,EAAEC,OAAOH,QAClCA,MAAO4R,SAIb,qBAAKlS,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,MAAf,+CACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,MACHG,SAAU,SAACC,GAAD,OAAOqP,EAAOrP,EAAEC,OAAOH,QACjCA,MAAOsP,YAKf,sBAAK5P,UAAU,aAAf,UACE,uBAAOiM,QAAQ,SAAf,oCACA,0BACEjM,UAAU,eACVI,GAAG,SACH6P,KAAK,IACL1P,SAAU,SAACC,GAAD,OAAOmP,EAAUnP,EAAEC,OAAOH,QACpCA,MAAOoP,OAGX,sBAAK1P,UAAU,aAAf,UACE,uBAAOiM,QAAQ,MAAf,uCACA,uBACE/L,KAAK,GACLF,UAAU,eACVI,GAAG,MACHG,SAAU,SAACC,GAAD,OAAOs7B,EAAOt7B,EAAEC,OAAOH,QACjCA,MAAOu7B,OAGX,sBAAK77B,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOiM,QAAQ,SAAf,wCACA,cAAC,KAAD,CACE7L,GAAG,SACHuY,aAAW,EACXpY,SAreoB,SAACqY,EAAcC,GACrB,kBAAtBA,EAAW5Y,QACbu8B,GAAY5jB,EAAatY,OACzBs8B,GAAkBhkB,IACa,kBAAtBC,EAAW5Y,OACpBs9B,GAAuB3kB,EAAatY,OACL,UAAtBuY,EAAW5Y,SACpBu8B,GAAY,IACZI,GAAkB,MA8dR9jB,QAAS2jB,GACT1jB,OAAQ5B,GACR7W,MAAOq8B,UAIb,qBAAK38B,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAQ,WAAf,iDACA,uBACE/L,KAAK,OACLF,UAAU,eACVI,GAAG,WACHG,SAAU,SAACC,GAAD,OAAOgS,EAAOhS,EAAEC,OAAOH,QACjCA,MAAOiS,EACPuK,SAAUuf,aAMlB,mBAAGr8B,UAAU,cAAb,SAA4ByS,IAC5B,mBAAGzS,UAAU,eAAb,SAA6B+7B,IAC7B,sBAAK/7B,UAAU,uBAAf,UACE,wBACEE,KAAK,SACLU,QAAS48B,GACTx9B,UAAS,0BAAqBi8B,GAHhC,qBAOA,wBACE/7B,KAAK,SACLU,QAASi9B,GACT79B,UAAS,+BAA0Bm8B,IAHrC,gCCjoBK2B,GAbM,WACnB,OACE,sBAAK99B,UAAU,WAAf,UACE,qBAAKA,UAAU,wDAAf,SACE,cAAC,GAAD,MAEF,qBAAKA,UAAU,yDAAf,SACE,cAAC,GAAD,UCgEO+9B,GAvEM,SAAC,GAAiB,IAAf1hB,EAAc,EAAdA,QAAc,EACA5d,mBAAS,IADT,mBAC7Byf,EAD6B,KACjBib,EADiB,KAE9B/nB,EAAW,uCAAG,WAAO5Q,GAAP,eAAArD,EAAA,+EAEEqf,GAAe3P,IAAf,qBAAiCwP,IAFnC,OAGQ,QADlB9c,EAFU,QAGRC,KAAKC,QACX05B,EAAc55B,EAAIC,KAAKA,KAAKid,UAJd,gDAOhBpe,QAAQC,IAAI,KAAIC,SAPA,yDAAH,sDAWjB,OACE,gCACE,wBACE2B,KAAK,SACLF,UAAU,4BACVoL,cAAY,QACZC,cAAA,aAAmBgR,EAAnB,SACAzb,QAASwQ,EALX,+BAUA,qBAAKpR,UAAU,kBAAkBI,GAAE,YAAOic,EAAP,SAAnC,SACE,qBAAKrc,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,2EACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,sBAAKtL,UAAU,aAAf,UACE,gEACmB,IACjB,mCAAS8V,wBAAaoI,EAAWT,UAAjC,OAFF,SAIA,oDACc,IACZ,mCACG3H,wBACChD,SAASoL,EAAWU,SAAW9L,SAASoL,EAAWW,WAClD,OALP,YAWF,qBAAK7e,UAAU,qCAAf,SACE,qDACa,IACX,iCACG8V,wBACChD,SAASoL,EAAWU,SAClB9L,SAASoL,EAAWW,UACpB/L,SAASoL,EAAWT,aAEhB,IARZ,sBCmCCugB,GAtFE,SAAC,GAAiB,IAAf3hB,EAAc,EAAdA,QAAc,EACI5d,mBAAS,IADb,mBACzByf,EADyB,KACbib,EADa,KAE5Bl3B,EAAKC,cACHkP,EAAW,uCAAG,4BAAAjU,EAAA,+EAEEqf,GAAe3P,IAAf,qBAAiCwP,IAFnC,OAGQ,QADlB9c,EAFU,QAGRC,KAAKC,QACX05B,EAAc55B,EAAIC,KAAKA,KAAKid,UAJd,gDAOhBpe,QAAQC,IAAI,KAAIC,SAPA,yDAAH,qDAWX0/B,EAAc,uCAAG,sBAAA9gC,EAAA,+EAEbqf,GAAetR,IAAI,aAAc,CACrC9K,GAAI8d,EAAW9d,KAHE,cAKnBnD,EAAW,CACTW,MAAO,YACPI,QAAS,GACTE,QAAS,GACTE,IAAK,aATY,SAYb8a,GAAYhO,IAAI,aAAc,CAClCxM,IAAK2d,EACLjQ,UAAW,IAdM,OAiBnBnK,EAAGE,KAAK,0BAjBW,gDAmBnB9D,QAAQC,IAAI,KAAIC,SAnBG,yDAAH,qDAsBpB,OACE,gCACE,wBACE2B,KAAK,SACLF,UAAU,2BACVoL,cAAY,QACZC,cAAA,aAAmBgR,EAAnB,YACAzb,QAASwQ,EALX,uBAUA,qBAAKpR,UAAU,kBAAkBI,GAAE,YAAOic,EAAP,YAAnC,SACE,qBAAKrc,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,mBAAGA,UAAU,YAAb,8EAGF,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAOy9B,EAAez9B,IAJjC,0BAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCqLC4yB,GApPM,WAAO,IAAD,EACiBz/B,mBAAS,IAD1B,mBAClB0/B,EADkB,KACHC,EADG,KAGrBn8B,EAAKC,cAHgB,EAIOzD,mBAAS,IAJhB,mBAIlB0F,EAJkB,KAIRC,EAJQ,OAKO3F,mBAAS,IALhB,mBAKlB4/B,EALkB,KAKRC,EALQ,OAMW7/B,mBAAS,IANpB,mBAMlByf,EANkB,KAMNib,EANM,OAQuB1uB,qBAAWlI,IAAnDoE,EARiB,EAQjBA,WAAYC,EARK,EAQLA,cAAesC,EARV,EAQUA,SARV,EAWGzK,mBAAS,IAXZ,mBAWlB8/B,EAXkB,KAWVC,EAXU,OAYC//B,mBAAS,IAZV,mBAYlBggC,EAZkB,KAYXC,EAZW,KAajBriB,EAAY5I,cAAZ4I,QAEFsiB,EAAS,uCAAG,4BAAAxhC,EAAA,+EAEI+X,GAAarI,IAAI,sBAFrB,OAERtN,EAFQ,OAGd6E,EAAY7E,EAAIC,KAAKA,KAAK2I,QAHZ,gDAKd9J,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASTkX,EAAa,uCAAG,4BAAAtY,EAAA,+EAEA+X,GAAarI,IAAI,2BAFjB,OAEZtN,EAFY,OAGlB++B,EAAY/+B,EAAIC,KAAKA,KAAKgW,QAHR,gDAKlBnX,QAAQC,IAAI,KAAIC,SALE,yDAAH,qDAQnBwO,qBAAU,YACS,uCAAG,8BAAA5P,EAAA,+EAEEqf,GAAe3P,IAAf,qBAAiCwP,IAFnC,UAGQ,QADlB9c,EAFU,QAGRC,KAAKC,OAHG,wBAId05B,EAAc55B,EAAIC,KAAKA,KAAKid,UAC5B+hB,EAAUj/B,EAAIC,KAAKA,KAAKid,SAASa,SACjCohB,EAASn/B,EAAIC,KAAKA,KAAKid,SAASc,QANlB,UAOKf,GAAe3P,IAAf,6BACKtN,EAAIC,KAAKA,KAAKid,SAASrc,KARjC,QAORw+B,EAPQ,OAUdh4B,EAAcg4B,EAAKp/B,KAAKA,KAAKoe,kBAVf,0DAahBvf,QAAQC,IAAI,KAAIC,SAbA,0DAAH,qDAiBjBs7B,GACA8E,IACAlpB,MACC,CAACrR,EAAak6B,EAAajiB,EAAS8c,EAAevyB,IAEtD,IAAMi4B,EAAqB,uCAAG,WAAOr+B,GAAP,eAAArD,EAAA,yDAC5BihC,EAAiB59B,EAAEC,OAAOH,QACtBE,EAAEC,OAAOH,MAFe,0CAIN4U,GAAarI,IAAb,yBAAmCrM,EAAEC,OAAOH,QAJtC,OAIlBf,EAJkB,OAKxB6E,EAAY7E,EAAIC,KAAKA,KAAKgW,QALF,gDAOxBnX,QAAQC,IAAI,KAAIC,SAPQ,gCAU1BogC,IAV0B,yDAAH,sDAcrBG,EAAc,uCAAG,WAAOt+B,EAAG2I,GAAV,iBAAAhM,EAAA,6DACrBqD,EAAEiM,kBADmB,kBAGD+P,GAAenf,KAAK,iBAAkB,CACtD6lB,YAAahF,EAAW9d,GACxBukB,UAAWxb,EAAG/I,GACd2d,IAAK5U,EAAG4M,WACRwM,UAAWzP,SAAS3J,EAAG4M,cAPN,UASK,QANlBxW,EAHa,QASXC,KAAKC,OATM,wBAUjBxC,EAAW,CACTW,MAAO,oBACPI,QAAS,GACTE,QAAS,CAAE8N,IAAKzM,EAAIC,KAAKA,KAAKoe,kBAC9Bxf,IAAK,sBAdU,SAoBWoe,GAAe3P,IAAf,qCACItN,EAAIC,KAAKA,KAAKoe,iBAAiBxd,KArB9C,OAoBX0iB,EApBW,OAwBjB5Z,EAAS4Z,EAActjB,KAAKA,KAAKoe,kBAxBhB,0DA2BnBvf,QAAQC,IAAI,KAAIC,SA3BG,0DAAH,wDAmCd6P,EAAY,uCAAG,WAAO5N,EAAGJ,GAAV,SAAAjD,EAAA,6DACnBqD,EAAEiM,kBADiB,kBAGX+P,GAAenO,OAAf,wBAAuCjO,IAH5B,OAIjBwG,EACED,EAAW2H,QAAO,SAACnF,GACjB,OAAOA,EAAG/I,KAAOA,MANJ,gDAUjB/B,QAAQC,IAAI,KAAIC,SAVC,yDAAH,wDAclB,OACE,gCACG,IACD,qBAAIyB,UAAU,cAAd,0DAAmDqc,KACnD,qBAAKrc,UAAU,cAAf,SACE,mDACeu+B,EADf,MAC0BE,OAG5B,sBAAKz+B,UAAU,WAAf,UACE,qBAAKA,UAAU,2BAAf,SACE,sBAAKsN,MAAO,CAAEiO,OAAQ,QAASwjB,SAAU,QAAzC,UAEE,sBAAK/+B,UAAU,wBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAmBI,GAAG,QAAtC,SACE,mBAAGJ,UAAU,mCAGjB,yBACEA,UAAU,gBACVI,GAAG,QACHE,MAAO69B,EACP59B,SAAU,SAACC,GAAD,OAAOq+B,EAAsBr+B,IAJzC,UAME,wBAAQF,MAAM,GAAd,kCACC+9B,EAASj8B,KAAI,SAAC48B,GACb,OACE,wBAAQ1+B,MAAO0+B,EAAI5+B,GAAnB,SACG4+B,EAAIztB,MADqBytB,EAAI5+B,aAUxC,qBAAKJ,UAAU,YAAf,SACGmE,EAAS/B,KAAI,SAAC+G,GACb,OACE,sBAAKnJ,UAAU,QAAf,UACE,qBACE2K,IAAKxB,EAAGyM,WACRhL,IAAI,6BACJiL,MAAM,QACNjV,QAAS,SAACJ,GAAD,OAAOs+B,EAAet+B,EAAG2I,MAEpC,mBACEnJ,UAAU,cACVsN,MAAO,CACL8O,SAAU,SACV6iB,aAAc,OAJlB,SAOG91B,EAAGzK,MAEN,oBACEsB,UAAU,0BACVsN,MAAO,CAAE8O,SAAU,UAFrB,sBAIStG,wBAAa3M,EAAG4M,YAJzB,YAhB0B5M,EAAG/I,cA4BzC,qBAAKJ,UAAU,6CAAf,SACE,qBAAKsN,MAAO,CAAEiO,OAAQ,QAASwjB,SAAU,QAAzC,SACE,wBAAO/+B,UAAU,sBAAjB,UACE,gCACE,+BACE,0DACA,sDACA,2DACA,6CAGJ,gCACG2G,EAAWvE,KAAI,SAACyb,GACf,OACE,qBACE7d,UAAU,oDADZ,UAIE,oBAAIA,UAAU,eAAd,SAA8B6d,EAAKC,SACnC,qBAAI9d,UAAU,gBAAd,UACE,iCAAS8V,wBAAa+H,EAAKE,OAD7B,UAGA,qBAAI/d,UAAU,gBAAd,UACGwR,yBAAcqM,EAAKG,QADtB,OAEGhL,uBAAY6K,EAAKG,WAEpB,oBAAI1Q,MAAO,CAAEG,OAAQ,WAArB,SACE,mBACEzN,UAAU,2BACVY,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,EAAGqd,EAAKzd,KAFvC,4BAXGyd,EAAKzd,mBA0B1B,sBAAKJ,UAAU,mDAAf,UACE,cAAC,GAAD,CAAUqc,QAASA,IACnB,cAAC,GAAD,CAAcA,QAASA,IACvB,wBACEnc,KAAK,SACLF,UAAU,yBACVY,QAvIO,WACbqB,EAAGE,KAAK,8BAmIJ,kCC1OO+8B,GARU,WACvB,OACE,qBAAKl/B,UAAU,OAAf,SACE,cAAC,GAAD,OCyBSm/B,GA5BI,WAAO,IAAD,EAErB10B,qBAAWlI,IADLwE,EADe,EACfA,uBAAwBC,EADT,EACSA,0BAEhC,OACE,sBAAKhH,UAAU,gBAAf,UACE,qBAAKA,UAAU,UAEf,sBAAKA,UAAU,yBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,uBAAOA,UAAU,mBAAmBiM,QAAQ,gBAA5C,8CAIF,yBACEjM,UAAU,gBACVI,GAAG,gBACHE,MAAOyG,EACPxG,SAAU,SAACC,GAAD,OAAOwG,EAA0BxG,EAAEC,OAAOH,QAJtD,UAME,wBAAQA,MAAM,KAAd,oCACA,wBAAQA,MAAM,KAAd,qCAGJ,qBAAKN,UAAU,cC8GNo/B,GApIS,SAAC,GAAkB,IAAhBl/B,EAAe,EAAfA,KAAME,EAAS,EAATA,GAAS,EAChB3B,mBAAS,IADO,mBACjC+vB,EADiC,KAC3B6Q,EAD2B,KAEpCp9B,EAAKC,cAF+B,EAIlBzD,mBAAS,IAJS,mBAIjC+M,EAJiC,KAI5BsE,EAJ4B,KAMlClP,EAAO,uCAAG,8BAAAzD,EAAA,kEAEC,OAAT+C,EAFQ,gCAGQm4B,GAAaxrB,IAAb,yBAAmCzM,IAH3C,OAGJb,EAHI,OAIV8/B,EAAQ9/B,EAAIC,KAAKA,KAAKk5B,SAASF,SAC/B1oB,EAAO,CACL1P,GAAIA,EACJo4B,QAASj5B,EAAIC,KAAKA,KAAKk5B,SAASF,UAPxB,0BASQ,OAATt4B,EATC,kCAUQm4B,GAAaxrB,IAAb,yBAAmCzM,IAV3C,QAUJb,EAVI,OAWV8/B,EAAQ9/B,EAAIC,KAAKA,KAAKy5B,SAASF,SAC/BjpB,EAAO,CACL1P,GAAIA,EACJ24B,QAASx5B,EAAIC,KAAKA,KAAKy5B,SAASF,UAdxB,0DAkBZ16B,QAAQC,IAAI,KAAIC,SAlBJ,0DAAH,qDAsBPsN,EAAY,uCAAG,WAAOrL,GAAP,iBAAArD,EAAA,yDACnBqD,EAAEiM,mBACE+hB,EAFe,6BAIF,OAATtuB,EAJW,iCAKKm4B,GAAantB,IAAI,iBAAkB,CACnD9K,GAAIA,EACJo4B,QAAShK,IAPE,OASW,OATX,OASLhvB,KAAKC,SACLsM,EAAO,CAAE3L,GAAIA,EAAIo4B,QAAShK,GAC5B1wB,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,oBACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,oCAGT6D,EAAGE,KAAK,kBACRF,EAAGE,KAAK,kCApBG,2BAsBK,OAATjC,EAtBI,kCAuBKm4B,GAAantB,IAAI,iBAAkB,CACnD9K,GAAIA,EACJ24B,QAASvK,IAzBE,QA2BW,OA3BX,OA2BLhvB,KAAKC,SACLsM,EAAO,CAAE3L,GAAIA,EAAI24B,QAASvK,GAC5B1wB,KAAKC,UAAUyN,KAAS1N,KAAKC,UAAUgO,IACzC9O,EAAW,CACTW,MAAO,oBACPI,QAAS,CAAEwN,OACXtN,QAAS,CAAE8N,IAAKD,GAChB3N,IAAK,yCAGT6D,EAAGE,KAAK,kBACRF,EAAGE,KAAK,kCAtCG,0DA0Cf9D,QAAQC,IAAI,KAAIC,SA1CD,0DAAH,sDA8ClB,OACE,gCACE,wBACEyB,UAAU,uBACVE,KAAK,SACLmL,cAAA,aAAmBjL,GAAnB,OAAwBF,EAAxB,SACAkL,cAAY,QACZxK,QAASA,EALX,sBASA,qBAAKZ,UAAU,kBAAkBI,GAAE,YAAOA,GAAP,OAAYF,EAAZ,SAAnC,SACE,qBAAKF,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,+BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,sBAAKA,UAAU,aAAf,UACE,uBAAOiM,QAAO,iBAAY/L,KAAiB,IAC3C,0BACEE,GAAE,iBAAYF,GACd+P,KAAK,IACLjQ,UAAU,eACVM,MAAOkuB,EACPjuB,SAAU,SAACC,GAAD,OAAO6+B,EAAQ7+B,EAAEC,OAAOH,eAKxC,sBAAKN,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAOqL,EAAarL,IAJ/B,sBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,wCCtCCg0B,GA9ES,SAAC,GAAkB,IAAhBvc,EAAe,EAAfA,GAAI7iB,EAAW,EAAXA,KACzB+B,EAAKC,cACHkM,EAAY,uCAAG,WAAO5N,GAAP,SAAArD,EAAA,yDACnBqD,EAAEiM,kBADiB,SAGJ,OAATvM,EAHa,iCAITm4B,GAAahqB,OAAb,yBAAsC0U,EAAG3iB,KAJhC,OAKfnD,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAKuX,GAChB7kB,QAAS,GACTE,IAAK,8CAEP6D,EAAGE,KAAK,kBACRF,EAAGE,KAAK,iCAZO,2BAaG,OAATjC,EAbM,kCAcTm4B,GAAahqB,OAAb,yBAAsC0U,EAAG3iB,KAdhC,QAefnD,EAAW,CACTW,MAAO,SACPI,QAAS,CAAEwN,IAAKuX,GAChB7kB,QAAS,GACTE,IAAK,yCAEP6D,EAAGE,KAAK,kBACRF,EAAGE,KAAK,iCAtBO,0DAyBjB9D,QAAQC,IAAI,KAAIC,SAzBC,0DAAH,sDA4BlB,OACE,gCACE,wBACEyB,UAAU,sBACVE,KAAK,SACLmL,cAAA,aAAmB0X,EAAG3iB,IAAtB,OAA2BF,EAA3B,YACAkL,cAAY,QAJd,oBAQA,qBAAKpL,UAAU,kBAAkBI,GAAE,YAAO2iB,EAAG3iB,IAAV,OAAeF,EAAf,YAAnC,SACE,qBAAKF,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQsL,eAAa,QAArD,qBAKF,qBAAKtL,UAAU,aAAf,SACE,iIAGF,sBAAKA,UAAU,sCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,6CACVsL,eAAa,QACb1K,QAAS,SAACJ,GAAD,OAAO4N,EAAa5N,IAJ/B,mBAQA,wBACEN,KAAK,SACLF,UAAU,0CACVsL,eAAa,QAHf,oCCLCi0B,GAzDO,WAAO,IACnBx4B,EAA2B0D,qBAAWlI,IAAtCwE,uBACFwD,EAAWhN,OAAOC,aAAaC,QAAQ,aAFnB,EAGUgB,mBAAS,IAHnB,mBAGnB+gC,EAHmB,KAGPC,EAHO,KAgB1B,OAXA1yB,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIk7B,GAAaxrB,IAAI,kBAFrB,OAERtN,EAFQ,OAGdkgC,EAAclgC,EAAIC,KAAKA,KAAKk5B,UAHd,gDAKdr6B,QAAQC,IAAI,KAAGC,SALD,yDAAH,qDAQfyO,KACC,IAED,qBAAKhN,UAAsC,OAA3B+G,EAAkC,MAAQ,aAA1D,SACGy4B,EAAWp9B,KAAI,SAAC2gB,GACf,OACE,qBAAK/iB,UAAU,QAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,cAAd,UACG+iB,EAAGzF,QADN,MACkByF,EAAGxF,YAGvB,qBAAKvd,UAAU,aAAf,SACE,qBAAIA,UAAU,8BAAd,UACE,qBAAIA,UAAU,kBAAd,qCACW,iCAAS+iB,EAAGuV,UADvB,QAC8C,IAC5C,iCAASvV,EAAGwV,cAEd,qBAAIv4B,UAAU,kBAAd,wBAAyC+iB,EAAGyV,WAC5C,qBAAIx4B,UAAU,kBAAd,oCACawR,yBAAcuR,EAAG2c,SAD9B,WAC6C,IAC1C1sB,uBAAY+P,EAAG2c,YAElB,qBAAI1/B,UAAU,kBAAd,6CAA6C+iB,EAAG0V,iBAGpD,sBAAKz4B,UAAU,qDAAf,UACE,cAAC,GAAD,CAAiBE,KAAK,KAAKE,GAAI2iB,EAAG3iB,KACpB,OAAbmK,GAAkC,UAAbA,EACpB,cAAC,GAAD,CAAiBrK,KAAK,KAAK6iB,GAAIA,IAE/B,UA1BoBA,EAAG3iB,UC6C1Bu/B,GA5DO,WAAO,IACnB54B,EAA2B0D,qBAAWlI,IAAtCwE,uBACFwD,EAAWhN,OAAOC,aAAaC,QAAQ,aAFnB,EAIUgB,mBAAS,IAJnB,mBAInBmhC,EAJmB,KAIPC,EAJO,KAgB1B,OAXA9yB,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIk7B,GAAaxrB,IAAI,kBAFrB,OAERtN,EAFQ,OAGdsgC,EAActgC,EAAIC,KAAKA,KAAKy5B,UAHd,gDAKd56B,QAAQC,IAAI,KAAGC,SALD,yDAAH,qDAQfyO,KACC,IAED,qBAAKhN,UAAsC,OAA3B+G,EAAkC,MAAQ,aAA1D,SACG64B,EAAWx9B,KAAI,SAAC09B,GACf,OACE,qBAAK9/B,UAAU,QAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,cAAd,UACG8/B,EAAGxiB,QADN,MACkBwiB,EAAGviB,YAGvB,qBAAKvd,UAAU,aAAf,SACE,qBAAIA,UAAU,8BAAd,UACE,qBAAIA,UAAU,kBAAd,iCACc,iCAAS8/B,EAAGhH,cAE1B,qBAAI94B,UAAU,kBAAd,wBAAyC8/B,EAAG/G,WAC5C,qBAAI/4B,UAAU,kBAAd,+BACawR,yBAAcsuB,EAAGC,SAD9B,WAC6C,IAC1C/sB,uBAAY8sB,EAAGC,YAElB,qBAAI//B,UAAU,kBAAd,wCAA6C8/B,EAAG9G,YAChD,qBAAIh5B,UAAU,kBAAd,qCACgB,iCAAS8V,wBAAagqB,EAAGhhB,WADzC,kBAMJ,sBAAK9e,UAAU,qDAAf,UACE,cAAC,GAAD,CAAiBE,KAAK,KAAKE,GAAI0/B,EAAG1/B,KACpB,OAAbmK,GAAkC,UAAbA,EACpB,cAAC,GAAD,CAAiBrK,KAAK,KAAK6iB,GAAI+c,IAE/B,UA7BoBA,EAAG1/B,UCf1B4/B,GAXU,WACvB,OACE,sBAAKhgC,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,yDACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,QC6ESigC,GAnFU,WAAO,IACtB7/B,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAFoB,EAIOzD,mBAAS,IAJhB,mBAItByhC,EAJsB,KAIVC,EAJU,KAM7BpzB,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEI6oB,GAAgBnZ,IAAhB,qBAAkCzM,IAFtC,OAERb,EAFQ,OAGd4gC,EAAc5gC,EAAIC,KAAKA,KAAKymB,WAHd,gDAKd5nB,QAAQC,IAAI,KAAIC,SALF,yDAAH,qDASfyO,KACC,CAACmzB,EAAe//B,IAKnB,OACE,8BACE,gCACE,qBAAKJ,UAAU,kBAAf,SACE,wBAAQA,UAAU,yBAAyBY,QAPpC,WACbqB,EAAGE,KAAK,wBAMF,6BAIF,qBAAInC,UAAU,YAAd,sCAA2CkgC,EAAWxhC,OAEtD,uBAAOsB,UAAU,sDAAjB,SACE,kCACE,qBAAIA,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,4CAGA,oBAAIA,UAAU,aAAd,SAA4B8V,wBAAaoqB,EAAWhuB,WAEtD,qBAAIlS,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+CACA,oBAAIA,UAAU,aAAd,SAA4BkgC,EAAWtwB,SAEzC,qBAAI5P,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,+BACA,oBAAIA,UAAU,aAAd,SAC2B,IAAxBkgC,EAAWpuB,SACR,MACwB,IAAxBouB,EAAWpuB,SACX,UACA,WAIR,qBAAI9R,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,0BACA,oBAAIA,UAAU,aAAd,SACGwR,yBAAc0uB,EAAWluB,eAI9B,qBAAIhS,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,oCACA,oBAAIA,UAAU,aAAd,SAA4BkgC,EAAWxwB,YAGzC,qBAAI1P,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,iDACA,oBAAIA,UAAU,aAAd,SAA4BkgC,EAAWxuB,aAGzC,qBAAI1R,UAAU,SAAd,UACE,oBAAIA,UAAU,8BAAd,wCACA,oBAAIA,UAAU,aAAd,SAA4BkgC,EAAW7Z,mCCnEtC+Z,GATc,WAC3B,OACE,sBAAKpgC,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,yDACA,cAAC,GAAD,Q,oBC+CSqgC,GAlDO,WAAO,IACnBjgC,EAAOqT,cAAPrT,GACJ6B,EAAKC,cAFiB,EAIIzD,mBAAS,IAJb,mBAInB6hC,EAJmB,KAIVC,EAJU,OAKI9hC,mBAAS,IALb,mBAKnB+hC,EALmB,KAKVC,EALU,KAmB1B,OAbA1zB,qBAAU,YACO,uCAAG,4BAAA5P,EAAA,+EAEIC,EAAayP,IAAb,qBAA+BzM,IAFnC,OAERb,EAFQ,OAIdghC,EAAWziC,KAAK4iC,MAAMnhC,EAAIC,KAAKA,KAAK01B,OAAOr3B,WAC3C4iC,EAAW3iC,KAAK4iC,MAAMnhC,EAAIC,KAAKA,KAAK01B,OAAOj3B,YAL7B,gDAOdI,QAAQC,IAAI,KAAIC,SAPF,yDAAH,qDAUfyO,KACC,CAAC5M,IAEF,gCACE,sBAAKJ,UAAU,8CAAf,UACE,sBAAKA,UAAU,yCAAf,UACE,oBAAIA,UAAU,OAAd,uCACA,cAAC,KAAD,CACE2K,IAAK21B,EAAQ90B,IACb+F,KAAK,MACLovB,YAAY,IACZC,mBAAmB,EACnBC,kBAAkB,OAGtB,sBAAK7gC,UAAU,sCAAf,UACE,oBAAIA,UAAU,OAAd,wCACA,cAAC,KAAD,CACE2K,IAAK61B,EAAQx0B,IACbuF,KAAK,MACLovB,YAAY,IACZC,mBAAmB,EACnBC,kBAAkB,UAIxB,qBAAK7gC,UAAU,oBAAoBY,QAAS,kBAAMqB,EAAGE,KAAK,MAA1D,+BCnCS2+B,GATW,WACxB,OACE,sBAAK9gC,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,kDACA,cAAC,GAAD,QCgNS+gC,GA9ME,WACf,IAAI9+B,EAAKC,cADY,EAEOzD,mBAAS,IAFhB,mBAEd4K,EAFc,KAEN23B,EAFM,OAGWviC,mBAAS,IAHpB,mBAGdwiC,EAHc,KAGJC,EAHI,KAKb9gC,EAAOqT,cAAPrT,GA4CR,OA1CA2M,qBAAU,WACR,IAAMo0B,EAAS,uCAAG,4BAAAhkC,EAAA,+EAEIijB,GAAavT,IAAb,qBAA+BzM,IAFnC,OAERb,EAFQ,OAGdyhC,EAAUzhC,EAAIC,KAAKA,KAAK6J,QACxBhL,QAAQC,IAAIiB,EAAIC,KAAKA,KAAK6J,QAJZ,gDAMdhL,QAAQC,IAAI,KAAGC,SAND,yDAAH,qDAST6iC,EAAW,uCAAG,sBAAAjkC,EAAA,+EAEEijB,GAAavT,IAAb,oCAA8CzM,IAFhD,cAIZZ,KAAKA,KAAK4jB,eAAerU,QAA7B,uCAAqC,WAAOlN,GAAP,eAAA1E,EAAA,6DACnC0E,EAAKsG,OAAS,GADqB,SAEdqU,GAAe3P,IAAf,qCACWhL,EAAKqhB,cAHF,OAE7Bme,EAF6B,OAKnCx/B,EAAKsG,OAASk5B,EAAO7hC,KAAKA,KAAKoe,iBAC/BsjB,GAAY,SAACD,GAAD,OAAep/B,GAAf,oBAAwBo/B,OAND,2CAArC,uDAJgB,gDAahB5iC,QAAQC,IAAI,KAAGC,SAbC,yDAAH,qDAiBjB4iC,IACAC,MACC,CAAChhC,EAAI8gC,EAAaj/B,IAcnB,qBAAKjC,UAAU,OAAOI,GAAG,YAAzB,SACE,sBACEJ,UAAU,YACVsN,MAAO,CAAEC,OAAQ,oBAAqB6N,aAAc,OAFtD,UAIE,oBAAIpb,UAAU,mBAAmBY,QAAS,kBAAMrD,OAAO+jC,SAAvD,kCAIA,qBAAIthC,UAAU,aAAd,UACE,qBAAIA,UAAU,kFAAd,UACE,mFACA,0FACA,sOAKF,qBAAIA,UAAU,kFAAd,UACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,mDAAgBqJ,EAAOiU,aAEzB,qBAAKtd,UAAU,MAAf,SACE,oEAAmBqJ,EAAOkU,eAI9B,sBAAKvd,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,kDAAeqJ,EAAOgY,aAExB,qBAAKrhB,UAAU,MAAf,SACE,oEAAmBqJ,EAAOkc,eAG9B,8DACmB/T,yBAAcnI,EAAO+X,SADxC,OAEGpO,uBAAY3J,EAAO+X,eAGvB6f,EAAS7+B,KAAI,SAAC+iB,GACb,OACE,qBACEnlB,UAAU,kFADZ,uBAIS,iCAASmlB,EAAKld,QACrB,wBAAOjI,UAAU,uBAAjB,UACE,gCACE,qBAAIA,UAAU,cAAd,UACE,wCACA,sDACA,oCACA,+CAGJ,kCACE,+BACE,4DACA,qBAAIA,UAAU,aAAd,UACE,iCAAS8V,wBAAaqP,EAAKvG,WAD7B,UAGA,oBAAI5e,UAAU,cAAd,SAA6BmlB,EAAKtG,WAClC,oBAAI7e,UAAU,cAAd,SACqB,yBAAlBmlB,EAAKxG,SAAgC,UAAS,gBAGlDwG,EAAKhd,OAAO/F,KAAI,SAAC+G,GAChB,OACE,+BACE,6BAAKA,EAAGsb,UACR,qBAAIzkB,UAAU,aAAd,UACE,iCAAS8V,wBAAa3M,EAAG4U,OAD3B,UAGA,oBAAI/d,UAAU,cAAd,SAA6BmJ,EAAGub,UAChC,oBAAI1kB,UAAU,cAAd,wBANOmJ,EAAGwb,cAUhB,6BACE,qBAAI4c,QAAQ,IAAZ,iCACa,IACX,iCAASzrB,wBAAaqP,EAAKqc,cAF7B,YAKDrc,EAAK3C,SAAW,KAAO,IACtB,6BACE,qBAAI+e,QAAQ,IAAZ,kCACc,IACZ,iCAASzrB,wBAAaqP,EAAK3C,YAF7B,YAMF,WAjDD2C,EAAK/kB,OAwDhB,oBAAIJ,UAAU,kFAAd,SACE,uBAAOA,UAAU,uBAAjB,SACE,kCACE,+BACE,sDACA,qBAAIA,UAAU,aAAd,cACG,iCAAS8V,wBAAazM,EAAOkZ,aADhC,aAIF,+BACE,kDACA,qBAAIviB,UAAU,aAAd,cAEE,iCACG8V,wBACChD,SAASzJ,EAAOkZ,YAAclZ,EAAOmX,IAAM,QAErC,IANZ,YAWDnX,EAAOic,SAAW,KAAO,IACxB,+BACE,uDACA,qBAAItlB,UAAU,aAAd,cACG,iCAAS8V,wBAAazM,EAAOic,YADhC,aAKF,GAGF,+BACE,sDACA,qBAAItlB,UAAU,aAAd,cACG,iCAAS8V,wBAAazM,EAAOgc,WADhC,aAKF,+BACE,iDACA,qBAAIrlB,UAAU,aAAd,cACG,iCAAS8V,wBAAazM,EAAOoU,YADhC,6BC/LHgkB,GARM,WACnB,OACE,8BACE,cAAC,GAAD,OCyVSC,GAlSI,WACjB,IAAMn3B,EAAWhN,OAAOC,aAAaC,QAAQ,aAC7C,OACE,gCACE,cAAC,GAAD,IACA,sBAAKuC,UAAU,iBAAf,UAGgB,KAAbuK,EACC,qCACE,cAAC,IAAD,CAAOvJ,KAAK,IAAI2gC,OAAK,EAACC,UAAWhM,KACjC,cAAC,IAAD,CACE50B,KAAK,iCACL2gC,OAAK,EACLC,UAAWd,QAIf,GAGY,UAAbv2B,EACC,cAAC,IAAD,CACEvJ,KAAK,2BACL2gC,OAAK,EACLC,UAAWl0B,KAGb,GAGY,UAAbnD,GAAqC,OAAbA,GAAkC,SAAbA,EAC5C,qCACE,cAAC,IAAD,CACEvJ,KAAK,4BACL2gC,OAAK,EACLC,UAAWjlB,KAEb,cAAC,IAAD,CACE3b,KAAK,2BACL2gC,OAAK,EACLC,UAAWlkB,KAEb,cAAC,IAAD,CACE1c,KAAK,+BACL2gC,OAAK,EACLC,UAAW7iB,KAEb,cAAC,IAAD,CACE/d,KAAK,6CACL2gC,OAAK,EACLC,UAAW9D,KAEb,cAAC,IAAD,CACE98B,KAAK,6CACL2gC,OAAK,EACLC,UAAW5H,KAEb,cAAC,IAAD,CACEh5B,KAAK,qDACL2gC,OAAK,EACLC,UAAW1C,KAEb,cAAC,IAAD,CACEl+B,KAAK,gCACL2gC,OAAK,EACLC,UAAW5B,KAEb,cAAC,IAAD,CACEh/B,KAAK,kCACL2gC,OAAK,EACLC,UAAWniB,KAEb,cAAC,IAAD,CACEze,KAAK,sCACL2gC,OAAK,EACLC,UAAW1hB,KAEb,cAAC,IAAD,CAAOlf,KAAK,yBAAyB2gC,OAAK,EAACC,UAAW5d,KACtD,cAAC,IAAD,CACEhjB,KAAK,6BACL2gC,OAAK,EACLC,UAAWnc,KAEb,cAAC,IAAD,CACEzkB,KAAK,gCACL2gC,OAAK,EACLC,UAAWH,KAGb,cAAC,IAAD,CACEzgC,KAAK,sBACL2gC,OAAK,EACLC,UAAWrb,KAEb,cAAC,IAAD,CACEvlB,KAAK,0BACL2gC,OAAK,EACLC,UAAWxB,QAIf,GAEY,UAAb71B,GAAqC,OAAbA,EACvB,qCAEE,cAAC,IAAD,CACEvJ,KAAK,iCACL2gC,OAAK,EACLC,UAAWjxB,KAEb,cAAC,IAAD,CACE3P,KAAK,8BACL2gC,OAAK,EACLC,UAAWruB,KAEb,cAAC,IAAD,CACEouB,OAAK,EACL3gC,KAAK,kCACL4gC,UAAW9tB,KAEb,cAAC,IAAD,CACE6tB,OAAK,EACL3gC,KAAK,sCACL4gC,UAAW5tB,KAEb,cAAC,IAAD,CACEhT,KAAK,4BACL2gC,OAAK,EACLC,UAAW5oB,KAEb,cAAC,IAAD,CACEhY,KAAK,gCACL2gC,OAAK,EACLC,UAAWhO,KAEb,cAAC,IAAD,CACE5yB,KAAK,oCACL2gC,OAAK,EACLC,UAAW3N,KAEb,cAAC,IAAD,CAAOjzB,KAAK,0BAA0B2gC,OAAK,EAACC,UAAWjnB,KACvD,cAAC,IAAD,CACE3Z,KAAK,+BACL2gC,OAAK,EACLC,UAAWvO,KAEb,cAAC,IAAD,CACEryB,KAAK,mCACL2gC,OAAK,EACLC,UAAWpO,KAEb,cAAC,IAAD,CAAOxyB,KAAK,yBAAyB2gC,OAAK,EAACC,UAAWhnB,QAGxD,GAGY,UAAbrQ,GAAqC,OAAbA,GAAkC,QAAbA,EAC5C,qCACG,IAED,cAAC,IAAD,CACEvJ,KAAK,gCACL2gC,OAAK,EACLC,UAAWzY,KAEb,cAAC,IAAD,CACEnoB,KAAK,oCACL2gC,OAAK,EACLC,UAAWlN,KAEb,cAAC,IAAD,CACE1zB,KAAK,wCACL2gC,OAAK,EACLC,UAAW5M,KAEb,cAAC,IAAD,CACEh0B,KAAK,gCACL2gC,OAAK,EACLC,UAAW/W,KAEb,cAAC,IAAD,CACE7pB,KAAK,oCACL2gC,OAAK,EACLC,UAAWpV,KAEb,cAAC,IAAD,CACExrB,KAAK,wCACL2gC,OAAK,EACLC,UAAWlV,KAGb,cAAC,IAAD,CACE1rB,KAAK,iCACL2gC,OAAK,EACLC,UAAWzU,KAEb,cAAC,IAAD,CACEnsB,KAAK,qCACL2gC,OAAK,EACLC,UAAW/J,KAEb,cAAC,IAAD,CACE72B,KAAK,yCACL2gC,OAAK,EACLC,UAAW7L,QAIf,GAGY,UAAbxrB,GAAqC,OAAbA,EACvB,qCACG,IAED,cAAC,IAAD,CACEvJ,KAAK,+BACL2gC,OAAK,EACLC,UAAWlQ,KAEb,cAAC,IAAD,CACE1wB,KAAK,8BACL2gC,OAAK,EACLC,UAAW/S,KAEb,cAAC,IAAD,CACE7tB,KAAK,kCACL2gC,OAAK,EACLC,UAAWzS,KAEb,cAAC,IAAD,CACEnuB,KAAK,sCACL2gC,OAAK,EACLC,UAAWvS,KAEb,cAAC,IAAD,CACEruB,KAAK,gCACL2gC,OAAK,EACLC,UAAWtS,QAIf,GAEY,UAAb/kB,GAAqC,OAAbA,EACvB,qCAEE,cAAC,IAAD,CACEvJ,KAAK,gCACL2gC,OAAK,EACLC,UAAWC,KAEb,cAAC,IAAD,CACE7gC,KAAK,oCACL2gC,OAAK,EACLC,UAAWhP,KAEb,cAAC,IAAD,CACE5xB,KAAK,mCACL2gC,OAAK,EACLC,UAAWjQ,KACV,OAGL,UC/SKmQ,GApBC,WAAO,IACbn/B,EAAa8H,qBAAWlI,IAAxBI,SAER,MAAiB,SAAbA,EAGA,mCACE,cAAC,GAAD,MAGkB,UAAbA,EAGP,mCACE,cAAC,EAAD,WAJC,GCEMo/B,OAZf,WACE,OACE,cAAC,GAAD,UACE,8BACE,cAAC,IAAD,UACE,cAAC,GAAD,WCNVC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,U,gBCJ1B,IAAM5wB,EAAgB,SAAC6wB,GAErB,OADQ,IAAI/uB,KAAK+uB,GACRC,mBAAmB,UAyE9BC,EAAOC,QAAU,CACfhxB,gBACAoC,eAzDqB,SAAC6uB,GACtB,IAAIt1B,EAAS,GACb,OAAQs1B,GACN,KAAK,EACHt1B,EAAS,UACT,MACF,KAAK,EACHA,EAAS,MACT,MACF,KAAK,EACHA,EAAS,MAKb,OAAOA,GA2CP2I,aAxCmB,SAAC4sB,GACpB,OAAQA,EAAM,IAAIC,QAAQ,wBAAyB,MAwCnDC,WArCiB,SAAC1wB,GAClB,OAAOA,EAAK2wB,WAAWF,QAAQ,wBAAyB,QAqCxDhwB,sBAlC4B,SAACjE,GAE7B,MADY,8BACCtP,KAAKsP,IAiClBkE,cA9BoB,SAACR,GAGrB,MADE,wJACQhT,KAAK0jC,OAAO1wB,GAAO/C,gBA4B7BwD,cAzBoB,SAACnE,GAErB,MADgB,mBACDtP,KAAKsP,IAwBpBsI,6BArBmC,SAAC+rB,GACpC,IAAM51B,EAAS,GAMf,OALA41B,EAAI3gC,KAAI,SAACP,GACP,IAAMmhC,EAAM,CAAE1iC,MAAOuB,EAAKzB,GAAIya,MAAOhZ,EAAK0P,MAE1C,OADApE,EAAOhL,KAAK6gC,GACLnhC,KAEFsL,GAePwhB,WAZiB,SAACsU,EAAWC,GAAZ,OACjBD,EAAUE,SAAS,EAAG,EAAG,EAAG,IAAMD,EAAWC,SAAS,EAAG,EAAG,EAAG,IAY/DpwB,YA3EkB,SAACsvB,GACnB,IACMU,EADEvxB,EAAc6wB,GACRxzB,MAAM,KAChB1B,EAAS41B,EAAI,GAAK,IAItB,OAHAA,EAAI,GAAK,GAAM51B,GAAU,IAAM41B,EAAI,GAAO51B,GAAU41B,EAAI,GACxD51B,GAAU,IACV41B,EAAI,GAAK,GAAM51B,GAAU,IAAM41B,EAAI,GAAO51B,GAAU41B,EAAI,GACjD51B,GAqEP6F,YAjFkB,SAACowB,GAEnB,OADQ,IAAI9vB,KAAK8vB,GACRC,mBAAmB,a","file":"static/js/main.b4ea6d80.chunk.js","sourcesContent":["// const Server = \"http://localhost:3005\";\r\nconst Server = \"https://qlks-server.herokuapp.com\";\r\nexport default Server;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/kiem-tra-dang-nhap-backend\",\r\n});\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/lich-su\",\r\n});\r\n","import LichSuFinder from \"../apis/LichSuFinder\";\r\n\r\nconst ThemLichSu = async (bundle) => {\r\n  try {\r\n    await LichSuFinder.post(\"/them\", {\r\n      nguoithuchien: window.localStorage.getItem(\"user_name\"),\r\n      vaitro: window.localStorage.getItem(\"user_role\"),\r\n      hanhdong: bundle.doing,\r\n      dulieucu: JSON.stringify(bundle.olddata),\r\n      dulieumoi: JSON.stringify(bundle.newdata),\r\n      doituong: bundle.tbl,\r\n    });\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexport default ThemLichSu;\r\n","import React, { useState } from \"react\";\r\nimport KiemTraDangNhapBackEnd from \"../../apis/KiemTraDangNhapBackEnd\";\r\nimport ReactIsCapsLockActive from \"@matsun/reactiscapslockactive\";\r\nimport ThemLichSu from \"../../utils/ThemLichSu\";\r\nconst LoginBackEnd = () => {\r\n  const [ten, setTen] = useState(\"\");\r\n  const [mk, setMk] = useState(\"\");\r\n  const [messageError, setMessageError] = useState(\"\");\r\n\r\n  const handleSubmit = async () => {\r\n    const english = /^[A-Za-z0-9]*$/;\r\n    if (ten === \"\") {\r\n      setMessageError(\"Bạn phải nhập tên tài khoản. Không được để trống\");\r\n      setTimeout(() => {\r\n        setMessageError(\"\");\r\n      }, 4000);\r\n    } else if (ten.indexOf(\" \") >= 0) {\r\n      setMessageError(\"Tên tài khoản không được chứa khoảng trắng.\");\r\n      setTimeout(() => {\r\n        setMessageError(\"\");\r\n      }, 4000);\r\n    } else if (!english.test(ten)) {\r\n      setMessageError(\"Tên tài khoản không được chứa kí tự đặc biệt hoặc dấu.\");\r\n      setTimeout(() => {\r\n        setMessageError(\"\");\r\n      }, 4000);\r\n    } else if (ten.length > 0 && ten.length < 6) {\r\n      setMessageError(\"Tên tài khoản ít nhất phải có 6 kí tự.\");\r\n      setTimeout(() => {\r\n        setMessageError(\"\");\r\n      }, 4000);\r\n    } else if (mk === \"\") {\r\n      setMessageError(\"Bạn phải nhập mật khẩu. Không được để trống\");\r\n    } else if (mk.indexOf(\" \") >= 0) {\r\n      setMessageError(\"Mật khẩu không được chứa khoảng trắng.\");\r\n      setTimeout(() => {\r\n        setMessageError(\"\");\r\n      }, 4000);\r\n    } else if (!english.test(mk)) {\r\n      setMessageError(\"Mật khẩu không được chứa kí tự đặc biệt hoặc dấu.\");\r\n      setTimeout(() => {\r\n        setMessageError(\"\");\r\n      }, 4000);\r\n    } else if (mk.length > 0 && mk.length < 8) {\r\n      setMessageError(\"Mật khẩu ít nhất phải có 8 kí tự.\");\r\n      setTimeout(() => {\r\n        setMessageError(\"\");\r\n      }, 4000);\r\n    } else {\r\n      try {\r\n        const res = await KiemTraDangNhapBackEnd.post(\"/\", {\r\n          ten: ten,\r\n          mk: mk,\r\n          vaitro: \"KH\",\r\n        });\r\n        // console.log(typeof res.data.data.ten_ht);\r\n        if (res.data.status !== \"ok\") {\r\n          setMessageError(res.data.status);\r\n          setTimeout(() => {\r\n            setMessageError(\"\");\r\n          }, 3000);\r\n        } else {\r\n          window.localStorage.setItem(\"dangnhap\", \"true\");\r\n          window.localStorage.setItem(\"user_name\", res.data.data.ten);\r\n          window.localStorage.setItem(\"user_displayname\", res.data.data.ten_ht);\r\n          window.localStorage.setItem(\"user_role\", res.data.data.vaitro);\r\n          window.localStorage.setItem(\"user_avt\", res.data.data.avt);\r\n\r\n          ThemLichSu({\r\n            doing: \"Đăng nhập\",\r\n            olddata: {},\r\n            newdata: {},\r\n            tbl: \"Người dùng\",\r\n          });\r\n          window.location.reload();\r\n        }\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"row d-flex justify-content-center mt-5\">\r\n      <div className=\"col-sm-4 mt-5 border border-5 rounded px-5 pb-5 border-mute  \">\r\n        <h1 className=\"text-center mt-4 mb-5\">Đăng nhập</h1>\r\n\r\n        <form action=\"\" className=\"need-validated mx-4\">\r\n          <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">\r\n                <i className=\"fas fa-user text-primary\"></i>\r\n              </span>\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Nhập tên tài khoản\"\r\n              id=\"username\"\r\n              className=\"form-control\"\r\n              title=\"Vui lòng điền tài khoản vào đây\"\r\n              value={ten}\r\n              onChange={(e) => {\r\n                setTen(e.target.value);\r\n              }}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">\r\n                <i className=\"fas fa-key text-primary\"></i>\r\n              </span>\r\n            </div>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Nhập mật khẩu\"\r\n              id=\"password\"\r\n              className=\"form-control\"\r\n              title=\"Vui lòng điền mật khẩu vào đây\"\r\n              value={mk}\r\n              onChange={(e) => {\r\n                setMk(e.target.value);\r\n              }}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <p className=\"text-danger\">{messageError}</p>\r\n          <ReactIsCapsLockActive>\r\n            {(active) => (\r\n              <p className=\"text-danger\">\r\n                {\" \"}\r\n                {active ? \"Caps lock đang bật. Vui lòng tắt\" : \"\"}\r\n              </p>\r\n            )}\r\n          </ReactIsCapsLockActive>\r\n          {/* <div className=\"form-check mb-3\">\r\n            <label className=\"form-check-label\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"form-check-input\"\r\n                value={checked}\r\n                onChange={(e) => setChecked(e.target.checked)}\r\n              />\r\n              Nhớ mật khẩu\r\n            </label>\r\n          </div> */}\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary form-control py-2\"\r\n            onClick={handleSubmit}\r\n          >\r\n            Đăng nhập\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginBackEnd;\r\n","import React from \"react\";\r\nimport * as FaIcons from \"react-icons/fa\";\r\nimport * as FiIcons from \"react-icons/fi\";\r\nimport * as BiIcons from \"react-icons/bi\";\r\nimport * as AiIcons from \"react-icons/ai\";\r\nimport * as HiIcons from \"react-icons/hi\";\r\nimport * as DiIcons from \"react-icons/di\";\r\nimport * as RiIcons from \"react-icons/ri\";\r\nimport * as GiIcons from \"react-icons/gi\";\r\nimport * as ImIcons from \"react-icons/im\";\r\nimport * as MdIcons from \"react-icons/md\";\r\n// import * as VscIcons from \"react-icons/vsc\";\r\nexport const SidebarData = [\r\n  //lich su hoat dong\r\n  {\r\n    title: \"Lịch sử hoạt động\",\r\n    icon: <FaIcons.FaHistory />,\r\n    role: [\"Admin\", \"NVLT\", \"NVK\", \"QL\", \"NVDP\"],\r\n    path: \"/\",\r\n  },\r\n  // Admin\r\n  {\r\n    title: \"Admin\",\r\n    icon: <RiIcons.RiAdminLine />,\r\n    iconClosed: <RiIcons.RiArrowDownSFill />,\r\n    iconOpened: <RiIcons.RiArrowUpSFill />,\r\n    role: [\"Admin\"],\r\n    subNav: [\r\n      {\r\n        title: \"Tài khoản\",\r\n        path: \"/quan-ly/admin/tai-khoan\",\r\n        icon: <RiIcons.RiAccountPinCircleLine />,\r\n      },\r\n    ],\r\n  },\r\n\r\n  // Phòng\r\n  {\r\n    title: \"Phòng\",\r\n    icon: <AiIcons.AiFillHome />,\r\n    iconClosed: <RiIcons.RiArrowDownSFill />,\r\n    iconOpened: <RiIcons.RiArrowUpSFill />,\r\n    role: [\"Admin\", \"NVLT\", \"QL\"],\r\n    subNav: [\r\n      {\r\n        title: \"Tình trạng phòng\",\r\n        path: \"/quan-ly/phong/tinh-trang\",\r\n        icon: <FaIcons.FaList />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      {\r\n        title: \"Phiếu thuê\",\r\n        path: \"/quan-ly/phong/dat-phong\",\r\n        icon: <BiIcons.BiNotepad />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      {\r\n        title: \"Phiếu xác nhận\",\r\n        path: \"/quan-ly/phong/phieu-xac-nhan\",\r\n        icon: <BiIcons.BiNotepad />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      {\r\n        title: \"Đặt phòng online\",\r\n        path: \"/quan-ly/phong/dat-phong-online\",\r\n        icon: <FaIcons.FaFirstOrder />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      {\r\n        title: \"Hóa đơn\",\r\n        path: \"/quan-ly/phong/hoa-don\",\r\n        icon: <FaIcons.FaMoneyBill />,\r\n        cName: \"sub-nav\",\r\n      },\r\n    ],\r\n  },\r\n\r\n  // Danh mục\r\n  {\r\n    title: \"Danh mục\",\r\n    icon: <FaIcons.FaListUl />,\r\n    role: [\"Admin\", \"QL\"],\r\n    iconClosed: <RiIcons.RiArrowDownSFill />,\r\n    iconOpened: <RiIcons.RiArrowUpSFill />,\r\n\r\n    subNav: [\r\n      {\r\n        title: \"Nhà cung cấp\",\r\n        path: \"/quan-ly/danh-muc/nha-cung-cap\",\r\n        icon: <DiIcons.DiOpensource />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      {\r\n        title: \"Nhân viên\",\r\n        path: \"/quan-ly/danh-muc/nhan-vien\",\r\n        icon: <MdIcons.MdPeople />,\r\n        cName: \"sub-nav\",\r\n      },\r\n\r\n      {\r\n        title: \"Dịch vụ\",\r\n        path: \"/quan-ly/danh-muc/dich-vu\",\r\n        icon: <MdIcons.MdRoomService />,\r\n        cName: \"sub-nav\",\r\n      },\r\n\r\n      {\r\n        title: \"Phòng\",\r\n        path: \"/quan-ly/danh-muc/phong\",\r\n        icon: <FiIcons.FiHome />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      //   {\r\n      //     title: \"Loại\",\r\n      //     path: \"/quan-ly/danh-muc/loai\",\r\n      //     icon: <FaIcons.FaListUl />,\r\n      //     cName: \"sub-nav\",\r\n      //   },\r\n    ],\r\n  },\r\n\r\n  //QL khách hàng\r\n  {\r\n    title: \"Khách hàng\",\r\n    path: \"/quan-ly/khach-hang\",\r\n    icon: <FaIcons.FaPeopleCarry />,\r\n    role: [\"Admin\", \"QL\", \"NVLT\"],\r\n  },\r\n\r\n  // QL Tài sản\r\n  {\r\n    title: \"QL Tài sản\",\r\n    icon: <MdIcons.MdWebAsset />,\r\n    iconClosed: <RiIcons.RiArrowDownSFill />,\r\n    iconOpened: <RiIcons.RiArrowUpSFill />,\r\n    role: [\"Admin\", \"NVK\", \"QL\"],\r\n    subNav: [\r\n      {\r\n        title: \"Tài sản\",\r\n        path: \"/quan-ly/ql-tai-san/thong-tin\",\r\n        icon: <ImIcons.ImInfo />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      {\r\n        title: \"Bảo dưỡng\",\r\n        path: \"/quan-ly/ql-tai-san/bao-duong\",\r\n        icon: <GiIcons.GiAutoRepair />,\r\n        cName: \"sub-nav\",\r\n      },\r\n    ],\r\n  },\r\n\r\n  // QL Hàng hóa\r\n  {\r\n    title: \"QL Hàng hóa\",\r\n    role: [\"Admin\", \"NVK\", \"QL\"],\r\n    icon: <RiIcons.RiRedPacketLine />,\r\n    iconClosed: <RiIcons.RiArrowDownSFill />,\r\n    iconOpened: <RiIcons.RiArrowUpSFill />,\r\n\r\n    subNav: [\r\n      {\r\n        title: \"Phiếu mua\",\r\n        path: \"/quan-ly/ql-hang-hoa/phieu-mua\",\r\n        icon: <ImIcons.ImCart />,\r\n        cName: \"sub-nav\",\r\n      },\r\n    ],\r\n  },\r\n\r\n  //QL nhân viên\r\n  {\r\n    title: \"Nhân viên\",\r\n    icon: <FaIcons.FaPeopleCarry />,\r\n    role: [\"NVLT\", \"NVDP\", \"NVK\"],\r\n    iconClosed: <RiIcons.RiArrowDownSFill />,\r\n    iconOpened: <RiIcons.RiArrowUpSFill />,\r\n\r\n    subNav: [\r\n      {\r\n        title: \"Profile\",\r\n        path: \"/quan-ly/nhan-vien/thong-tin\",\r\n        icon: <ImIcons.ImInfo />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      {\r\n        title: \"Xin nghỉ\",\r\n        path: \"/quan-ly/nhan-vien/xin-nghi\",\r\n        icon: <BiIcons.BiPowerOff />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      {\r\n        title: \"Bảng lương\",\r\n        path: \"/quan-ly/nhan-vien/bang-luong\",\r\n        icon: <FaIcons.FaMoneyBillAlt />,\r\n        cName: \"sub-nav\",\r\n      },\r\n    ],\r\n  },\r\n\r\n  //NV Quản lý\r\n  {\r\n    title: \"Quản lý\",\r\n    icon: <MdIcons.MdPeople />,\r\n    role: [\"Admin\", \"QL\"],\r\n    iconClosed: <RiIcons.RiArrowDownSFill />,\r\n    iconOpened: <RiIcons.RiArrowUpSFill />,\r\n\r\n    subNav: [\r\n      {\r\n        title: \"Duyệt đơn\",\r\n        path: \"/quan-ly/nv-quan-ly/duyet-don\",\r\n        icon: <GiIcons.GiConfirmed />,\r\n        cName: \"sub-nav\",\r\n      },\r\n      {\r\n        title: \"Chấm công NV\",\r\n        path: \"/quan-ly/nv-quan-ly/cham-cong-nv\",\r\n        icon: <HiIcons.HiOutlineDocumentReport />,\r\n        cName: \"sub-nav\",\r\n      },\r\n    ],\r\n  },\r\n\r\n  //Quản lý lương\r\n  {\r\n    title: \"Quản lý lương\",\r\n    path: \"\",\r\n    icon: <MdIcons.MdPeople />,\r\n    role: [\"Admin\", \"QL\"],\r\n  },\r\n  // Thu chi\r\n  //   {\r\n  //     title: \"Thu chi\",\r\n  //     icon: <BiIcons.BiNotepad />,\r\n  //     role: [\"Admin\", \"QL\"],\r\n  //     iconClosed: <RiIcons.RiArrowDownSFill />,\r\n  //     iconOpened: <RiIcons.RiArrowUpSFill />,\r\n\r\n  //     subNav: [\r\n  //       {\r\n  //         title: \"Phiếu thu\",\r\n  //         path: \"/quan-ly/thu-chi/phieu-thu\",\r\n  //         icon: <VscIcons.VscOutput />,\r\n  //         cName: \"sub-nav\",\r\n  //       },\r\n  //       {\r\n  //         title: \"Phiếu chi\",\r\n  //         path: \"/quan-ly/thu-chi/phieu-chi\",\r\n  //         icon: <VscIcons.VscOutput />,\r\n  //         cName: \"sub-nav\",\r\n  //       },\r\n  //     ],\r\n  //   },\r\n];\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SidebarLink = styled.div`\r\n  display: flex;\r\n  color: #e1e9fc;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20px;\r\n  list-style: none;\r\n  height: 60px;\r\n  text-decoration: none;\r\n  font-size: 18px;\r\n\r\n  &:hover {\r\n    background: #252831;\r\n    color: white;\r\n    text-decoration: none;\r\n    border-left: 4px solid #632ce4;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst SidebarLabel = styled.span`\r\n  margin-left: 16px;\r\n`;\r\n\r\nconst DropdownLink = styled(Link)`\r\n  background: #414757;\r\n  height: 3rem;\r\n  padding-left: 3rem;\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  color: #f5f5f5;\r\n  font-size: 18px;\r\n\r\n  &:hover {\r\n    background: #632ce4;\r\n    cursor: pointer;\r\n    color: white;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst SubMenu = ({ item, sidebar, status }) => {\r\n  const [subnav, setSubnav] = useState(false);\r\n  const showSubnav = () => setSubnav(!subnav);\r\n  let hi = useHistory();\r\n  return (\r\n    <>\r\n      <SidebarLink\r\n        // onClick={(e) => {\r\n        //   hi.push(item.path);\r\n        // }}\r\n        onClick={(e) => {\r\n          if (item.subNav) {\r\n            showSubnav();\r\n          } else {\r\n            hi.push(item.path);\r\n            if (status) {\r\n              sidebar();\r\n            }\r\n          }\r\n        }}\r\n      >\r\n        <div>\r\n          {item.icon}\r\n          <SidebarLabel>{item.title}</SidebarLabel>\r\n        </div>\r\n        <div>\r\n          {item.subNav && subnav\r\n            ? item.iconOpened\r\n            : item.subNav\r\n            ? item.iconClosed\r\n            : null}\r\n        </div>\r\n      </SidebarLink>\r\n      {subnav &&\r\n        item.subNav.map((item, index) => {\r\n          return (\r\n            <DropdownLink\r\n              to={item.path} // to la link đến\r\n              key={index}\r\n              onClick={() => {\r\n                if (status) {\r\n                  sidebar();\r\n                }\r\n              }}\r\n            >\r\n              {item.icon}\r\n              <SidebarLabel>{item.title}</SidebarLabel>\r\n            </DropdownLink>\r\n          );\r\n        })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubMenu;\r\n","import React, { useState, createContext } from \"react\";\r\n\r\nexport const AccountContext = createContext();\r\nexport const AccountContextProvider = (props) => {\r\n  //dang nhap\r\n  const [signedIn, setSignedIn] = useState(\r\n    window.localStorage.getItem(\"dangnhap\") === null\r\n      ? \"false\"\r\n      : window.localStorage.getItem(\"dangnhap\")\r\n  );\r\n\r\n  const [tenDangNhap, setTenDangNhap] = useState(\r\n    window.localStorage.getItem(\"user_name\")\r\n  );\r\n\r\n  const [userDisplayName, setUserDisplayName] = useState(\r\n    window.localStorage.getItem(\"user_displayname\")\r\n  );\r\n\r\n  const [userRole, setUserRole] = useState(\r\n    false || window.localStorage.getItem(\"user_role\")\r\n  );\r\n\r\n  const [userAvatar, setUserAvartar] = useState(\r\n    window.localStorage.getItem(\"user_avt\")\r\n  );\r\n\r\n  const [userId, setUserId] = useState(window.localStorage.getItem(\"user_id\"));\r\n\r\n  // nguoi dung\r\n  const [nguoiDungList, setNguoiDungList] = useState([]);\r\n  const themNguoiDung = (nguoidung) => {\r\n    setNguoiDungList([...nguoiDungList, nguoidung]);\r\n  };\r\n\r\n  const [msgUserActionSuccess, setMsgUserActionSuccess] = useState(\"\");\r\n\r\n  // nhan vien\r\n\r\n  const [dsNhanVien, setDsNhanVien] = useState([]);\r\n  const themNhanVien = (nhanvien) => {\r\n    setDsNhanVien([...dsNhanVien, nhanvien]);\r\n  };\r\n\r\n  const [msgNhanVienActionSuccess, setMsgNhanVienActionSuccess] = useState(\"\");\r\n\r\n  //// nhan vien\r\n\r\n  const [dsPhong, setDsPhong] = useState([]);\r\n  const themPhong = (phong) => {\r\n    setDsPhong([...dsPhong, phong]);\r\n  };\r\n\r\n  const [msgPhongActionSuccess, setMsgPhongActionSuccess] = useState(\"\");\r\n\r\n  // dich vu\r\n  const [dsDichVu, setDsDichVu] = useState([]);\r\n  const themDichVu = (dichvu) => {\r\n    setDsDichVu([...dsDichVu, dichvu]);\r\n  };\r\n\r\n  const [msgDichVuActionSuccess, setMsgDichVuActionSuccess] = useState(\"\");\r\n\r\n  // tai san\r\n  const [dsTaiSan, setDsTaiSan] = useState([]);\r\n  const themTaiSan = (taisan) => {\r\n    setDsTaiSan([...dsTaiSan, taisan]);\r\n  };\r\n  const [vitritk, setViTriTk] = useState(\"\");\r\n\r\n  const [msgTaiSanActionSuccess, setMsgTaiSanActionSuccess] = useState(\"\");\r\n\r\n  // bao duong\r\n  const [dsBaoDuong, setDsBaoDuong] = useState([]);\r\n  const themBaoDuong = (baoduong) => {\r\n    setDsBaoDuong([...dsBaoDuong, baoduong]);\r\n  };\r\n  const [dsBaoDuongChiTiet, setDsBaoDuongChiTiet] = useState([]);\r\n  const themBaoDuongChiTiet = (baoduongchitiet) => {\r\n    setDsBaoDuongChiTiet([...dsBaoDuongChiTiet, baoduongchitiet]);\r\n  };\r\n  const [msgErrorBDCT, setMsgErrorBDCT] = useState(\"\");\r\n  const [msgBaoDuongActionSuccess, setMsgBaoDuongActionSuccess] = useState(\"\");\r\n\r\n  //phieu mua\r\n  const [dsPhieuMua, setDsPhieuMua] = useState([]);\r\n  const themPhieuMua = (phieumua) => {\r\n    setDsPhieuMua([...dsPhieuMua, phieumua]);\r\n  };\r\n  const [dsPhieuMuaChiTiet, setDsPhieuMuaChiTiet] = useState([]);\r\n  const themPhieuMuaChiTiet = (phieumuaChiTiet) => {\r\n    setDsPhieuMuaChiTiet([...dsPhieuMuaChiTiet, phieumuaChiTiet]);\r\n  };\r\n  const [msgErrorPMCT, setMsgErrorPMCT] = useState(\"\");\r\n  const [msgPhieuMuaActionSuccess, setMsgPhieuMuaActionSuccess] = useState(\"\");\r\n\r\n  // nha cung cap\r\n  const [dsNcc, setDsNcc] = useState([]);\r\n  const themNcc = (ncc) => {\r\n    setDsNcc([...dsNcc, ncc]);\r\n  };\r\n\r\n  const [msgNccActionSuccess, setMsgNccActionSuccess] = useState(\"\");\r\n\r\n  // nhan vien xin nghi\r\n\r\n  const [dsDon, setDsDon] = useState([]);\r\n  const themDon = (don) => {\r\n    setDsDon([...dsDon, don]);\r\n  };\r\n\r\n  const [msgDonActionSuccess, setMsgDonActionSuccess] = useState(\"\");\r\n\r\n  // datphong\r\n  const [khID, setKHID] = useState(\"\");\r\n  const [msgDatPhongActionSuccess, setMsgDatPhongActionSuccess] = useState(\"\");\r\n  const [dsDatPhong, setDsDatPhong] = useState([]);\r\n\r\n  //datphong chitiet\r\n  const [dsDvSuDung, setDsDvSuDung] = useState([]);\r\n  const themDvSd = (dv) => {\r\n    setDsDvSuDung([...dsDvSuDung, dv]);\r\n  };\r\n\r\n  //hoa don\r\n  const [dsHoaDon, setDsHoaDon] = useState([]);\r\n  const themHoaDon = (hoadon) => {\r\n    setDsHoaDon([...dsHoaDon, hoadon]);\r\n  };\r\n\r\n  //phieu xac nhan\r\n  const [controllerPhieuXacNhan, setControllerPhieuXacNhan] = useState(\"dp\");\r\n\r\n  //khachhang\r\n  const [msgKHActionSuccess, setMsgKHActionSuccess] = useState(\"\");\r\n  const [msgKHActionError, setMsgKHActionError] = useState(\"\");\r\n\r\n  //PHIEU CHI\r\n  const [msgPhieuChiActionSuccess, setMsgPhieuChiActionSuccess] = useState(\"\");\r\n\r\n  //lich su\r\n  const [dsLichSu, setDsLichSu] = useState([]);\r\n\r\n  // dp online\r\n  const [dsDpOnline, setDsDpOnline] = useState([]);\r\n  return (\r\n    <AccountContext.Provider\r\n      value={{\r\n        //đang nhập\r\n        signedIn,\r\n        setSignedIn,\r\n        tenDangNhap,\r\n        setTenDangNhap,\r\n        userDisplayName,\r\n        setUserDisplayName,\r\n        userRole,\r\n        setUserRole,\r\n        userId,\r\n        setUserId,\r\n        userAvatar,\r\n        setUserAvartar,\r\n\r\n        //ql nguoi dung\r\n        nguoiDungList,\r\n        setNguoiDungList,\r\n        themNguoiDung,\r\n        msgUserActionSuccess,\r\n        setMsgUserActionSuccess,\r\n\r\n        //quan ly nhan vien\r\n        dsNhanVien,\r\n        themNhanVien,\r\n        setDsNhanVien,\r\n        msgNhanVienActionSuccess,\r\n        setMsgNhanVienActionSuccess,\r\n\r\n        // quan ly thong tin phong,\r\n        dsPhong,\r\n        themPhong,\r\n        setDsPhong,\r\n        msgPhongActionSuccess,\r\n        setMsgPhongActionSuccess,\r\n\r\n        //quan ly dich vu\r\n        dsDichVu,\r\n        setDsDichVu,\r\n        themDichVu,\r\n        msgDichVuActionSuccess,\r\n        setMsgDichVuActionSuccess,\r\n\r\n        //quan ly tai san\r\n        dsTaiSan,\r\n        themTaiSan,\r\n        setDsTaiSan,\r\n        msgTaiSanActionSuccess,\r\n        setMsgTaiSanActionSuccess,\r\n        vitritk,\r\n        setViTriTk,\r\n\r\n        // tai san bao duong\r\n        msgBaoDuongActionSuccess,\r\n        setMsgBaoDuongActionSuccess,\r\n        dsBaoDuong,\r\n        setDsBaoDuong,\r\n        themBaoDuong,\r\n        dsBaoDuongChiTiet,\r\n        setDsBaoDuongChiTiet,\r\n        themBaoDuongChiTiet,\r\n        msgErrorBDCT,\r\n        setMsgErrorBDCT,\r\n\r\n        // nha cung cap\r\n        msgNccActionSuccess,\r\n        setMsgNccActionSuccess,\r\n        dsNcc,\r\n        setDsNcc,\r\n        themNcc,\r\n\r\n        // nhan vien xin nghi\r\n        msgDonActionSuccess,\r\n        setMsgDonActionSuccess,\r\n        dsDon,\r\n        setDsDon,\r\n        themDon,\r\n\r\n        // phieu mua\r\n        dsPhieuMua,\r\n        setDsPhieuMua,\r\n        themPhieuMua,\r\n        dsPhieuMuaChiTiet,\r\n        setDsPhieuMuaChiTiet,\r\n        themPhieuMuaChiTiet,\r\n        msgPhieuMuaActionSuccess,\r\n        setMsgPhieuMuaActionSuccess,\r\n        msgErrorPMCT,\r\n        setMsgErrorPMCT,\r\n\r\n        //dâtphong\r\n        khID,\r\n        setKHID,\r\n        msgDatPhongActionSuccess,\r\n        setMsgDatPhongActionSuccess,\r\n        dsDatPhong,\r\n        setDsDatPhong,\r\n\r\n        //datphong chi tiet\r\n        dsDvSuDung,\r\n        setDsDvSuDung,\r\n        themDvSd,\r\n\r\n        //hoa don\r\n        dsHoaDon,\r\n        setDsHoaDon,\r\n        themHoaDon,\r\n\r\n        //phieu xac nhan\r\n        controllerPhieuXacNhan,\r\n        setControllerPhieuXacNhan,\r\n        //khachhang\r\n        msgKHActionSuccess,\r\n        setMsgKHActionSuccess,\r\n        msgKHActionError,\r\n        setMsgKHActionError,\r\n\r\n        //lich su\r\n        dsLichSu,\r\n        setDsLichSu,\r\n\r\n        //\r\n        msgPhieuChiActionSuccess,\r\n        setMsgPhieuChiActionSuccess,\r\n\r\n        // dp online\r\n        dsDpOnline,\r\n        setDsDpOnline,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </AccountContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport * as FaIcons from \"react-icons/fa\";\r\nimport * as AiIcons from \"react-icons/ai\";\r\nimport { SidebarData } from \"./SidebarData\";\r\nimport SubMenu from \"./SubMenu\";\r\nimport { IconContext } from \"react-icons/lib\";\r\nimport { AccountContext } from \"../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../utils/ThemLichSu\";\r\n\r\nconst SidebarContainer = styled.div`\r\n  position: fixed;\r\n  width: 100%;\r\n  z-index: 30;\r\n`;\r\n\r\nconst Nav = styled.div`\r\n  background: #15171c;\r\n  height: 4rem;\r\n  display: flex;\r\n  justify-content: start;\r\n  align-items: center;\r\n`;\r\n\r\nconst NavIcon = styled(Link)`\r\n  margin-left: 2rem;\r\n  font-size: 2rem;\r\n  height: 4rem;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n`;\r\n\r\nconst SidebarNav = styled.nav`\r\n  background: #15171c;\r\n  width: 250px;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  position: fixed;\r\n  top: 0;\r\n  left: ${({ sidebar }) => (sidebar ? \"0\" : \"-100%\")};\r\n  transition: 350ms;\r\n  z-index: 10;\r\n  overflow-y: auto;\r\n\r\n  &::-webkit-scrollbar-track {\r\n    -webkit-box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.3);\r\n    background-color: #f5f5f5;\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n    background-color: #f5f5f5;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: #000000;\r\n    border: 1px solid #555555;\r\n  }\r\n`;\r\n\r\nconst SidebarWrap = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-size: 1.6rem;\r\n  font-weight: 600;\r\n  color: white;\r\n  cursor: pointer;\r\n  margin-left: 1rem;\r\n`;\r\n\r\nconst InfoContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 4rem;\r\n  line-height: 4rem;\r\n  width: 100%;\r\n`;\r\n\r\nconst Account = styled.div`\r\n  color: white;\r\n  cursor: pointer;\r\n  line-height: 4rem;\r\n  margin-right: 2rem;\r\n`;\r\n\r\nconst Avatar = styled.img`\r\n  width: 2rem;\r\n  height: 2rem;\r\n  border-radius: 1rem;\r\n  margin-right: 0.4rem;\r\n`;\r\n\r\nconst Logout = styled.span`\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst UserDisplayName = styled.span`\r\n  font-weight: 600;\r\n`;\r\n\r\nconst Sidebar = () => {\r\n  let history = useHistory();\r\n  const [sidebar, setSidebar] = useState(false);\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n  const showSidebar = () => setSidebar(!sidebar);\r\n\r\n  const { userDisplayName, userAvatar } = useContext(AccountContext);\r\n\r\n  const handleGoHome = () => {\r\n    history.push(\"/\");\r\n    if (sidebar) showSidebar();\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    ThemLichSu({\r\n      doing: \"Đăng xuất\",\r\n      olddata: {},\r\n      newdata: {},\r\n      tbl: \"Người dùng\",\r\n    });\r\n    window.localStorage.setItem(\"dangnhap\", false);\r\n    history.push(\"/\");\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <SidebarContainer>\r\n      <IconContext.Provider value={{ color: \"#fff\" }}>\r\n        <Nav>\r\n          <NavIcon to=\"#\">\r\n            <FaIcons.FaBars\r\n              onClick={() => {\r\n                showSidebar();\r\n              }}\r\n            />\r\n          </NavIcon>\r\n          <InfoContainer>\r\n            <Title onClick={handleGoHome}>QUẢN LÝ KHÁCH SẠN</Title>\r\n            <Account>\r\n              <Avatar\r\n                onClick={() => {\r\n                  if (userrole !== \"Admin\" && userrole !== \"QL\") {\r\n                    history.push(\"/quan-ly/nhan-vien/thong-tin\");\r\n                  }\r\n                }}\r\n                src={userAvatar}\r\n                alt=\"avatar\"\r\n              />\r\n              <UserDisplayName\r\n                onClick={() => {\r\n                  if (userrole !== \"Admin\" && userrole !== \"QL\") {\r\n                    history.push(\"/quan-ly/nhan-vien/thong-tin\");\r\n                  }\r\n                }}\r\n              >\r\n                {userDisplayName}\r\n              </UserDisplayName>\r\n              &nbsp;\r\n              <Logout onClick={handleLogout}>(Đăng xuất)</Logout>\r\n            </Account>\r\n          </InfoContainer>\r\n        </Nav>\r\n\r\n        <SidebarNav sidebar={sidebar}>\r\n          <SidebarWrap>\r\n            <NavIcon to=\"#\">\r\n              <AiIcons.AiOutlineClose onClick={showSidebar} />\r\n            </NavIcon>\r\n            {SidebarData.map((item, index) => {\r\n              return item.role.includes(userrole) ? (\r\n                <div\r\n                  onClick={() =>\r\n                    item.title === \"Quản lý lương\"\r\n                      ? (window.location.href =\r\n                          \"http://103.127.207.24:81/quanlyluongnhanvien/\")\r\n                      : \"\"\r\n                  }\r\n                >\r\n                  <SubMenu\r\n                    sidebar={showSidebar}\r\n                    status={sidebar}\r\n                    item={item}\r\n                    key={index}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div key={index}></div>\r\n              );\r\n            })}\r\n          </SidebarWrap>\r\n        </SidebarNav>\r\n      </IconContext.Provider>\r\n    </SidebarContainer>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/tai-khoan\",\r\n});\r\n","import React, { useContext } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport TaiKhoanFinder from \"../../../apis/TaiKhoanFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst ResetPassword = ({ ten }) => {\r\n  let hi = useHistory();\r\n  const { setMsgUserActionSuccess } = useContext(AccountContext);\r\n  const resetPassword = async () => {\r\n    try {\r\n      const res = await TaiKhoanFinder.put(\"/cai-dat-lai-mat-khau\", {\r\n        ten: ten,\r\n      });\r\n\r\n      setMsgUserActionSuccess(\"Đặt lại mật khẩu thành công\");\r\n      setTimeout(() => {\r\n        setMsgUserActionSuccess(\"\");\r\n      }, 2000);\r\n\r\n      ThemLichSu({\r\n        doing: \"Reset mật khẩu\",\r\n        olddata: { taikhoan: ten },\r\n        newdata: { taikhoan: ten },\r\n        tbl: \"Người dùng\",\r\n      });\r\n\r\n      hi.push(\"/quan-ly\");\r\n      hi.push(\"/quan-ly/admin/tai-khoan\");\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-undo-alt text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${ten}resetpw`}\r\n      >\r\n        &nbsp; Reset\r\n      </i>\r\n\r\n      <div className=\"modal mb-5\" id={`id${ten}resetpw`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn muốn cài đặt lại mật khẩu cho{\" \"}\r\n                <span className=\"font-weight-bold\">\"{ten}\"</span> không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2\"\r\n                data-dismiss=\"modal\"\r\n                onClick={resetPassword}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React, { useContext, useState } from \"react\";\r\nimport TaiKhoanFinder from \"../../../apis/TaiKhoanFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst SuaThongTinNguoiDung = ({ nguoidung }) => {\r\n  let hi = useHistory();\r\n  const old = {\r\n    ten: nguoidung.ten,\r\n    ten_hienthi: nguoidung.ten_hienthi,\r\n    vaitro: nguoidung.vaitro,\r\n  };\r\n  const [tenHT, setTenHT] = useState(nguoidung.ten_hienthi);\r\n  const [vaitro, setVaiTro] = useState(nguoidung.vaitro);\r\n\r\n  const { setMsgUserActionSuccess } = useContext(AccountContext);\r\n  const handleUpdate = async (e) => {\r\n    try {\r\n      const res = await TaiKhoanFinder.put(\"/cap-nhat-thong-tin-nguoi-dung\", {\r\n        ten: nguoidung.ten,\r\n        tenht: tenHT,\r\n        vaitro: vaitro,\r\n      });\r\n      if (res.data.status) {\r\n        const newd = {\r\n          ten: nguoidung.ten,\r\n          ten_hienthi: tenHT,\r\n          vaitro: vaitro,\r\n        };\r\n        if (JSON.stringify(newd) !== JSON.stringify(old)) {\r\n          ThemLichSu({\r\n            doing: \"Sửa\",\r\n            olddata: { old },\r\n            newdata: {\r\n              new: newd,\r\n            },\r\n            tbl: \"Người dùng\",\r\n          });\r\n        }\r\n\r\n        setMsgUserActionSuccess(res.data.status);\r\n        setTimeout(() => {\r\n          setMsgUserActionSuccess(\"\");\r\n        }, 1800);\r\n        hi.push(\"/quan-ly\");\r\n        hi.push(\"/quan-ly/admin/tai-khoan\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const getData = () => {\r\n    setTenHT(nguoidung.ten_hienthi);\r\n    setVaiTro(nguoidung.vaitro);\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-pencil-alt text-info\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${nguoidung.ten}`}\r\n        onClick={getData}\r\n      >\r\n        &nbsp;Sửa\r\n      </i>\r\n      <div className=\"modal \" id={`id${nguoidung.ten}`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Sửa thông tin người dùng</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body text-left\">\r\n              <div className=\"form-group mx-4\">\r\n                <label htmlFor={`ten_hienthi_${nguoidung.ten}`}>\r\n                  Tên hiển thị\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id={`ten_hienthi_${nguoidung.ten}`}\r\n                  className=\"form-control\"\r\n                  onChange={(e) => setTenHT(e.target.value)}\r\n                  value={tenHT}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group mx-4\">\r\n                <label htmlFor={`vaitro_${nguoidung.ten}`}>Vai trò</label>\r\n                <select\r\n                  className=\"form-control\"\r\n                  id={`vaitro_${nguoidung.ten}`}\r\n                  onChange={(e) => setVaiTro(e.target.value)}\r\n                  value={vaitro}\r\n                >\r\n                  <option value=\"NVLT\">Nhân viên lễ tân</option>\r\n                  <option value=\"QL\">Nhân viên quản lý</option>\r\n                  <option value=\"NVK\">Nhân viên thu chi</option>\r\n                  <option value=\"NVDP\">Nhân viên dọn phòng</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"modal-footer  justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-info font-weight-bold mr-2\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleUpdate(e)}\r\n              >\r\n                Sửa\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaThongTinNguoiDung;\r\n","import React, { useState } from \"react\";\r\nimport TaiKhoanFinder from \"../../../apis/TaiKhoanFinder\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst ThayDoiTrangThaiTaiKhoan = ({ trangthai, ten }) => {\r\n  const [trangThai, setTrangThai] = useState(trangthai);\r\n  const renderTrangThai = (tt) => {\r\n    if (tt) {\r\n      return <i className=\"fas fa-dot-circle text-success\"></i>;\r\n    } else {\r\n      return <i className=\"fas fa-dot-circle\"></i>;\r\n    }\r\n  };\r\n\r\n  const handleChangeStatus = async (e, username) => {\r\n    e.stopPropagation();\r\n    try {\r\n      await TaiKhoanFinder.put(\"/thay-doi-trang-thai-nguoi-dung\", {\r\n        ten: username,\r\n        trangthai: !trangThai,\r\n      });\r\n      //   console.log(trangThai);\r\n      if (trangThai) {\r\n        ThemLichSu({\r\n          doing: \"Thay đổi trạng thái\",\r\n          olddata: {\r\n            old: {\r\n              ten: username,\r\n              trangthai: \"Bật\",\r\n            },\r\n          },\r\n          newdata: {\r\n            new: {\r\n              ten: username,\r\n              trangthai: \"Tắt\",\r\n            },\r\n          },\r\n          tbl: \"Người dùng\",\r\n        });\r\n      } else {\r\n        ThemLichSu({\r\n          doing: \"Thay đổi trạng thái\",\r\n          olddata: {\r\n            old: {\r\n              ten: username,\r\n              trangthai: \"Tắt\",\r\n            },\r\n          },\r\n          newdata: {\r\n            new: {\r\n              ten: username,\r\n              trangthai: \"Bật\",\r\n            },\r\n          },\r\n          tbl: \"Người dùng\",\r\n        });\r\n      }\r\n      setTrangThai(!trangThai);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div\r\n        onClick={(e) => {\r\n          handleChangeStatus(e, ten);\r\n        }}\r\n      >\r\n        {renderTrangThai(trangThai)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThayDoiTrangThaiTaiKhoan;\r\n","import React, { useContext, useState } from \"react\";\r\nimport TaiKhoanFinder from \"../../../apis/TaiKhoanFinder\";\r\n\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\n\r\nconst TimKiemNguoiDung = () => {\r\n  const { setNguoiDungList } = useContext(AccountContext);\r\n  const [kitu, setKitu] = useState(\"\");\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={kitu}\r\n          onChange={async (e) => {\r\n            setKitu(e.target.value);\r\n\r\n            const res = await TaiKhoanFinder.get(\r\n              `/tim-kiem-nguoi-dung/%25${e.target.value}%25`\r\n            );\r\n            setNguoiDungList(res.data.data.nguoidung);\r\n          }}\r\n          placeholder=\"Tìm kiếm theo tên tài khoản và tên hiển thị ...\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimKiemNguoiDung;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport TaiKhoanFinder from \"../../../apis/TaiKhoanFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ResetPassword from \"./ResetPassword\";\r\nimport SuaThongTinNguoiDung from \"./SuaThongTinNguoiDung\";\r\nimport ThayDoiTrangThaiTaiKhoan from \"./ThayDoiTrangThaiTaiKhoan\";\r\nimport TimKiemNguoiDung from \"./TimKiemNguoiDung\";\r\n// import XoaNguoiDung from \"./XoaNguoiDung\";\r\n\r\nconst DanhSachTaiKhoan = () => {\r\n  const { nguoiDungList, setNguoiDungList, msgUserActionSuccess } =\r\n    useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await TaiKhoanFinder.get(\"/danh-sach-nguoi-dung\");\r\n        setNguoiDungList(res.data.data.nguoidung);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setNguoiDungList]);\r\n\r\n  const customStyleLine = (vt) => {\r\n    let result;\r\n    switch (vt + \"\") {\r\n      case \"NVLT\":\r\n        result = {\r\n          background: \"#c6f5d3\",\r\n          borderBottom: \"2px solid #515151 \",\r\n        };\r\n        break;\r\n      case \"QL\":\r\n        result = {\r\n          background: \"#f2f2ac\",\r\n          borderBottom: \"2px solid #515151 \",\r\n        };\r\n        break;\r\n      case \"NVK\":\r\n        result = {\r\n          background: \"#f0c0a8\",\r\n          borderBottom: \"2px solid #515151 \",\r\n        };\r\n        break;\r\n      case \"KH\":\r\n        result = {\r\n          background: \"#c0fab1\",\r\n          borderBottom: \"2px solid #515151 \",\r\n        };\r\n        break;\r\n      case \"NVDP\":\r\n        result = {\r\n          background: \"#ffe3f0\",\r\n          borderBottom: \"2px solid #515151 \",\r\n        };\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n  return (\r\n    <div className=\"list-group\">\r\n      <TimKiemNguoiDung />\r\n      <p className=\"text-center text-success\">\r\n        <u>{msgUserActionSuccess}</u>\r\n      </p>\r\n\r\n      <table\r\n        className=\"table table-hover \"\r\n        style={{ border: \"2.4px solid black\", color: \"black\" }}\r\n      >\r\n        <thead className=\"thead-dark text-center\">\r\n          <tr>\r\n            <th style={{ borderRight: \"0.5px solid white\" }}>Tên người dùng</th>\r\n            <th style={{ borderRight: \"0.5px solid white\" }}>Tên hiển thị</th>\r\n            <th style={{ borderRight: \"0.5px solid white\" }}>Trạng thái</th>\r\n            <th style={{ borderRight: \"0.5px solid white\" }}>Vai trò</th>\r\n            <th style={{ borderRight: \"0.5px solid white\" }}>Sửa</th>\r\n            {/* <th>Xóa</th> */}\r\n            <th>Reset</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"text-center\">\r\n          {nguoiDungList.map((nguoidung) => {\r\n            return (\r\n              <tr key={nguoidung.ten} style={customStyleLine(nguoidung.vaitro)}>\r\n                <td style={{ borderRight: \"0.5px solid #515151\" }}>\r\n                  {nguoidung.ten}\r\n                </td>\r\n\r\n                <td style={{ borderRight: \"0.5px solid #515151\" }}>\r\n                  {nguoidung.ten_hienthi}\r\n                </td>\r\n                <td style={{ borderRight: \"0.5px solid #515151\" }}>\r\n                  <ThayDoiTrangThaiTaiKhoan\r\n                    ten={nguoidung.ten}\r\n                    trangthai={nguoidung.trangthai}\r\n                  />\r\n                </td>\r\n                <td style={{ borderRight: \"0.5px solid #515151\" }}>\r\n                  {nguoidung.vaitro === \"QL\"\r\n                    ? \"Quản lý\"\r\n                    : nguoidung.vaitro === \"KH\"\r\n                    ? \"Khách hàng\"\r\n                    : nguoidung.vaitro === \"NVLT\"\r\n                    ? \"Nhân viên lễ tân\"\r\n                    : nguoidung.vaitro === \"NVK\"\r\n                    ? \"Nhân viên kho\"\r\n                    : nguoidung.vaitro === \"NVDP\"\r\n                    ? \"Nhân viên dọn phòng\"\r\n                    : \"\"}\r\n                </td>\r\n                <td\r\n                  style={{\r\n                    cursor: \"pointer\",\r\n                    borderRight: \"0.5px solid #515151\",\r\n                  }}\r\n                >\r\n                  {nguoidung.vaitro === \"KH\" ? (\r\n                    \"\"\r\n                  ) : (\r\n                    <SuaThongTinNguoiDung nguoidung={nguoidung} />\r\n                  )}\r\n                </td>\r\n                {/* <td>\r\n                  <XoaNguoiDung ten={nguoidung.ten} tt={nguoidung.trangthai} />\r\n                </td> */}\r\n                <td\r\n                  style={{\r\n                    cursor: \"pointer\",\r\n                    borderRight: \"0.5px solid #515151\",\r\n                  }}\r\n                >\r\n                  <ResetPassword ten={nguoidung.ten} />\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n\r\n          {/* <tr>\r\n            <td>Admin</td>\r\n            <td>van12312u10923103</td>\r\n            <td>Trần Trọng Văn</td>\r\n            <td>\r\n              <i className=\"fas fa-dot-circle text-success\"></i>\r\n            </td>\r\n            <td>KH</td>\r\n            <td>\r\n              <button className=\"btn btn-warning\">Sửa</button>\r\n            </td>\r\n            <td>\r\n              <button className=\"btn btn-danger\">Xóa</button>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr>\r\n            <td>Admin</td>\r\n            <td>van12312u10923103</td>\r\n            <td>Trần Trọng Văn</td>\r\n            <td>\r\n              <i class=\"far fa-dot-circle\"></i>\r\n            </td>\r\n            <td>KH</td>\r\n            <td>\r\n              <button className=\"btn btn-warning\">Sửa</button>\r\n            </td>\r\n            <td>\r\n              <button className=\"btn btn-danger\">Xóa</button>\r\n            </td>\r\n          </tr> */}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachTaiKhoan;\r\n","import React from \"react\";\r\n\r\nimport DanhSachTaiKhoan from \"../../../components/quanly/taikhoan/DanhSachTaiKhoan\";\r\n// import ThemNguoiDung from \"../../../components/quanly/taikhoan/ThemNguoiDung\";\r\n\r\nconst TaiKhoanPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center text-uppercase mb-4\">Quản lý tài khoản</h1>\r\n      {/* <ThemNguoiDung /> */}\r\n      <DanhSachTaiKhoan />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaiKhoanPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/nha-cung-cap\",\r\n});\r\n","import React, { useContext, useState } from \"react\";\r\nimport NhaCungCapFinder from \"../../../apis/NhaCungCapFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst XoaNcc = ({ ncc }) => {\r\n  const { setMsgNccActionSuccess, dsNcc, setDsNcc } =\r\n    useContext(AccountContext);\r\n  const [isDeleteTs, setIsDeleteTs] = useState(false);\r\n  const [isDeletePm, setIsDeletePm] = useState(false);\r\n\r\n  const checkDel = async () => {\r\n    try {\r\n      const res_ts = await NhaCungCapFinder.get(`/trong-tai-san/${ncc.id}`);\r\n      if (res_ts.data.data.nhacungcap.count === \"0\") {\r\n        setIsDeleteTs(true);\r\n      } else {\r\n        setIsDeleteTs(false);\r\n      }\r\n\r\n      const res_pmct = await NhaCungCapFinder.get(\r\n        `/trong-pm-chi-tiet/${ncc.id}`\r\n      );\r\n\r\n      if (res_pmct.data.data.nhacungcap.count === \"0\") {\r\n        setIsDeletePm(true);\r\n      } else {\r\n        setIsDeletePm(false);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    if (isDeleteTs && isDeletePm) {\r\n      try {\r\n        const res = await NhaCungCapFinder.delete(`/xoa/${ncc.id}`);\r\n        //   console.log(res);\r\n        if (res.data === \"\") {\r\n          ThemLichSu({\r\n            doing: \"Xóa\",\r\n            olddata: { old: ncc },\r\n            newdata: {},\r\n            tbl: \"Nhà cung cấp\",\r\n          });\r\n\r\n          setMsgNccActionSuccess(\"Xóa thành công\");\r\n          setTimeout(() => {\r\n            setMsgNccActionSuccess(\"\");\r\n          }, 2000);\r\n          setDsNcc(\r\n            dsNcc.filter((nhacc) => {\r\n              return nhacc.id !== ncc.id;\r\n            })\r\n          );\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    } else {\r\n      alert(\r\n        \"Dữ liệu nhà cung cáp này đang được sử dụng tại tài sản hoặc phiếu mua chi tiết. Không thể xóa.\"\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${ncc.id}xoa`}\r\n        onClick={checkDel}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${ncc.id}xoa`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa{\" \"}\r\n                <span className=\"font-weight-bold\">\"{ncc.ten}\"</span> không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaNcc;\r\n","const NormalizeString = (str) => {\r\n  const words = str.trim().split(/\\s+/);\r\n  const wordres = [];\r\n  words.forEach((word) => {\r\n    const wordre = word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\r\n    wordres.push(wordre);\r\n  });\r\n  const re = wordres.join(\" \");\r\n  return re;\r\n};\r\n\r\nexport default NormalizeString;\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport NhaCungCapFinder from \"../../../apis/NhaCungCapFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nconst SuaNcc = ({ id }) => {\r\n  const [tenncc, setTenNcc] = useState(\"\");\r\n  const [diachi, setDiaChi] = useState(\"\");\r\n  const [sdt, setSdt] = useState(\"\");\r\n  const [old, setOld] = useState({});\r\n  let hi = useHistory();\r\n  const { setMsgNccActionSuccess } = useContext(AccountContext);\r\n\r\n  const handleSelected = async () => {\r\n    try {\r\n      const res = await NhaCungCapFinder.get(`/danh-sach/${id}`);\r\n      if (res.data.status === \"ok\") {\r\n        const nccSelected = res.data.data.nhacungcap;\r\n        setTenNcc(nccSelected.ten);\r\n        setDiaChi(nccSelected.diachi);\r\n        setSdt(nccSelected.sdt);\r\n        setOld({\r\n          id: nccSelected.id,\r\n          ten: nccSelected.ten,\r\n          diachi: nccSelected.diachi,\r\n          sdt: nccSelected.sdt,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  const handleUpdate = async (e) => {\r\n    e.stopPropagation();\r\n\r\n    if (tenncc && diachi && sdt && sdt.length === 10 && sdt.length === 11) {\r\n      try {\r\n        const res = await NhaCungCapFinder.put(\"/sua\", {\r\n          id: id,\r\n          ten: NormalizeString(tenncc),\r\n          diachi: diachi,\r\n          sdt: sdt,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: id,\r\n            ten: NormalizeString(tenncc),\r\n            diachi: NormalizeString(diachi),\r\n            sdt: sdt,\r\n          };\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old },\r\n              newdata: { new: newd },\r\n              tbl: \"Nhà cung cấp\",\r\n            });\r\n          }\r\n          setMsgNccActionSuccess(\"Sửa thành công.\");\r\n          setTimeout(() => {\r\n            setMsgNccActionSuccess(\"\");\r\n          }, 2500);\r\n          hi.push(\"/quan-ly\");\r\n          hi.push(\"/quan-ly/danh-muc/nha-cung-cap\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-info\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}sua`}\r\n        onClick={handleSelected}\r\n      >\r\n        &nbsp;Sửa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}sua`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Sửa thông tin nhà cung cấp</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body text-left\">\r\n              <div className=\"form-group mx-4\">\r\n                <label htmlFor={`tennccsua${id}`} className=\"text-left\">\r\n                  Tên nhà cung cấp\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id={`tennccsua${id}`}\r\n                  className=\"form-control\"\r\n                  value={tenncc}\r\n                  onChange={(e) => setTenNcc(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group mx-4\">\r\n                <label htmlFor={`sdtsua${id}`} className=\"text-left\">\r\n                  Số điện thoại\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id={`sdtsua${id}`}\r\n                  onChange={(e) => setSdt(e.target.value)}\r\n                  value={sdt}\r\n                />\r\n              </div>\r\n              <div className=\"form-group mx-4\">\r\n                <label htmlFor={`diachisua${id}`} className=\"text-left\">\r\n                  Địa chỉ\r\n                </label>\r\n                <textarea\r\n                  className=\"form-control\"\r\n                  id={`diachisua${id}`}\r\n                  rows=\"2\"\r\n                  value={diachi}\r\n                  onChange={(e) => setDiaChi(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-info font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleUpdate(e)}\r\n              >\r\n                Sửa\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaNcc;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport NhaCungCapFinder from \"../../../apis/NhaCungCapFinder\";\r\nimport XoaNcc from \"./XoaNcc\";\r\nimport SuaNcc from \"./SuaNcc\";\r\n\r\nconst DanhSachNcc = () => {\r\n  const { dsNcc, setDsNcc, msgNccActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await NhaCungCapFinder.get(\"/danh-sach-nha-cung-cap\");\r\n        if (res.data.status === \"ok\") {\r\n          setDsNcc(res.data.data.nhacungcap);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsNcc]);\r\n\r\n  return (\r\n    <div>\r\n      {\" \"}\r\n      <div className=\"mt-5 mb-5\">\r\n        <p className=\"text-center text-success\">{msgNccActionSuccess}</p>\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Mã nhà cung cấp</th>\r\n              <th>Tên nhà cung cấp</th>\r\n              <th>Địa chỉ</th>\r\n              <th>Số điện thoại</th>\r\n              <th>Sửa</th>\r\n              <th>Xóa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsNcc.map((ncc) => {\r\n              return (\r\n                <tr key={ncc.id} className=\"text-center\">\r\n                  <td className=\"align-middle\">{ncc.id}</td>\r\n                  <td className=\"align-middle\">{ncc.ten}</td>\r\n                  <td className=\"align-middle\">{ncc.diachi}</td>\r\n                  <td className=\"align-middle\">{ncc.sdt}</td>\r\n\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <SuaNcc id={ncc.id} />\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <XoaNcc ncc={ncc} />\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachNcc;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport NhaCungCapFinder from \"../../../apis/NhaCungCapFinder\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst ThemNcc = () => {\r\n  const [tenncc, setTenNcc] = useState(\"\");\r\n  const [diachi, setDiaChi] = useState(\"\");\r\n  const [sdt, setSdt] = useState(\"\");\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const { themNcc, setMsgNccActionSuccess } = useContext(AccountContext);\r\n  const handleSubmit = async () => {\r\n    if (!tenncc) {\r\n      setMsgError(\"Tên nhà cung cấp không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!sdt) {\r\n      setMsgError(\"Số điện thoại không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (sdt.length < 10 || sdt.length > 11) {\r\n      setMsgError(\"Số điện thoại không hợp lệ.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!diachi) {\r\n      setMsgError(\"Địa chỉ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await NhaCungCapFinder.post(\"/them\", {\r\n          ten: NormalizeString(tenncc),\r\n          diachi: NormalizeString(diachi),\r\n          sdt: sdt,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          ThemLichSu({\r\n            doing: \"Thêm\",\r\n            olddata: {},\r\n            newdata: { new: res.data.data.nhacungcap },\r\n            tbl: \"Nhà cung cấp\",\r\n          });\r\n          themNcc(res.data.data.nhacungcap);\r\n          setMsgNccActionSuccess(\"Thêm thành công.\");\r\n          setTimeout(() => {\r\n            setMsgNccActionSuccess(\"\");\r\n          }, 2500);\r\n          setDiaChi(\"\");\r\n          setSdt(\"\");\r\n          setTenNcc(\"\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-2 \">\r\n        <div id=\"themnhacungcap\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\" id=\"nhacungcapcard\">\r\n              <h5 className=\"mb-0\">\r\n                <div\r\n                  className=\"text-primary collapsed\"\r\n                  data-toggle=\"collapse\"\r\n                  data-target=\"#formthemnhacungcap\"\r\n                  aria-expanded=\"false\"\r\n                  aria-controls=\"formthemnhacungcap\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Thêm nhà cung cấp\r\n                </div>\r\n              </h5>\r\n            </div>\r\n            <div\r\n              id=\"formthemnhacungcap\"\r\n              className=\"collapse\"\r\n              aria-labelledby=\"nhacungcapcard\"\r\n              data-parent=\"#themnhacungcap\"\r\n            >\r\n              <div className=\"card-body px-5\">\r\n                <form action=\"\" encType=\"multipart/form-data\">\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"tenncc\">Tên nhà cung cấp</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          id=\"tenncc\"\r\n                          className=\"form-control\"\r\n                          value={tenncc}\r\n                          onChange={(e) => setTenNcc(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"sdt\">Số điện thoại</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          id=\"sdt\"\r\n                          onChange={(e) => setSdt(e.target.value)}\r\n                          value={sdt}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"diachi\">Địa chỉ</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"diachi\"\r\n                      rows=\"2\"\r\n                      value={diachi}\r\n                      onChange={(e) => setDiaChi(e.target.value)}\r\n                    ></textarea>\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary py-2 px-4\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Thêm\r\n                  </button>\r\n                  <p className=\"text-danger my-2\">{msgError}</p>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemNcc;\r\n","import React from \"react\";\r\nimport DanhSachNcc from \"../../../components/quanly/nhacungcap/DanhSachNcc\";\r\nimport ThemNcc from \"../../../components/quanly/nhacungcap/ThemNcc\";\r\n\r\nconst NhaCungCapPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">QUẢN LÝ NHÀ CUNG CẤP</h1>\r\n      <ThemNcc />\r\n      <DanhSachNcc />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NhaCungCapPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/nhan-vien\",\r\n});\r\n","import React, { useContext, useState } from \"react\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { useHistory } from \"react-router\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst XoaNhanVienType2 = ({ id, tenNV, nv }) => {\r\n  let hi = useHistory();\r\n  const { setMsgNhanVienActionSuccess } = useContext(AccountContext);\r\n  const [isDel, setIsDel] = useState(false);\r\n  const [isHd, setIsHd] = useState(false);\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    if (!isDel) {\r\n      setMsgNhanVienActionSuccess(\r\n        \"Nhân viên này không thể xóa. Vì nó đang nằm ở đâu đó trong hóa đơn và đặt phòng.\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsgNhanVienActionSuccess(\"\");\r\n      }, 4000);\r\n    } else if (!isHd) {\r\n      setMsgNhanVienActionSuccess(\r\n        \"Tài khoản câp cho nhân viên này đang hoạt động. Không thể xóa\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsgNhanVienActionSuccess(\"\");\r\n      }, 4000);\r\n    } else {\r\n      try {\r\n        const res = await NhanVienFinder.delete(`/xoa-nhan-vien/${id}`);\r\n        //   console.log(res);\r\n        if (res.data === \"\") {\r\n          ThemLichSu({\r\n            doing: \"Xóa\",\r\n            olddata: { old: nv },\r\n            newdata: {},\r\n            tbl: \"Nhân viên\",\r\n          });\r\n          setMsgNhanVienActionSuccess(\"Xóa thành công\");\r\n          setTimeout(() => {\r\n            setMsgNhanVienActionSuccess(\"\");\r\n          }, 2000);\r\n          hi.push(\"/quan-ly/danh-muc\");\r\n          hi.push(\"/quan-ly/danh-muc/nhan-vien\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  const handleClick = async () => {\r\n    try {\r\n      const res_hd = await NhanVienFinder.get(`/trong-hoa-don/${id}`);\r\n      //   console.log(res_hd);\r\n      if (res_hd.data.data.nhanvien.count === \"0\") {\r\n        setIsDel(true);\r\n      } else {\r\n        setIsDel(false);\r\n      }\r\n\r\n      const res_dp = await NhanVienFinder.get(`/trong-dat-phong/${tenNV}`);\r\n      //   console.log(res_dp);\r\n      if (res_dp.data.data.nhanvien.count === \"0\") {\r\n        setIsDel(true);\r\n      } else {\r\n        setIsDel(false);\r\n      }\r\n\r\n      const res_hdong = await NhanVienFinder.get(`/kiem-tra-hoat-dong/${id}`);\r\n      //   console.log(res_dp);\r\n      if (res_hdong.data.data.nhanvien.count === \"0\") {\r\n        setIsHd(true);\r\n      } else {\r\n        setIsHd(false);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        onClick={handleClick}\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoa`}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoa`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa{\" \"}\r\n                <span className=\"font-weight-bold\">\"{tenNV}\"</span> không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaNhanVienType2;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport { NormalizeDate } from \"../../../utils/DataHandler\";\r\nimport { useHistory } from \"react-router\";\r\n// import TimKiemNhanVien from \"./TimKiemNhanVien\";\r\nimport XoaNhanVienType2 from \"./XoaNhanVienType2\";\r\n\r\nconst DanhSachNhanVien = () => {\r\n  let hi = useHistory();\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n  const { msgNhanVienActionSuccess } = useContext(AccountContext);\r\n\r\n  const [dsNhanVien, setDsNhanVien] = useState([]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        if (userrole === \"QL\") {\r\n          const res = await NhanVienFinder.get(\"/danh-sach-nhan-vien-thuong\");\r\n          // console.log(typeof res.data.data.nhanvien.account);\r\n          setDsNhanVien(res.data.data.nhanvien);\r\n        } else {\r\n          const res = await NhanVienFinder.get(\"/danh-sach-nhan-vien\");\r\n          // console.log(typeof res.data.data.nhanvien.account);\r\n          setDsNhanVien(res.data.data.nhanvien);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [userrole]);\r\n\r\n  const handleNhanVienSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/danh-muc/nhan-vien/${id}`);\r\n  };\r\n\r\n  const handleUpdate = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/danh-muc/nhan-vien/${id}/sua`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"list-group\">\r\n      <div className=\"mb-2\">{/* <TimKiemNhanVien /> */}</div>\r\n      <p className=\"text-center text-success\">{msgNhanVienActionSuccess}</p>\r\n      <table className=\"table table-hover table-striped table-bordered \">\r\n        <thead className=\"thead-dark text-center\">\r\n          <tr>\r\n            <th>Mã NV</th>\r\n            <th>Tên nhân viên</th>\r\n            <th>Ngày vào làm</th>\r\n            <th>SDT</th>\r\n            <th>Tài khoản</th>\r\n            <th>Chức vụ</th>\r\n            <th>Xem</th>\r\n            <th>Sửa</th>\r\n            <th>Xóa</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"text-center\">\r\n          {dsNhanVien.map((nhanvien) => {\r\n            return (\r\n              <tr key={nhanvien.id}>\r\n                <td>{nhanvien.ma_nhan_vien}</td>\r\n                <td>{nhanvien.name}</td>\r\n                <td>{NormalizeDate(nhanvien.ngayvaolam)}</td>\r\n\r\n                <td>{nhanvien.sdt}</td>\r\n                <td>\r\n                  {nhanvien.account === null ? \"Đã bị xóa\" : nhanvien.account}\r\n                </td>\r\n                <td>\r\n                  {nhanvien.vaitro === \"QL\"\r\n                    ? \"Quản lý\"\r\n                    : nhanvien.vaitro === \"NVLT\"\r\n                    ? \"Nhân viên lễ tân\"\r\n                    : nhanvien.vaitro === \"NVK\"\r\n                    ? \"Nhân viên kho\"\r\n                    : nhanvien.vaitro === \"NVDP\"\r\n                    ? \"Nhân viên dọn phòng\"\r\n                    : \"\"}\r\n                </td>\r\n                <td style={{ cursor: \"pointer\" }}>\r\n                  {nhanvien.account === null ? (\r\n                    \"\"\r\n                  ) : (\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handleNhanVienSelected(e, nhanvien.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  )}\r\n                </td>\r\n                <td style={{ cursor: \"pointer\" }}>\r\n                  {nhanvien.account === null ? (\r\n                    \"\"\r\n                  ) : (\r\n                    <i\r\n                      className=\"fas fa-pencil-alt text-warning\"\r\n                      onClick={(e) => handleUpdate(e, nhanvien.id)}\r\n                    >\r\n                      &nbsp;Sửa\r\n                    </i>\r\n                  )}\r\n                </td>\r\n\r\n                <td style={{ cursor: \"pointer\" }}>\r\n                  <XoaNhanVienType2\r\n                    id={nhanvien.id}\r\n                    tenNV={nhanvien.name}\r\n                    nv={nhanvien}\r\n                  />\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n          {/* <tr>\r\n            <td>Trần Trọng Văn</td>\r\n            <td>Nam</td>\r\n            <td>14-12-1999</td>\r\n            <td>031042342809</td>\r\n            <td>0354457151</td>\r\n            <td>trongvan</td>\r\n            <td>Sửa</td>\r\n            <td>Xóa</td>\r\n          </tr> */}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachNhanVien;\r\n","import React, { useContext, useState } from \"react\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport TaiKhoanFinder from \"../../../apis/TaiKhoanFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { useHistory } from \"react-router\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nimport {\r\n  checkSpecialCharacter,\r\n  validateEmail,\r\n  dontSignEmail,\r\n  convertDate,\r\n  convertTime,\r\n} from \"../../../utils/DataHandler\";\r\nimport DateTimePicker from \"react-datetime-picker\";\r\n\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\n// import CurrencyInput from \"react-currency-input-field\";\r\n\r\nconst ThemNhanVien = () => {\r\n  const [tenNV, setTenNV] = useState(\"\");\r\n  const [gioitinh, setGioiTinh] = useState(\"1\");\r\n  const [ngaysinh, setNgaySinh] = useState(\"\");\r\n  const [diachi, setDiaChi] = useState(\"\");\r\n  const [cmnd, setCMND] = useState(\"\");\r\n  const [sdt, setSdt] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [ngayvaolam, setNgayVaoLam] = useState(\"\");\r\n  const [vaitro, setVaiTro] = useState(\"NVLT\");\r\n  //   const [luongcoban, setLuongCoBan] = useState(\"\");\r\n\r\n  const [acc, setAcc] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  const { setMsgNhanVienActionSuccess } = useContext(AccountContext);\r\n  let hi = useHistory();\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n  const handleSubmit = async () => {\r\n    const english = /^[A-Za-z0-9]*$/;\r\n    if (acc.length === 0) {\r\n      setMsg(\"Tên tài khoản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (acc.indexOf(\" \") >= 0) {\r\n      setMsg(\"Tên tài khoản không được chứa khoảng trắng.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (!english.test(acc)) {\r\n      setMsg(\"Tên tài khoản không được chứa kí tự đặc biệt hoặc dấu.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (acc.length > 0 && acc.length < 6) {\r\n      setMsg(\"Tên tài khoản ít nhất phải có 6 kí tự.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (!ngayvaolam) {\r\n      setMsg(\"Ngày vào làm không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (tenNV === \"\") {\r\n      setMsg(\"Tên nhân viên không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (checkSpecialCharacter(tenNV)) {\r\n      setMsg(\"Tên nhân viên không được chưa kí tự đặc biệt.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (email === \"\") {\r\n      setMsg(\"Email không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (!validateEmail(email) || !dontSignEmail(email)) {\r\n      setMsg(\"Email không hợp lệ.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (ngaysinh === \"\") {\r\n      setMsg(\"Ngày sinh không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (cmnd === \"\") {\r\n      setMsg(\"Chứng minh nhân dân không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (cmnd.length !== 12) {\r\n      setMsg(\"Chứng minh nhân dân không hợp lệ. (gồm 12 số). \");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (sdt.length === 0) {\r\n      setMsg(\"Số điện thoại không được để trống. \");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (sdt.length < 10 || sdt.length > 11) {\r\n      setMsg(\r\n        \"Số điện thoại không hợp lệ. (gồm 10 số với di động, 11 số với máy bàn).\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 5000);\r\n    } else if (diachi.length === 0) {\r\n      setMsg(\"Địa chỉ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await TaiKhoanFinder.post(\"/them-tai-khoan\", {\r\n          ten: acc,\r\n          mk: \"12345678\",\r\n          ten_hienthi: NormalizeString(tenNV),\r\n          vaitro: vaitro,\r\n        });\r\n\r\n        //   console.log(res);\r\n        if (res.data.status === \"ok\") {\r\n          ThemLichSu({\r\n            doing: \"Thêm\",\r\n            olddata: {},\r\n            newdata: {\r\n              new: {\r\n                ten: acc,\r\n                ten_hienthi: NormalizeString(tenNV),\r\n                vaitro: vaitro,\r\n              },\r\n            },\r\n            tbl: \"Tài khoản\",\r\n          });\r\n          const res_nv = await NhanVienFinder.post(\"/them-nhan-vien\", {\r\n            ten: NormalizeString(tenNV),\r\n            gioitinh: parseInt(gioitinh),\r\n            ngaysinh: ngaysinh,\r\n            diachi: NormalizeString(diachi),\r\n            cmnd: cmnd,\r\n            sdt: sdt,\r\n            email: email.toLowerCase(),\r\n            taikhoan: acc,\r\n            ngayvaolam:\r\n              convertDate(ngayvaolam) + \" \" + convertTime(ngayvaolam) + \"-07\",\r\n          });\r\n          // console.log(res);\r\n          if (res_nv.data.status === \"ok\") {\r\n            ThemLichSu({\r\n              doing: \"Thêm\",\r\n              olddata: {},\r\n              newdata: { new: res_nv.data.data.nhanvien },\r\n              tbl: \"Nhân viên\",\r\n            });\r\n            setMsgNhanVienActionSuccess(\"Thêm thành công.\");\r\n            setTimeout(() => {\r\n              setMsgNhanVienActionSuccess(\"\");\r\n            }, 3000);\r\n\r\n            hi.push(\"/quan-ly/danh-muc\");\r\n            hi.push(\"/quan-ly/danh-muc/nhan-vien\");\r\n          }\r\n        } else {\r\n          setMsg(res.data.status);\r\n          setTimeout(() => {\r\n            setMsg(\"\");\r\n          }, 3000);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-5 mb-2\">\r\n      <div id=\"themnhanvien\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\" id=\"nhanviencard\">\r\n            <h5 className=\"mb-0\">\r\n              <div\r\n                className=\"text-primary collapsed\"\r\n                data-toggle=\"collapse\"\r\n                data-target=\"#formthemnhanvien\"\r\n                aria-expanded=\"false\"\r\n                aria-controls=\"formthemnhanvien\"\r\n                style={{ cursor: \"pointer\" }}\r\n              >\r\n                Thêm nhân viên\r\n              </div>\r\n            </h5>\r\n          </div>\r\n          <div\r\n            id=\"formthemnhanvien\"\r\n            className=\"collapse\"\r\n            aria-labelledby=\"nhanviencard\"\r\n            data-parent=\"#themnhanvien\"\r\n          >\r\n            <div className=\"card-body px-5\">\r\n              <form action=\"\">\r\n                <div className=\"form-row\">\r\n                  <div className=\"col\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"acc\">Tài khoản</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"acc\"\r\n                        onChange={(e) => setAcc(e.target.value)}\r\n                        value={acc}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"vaitronv\">Chức vụ</label>\r\n                      <select\r\n                        className=\"form-control\"\r\n                        id=\"vaitronv\"\r\n                        value={vaitro}\r\n                        onChange={(e) => setVaiTro(e.target.value)}\r\n                      >\r\n                        {userrole === \"QL\" ? (\r\n                          \"\"\r\n                        ) : (\r\n                          <option value=\"QL\">Quản lý</option>\r\n                        )}\r\n\r\n                        <option value=\"NVLT\">Lễ tân</option>\r\n                        <option value=\"NVDP\">Dọn phòng</option>\r\n                        <option value=\"NVK\">Ql Kho</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-row\">\r\n                  <div className=\"col\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"tennhanvien\">Tên nhân viên</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"tennhanvien\"\r\n                        onChange={(e) => setTenNV(e.target.value)}\r\n                        value={tenNV}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <label htmlFor=\"ngayvaolam\">Ngày vào làm</label>\r\n                    <DateTimePicker\r\n                      className=\"form-control\"\r\n                      value={ngayvaolam}\r\n                      onChange={setNgayVaoLam}\r\n                      disableClock\r\n                      locale=\"vi-VN\"\r\n                      format=\"dd-MM-y h:mm a\"\r\n                      id=\"ngayvaolam\"\r\n                      minDate={new Date()}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-row\">\r\n                  <div className=\"col-6\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"email\">Email</label>\r\n                      <input\r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        id=\"email\"\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        value={email}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-3\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"gioitinh\">Giới tính</label>\r\n                      <select\r\n                        onChange={(e) => setGioiTinh(e.target.value)}\r\n                        value={gioitinh}\r\n                        id=\"gioitinh\"\r\n                        className=\"form-control\"\r\n                      >\r\n                        <option value=\"1\">Nam</option>\r\n                        <option value=\"0\">Nữ</option>\r\n                        <option value=\"2\">KXD</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-3\">\r\n                    <label htmlFor=\"ngaysinh\">Ngày sinh</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"ngaysinh\"\r\n                      className=\"form-control\"\r\n                      onChange={(e) => {\r\n                        setNgaySinh(e.target.value);\r\n                      }}\r\n                      value={ngaysinh}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-row\">\r\n                  <div className=\"col\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"cmnd\">Chứng minh nhân dân</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"cmnd\"\r\n                        onChange={(e) => setCMND(e.target.value)}\r\n                        value={cmnd}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"sdt\">Số điện thoại</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"sdt\"\r\n                        onChange={(e) => setSdt(e.target.value)}\r\n                        value={sdt}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  {/* <div className=\"col\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"luongcoban\">Lương cơ bản</label>\r\n                      <CurrencyInput\r\n                        id=\"luongcoban\"\r\n                        value={luongcoban}\r\n                        className=\"form-control text-right\"\r\n                        suffix=\" đồng\"\r\n                        groupSeparator=\".\"\r\n                        onValueChange={(value) => {\r\n                          setLuongCoBan(value);\r\n                        }}\r\n                        step=\"1000\"\r\n                        maxLength=\"9\"\r\n                      />\r\n                    </div>\r\n                  </div> */}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"diachi\">Địa chỉ</label>\r\n                  <textarea\r\n                    className=\"form-control\"\r\n                    id=\"diachi\"\r\n                    rows=\"2\"\r\n                    onChange={(e) => setDiaChi(e.target.value)}\r\n                    value={diachi}\r\n                  ></textarea>\r\n                </div>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary py-2 px-4\"\r\n                  onClick={handleSubmit}\r\n                >\r\n                  Thêm\r\n                </button>\r\n                <p className=\"text-danger my-2\">{msg}</p>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemNhanVien;\r\n","import React from \"react\";\r\nimport DanhSachNhanVien from \"../../../components/quanly/nhanvien/DanhSachNhanVien\";\r\nimport ThemNhanVien from \"../../../components/quanly/nhanvien/ThemNhanVien\";\r\n\r\nconst NhanVienPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">QUẢN LÝ NHÂN VIÊN</h1>\r\n      <ThemNhanVien />\r\n      <DanhSachNhanVien />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NhanVienPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\n// import XoaNhanVien from \"./XoaNhanVien\";\r\nimport {\r\n  NormalizeDate,\r\n  //   NumberFormat,\r\n  RenderGioiTinh,\r\n} from \"../../../utils/DataHandler\";\r\n\r\nconst ChiTietNhanVien = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [nhanvienSelected, setNhanVienSelected] = useState([]);\r\n  const { msgNhanVienActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(`/danh-sach-nhan-vien/${id}`);\r\n        setNhanVienSelected(res.data.data.nhanvien);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setNhanVienSelected, id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/danh-muc/nhan-vien\");\r\n  };\r\n\r\n  const renderVaiTro = (vt) => {\r\n    let vaitro = \"\";\r\n    switch (vt) {\r\n      case \"QL\":\r\n        vaitro = \"Quản lý\";\r\n        break;\r\n      case \"NVLT\":\r\n        vaitro = \"Nhân viên lễ tân\";\r\n        break;\r\n      case \"NVK\":\r\n        vaitro = \"Nhân viên kho\";\r\n        break;\r\n      case \"NVDP\":\r\n        vaitro = \"Nhân viên dọn phòng\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return vaitro;\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    hi.push(`/quan-ly/danh-muc/nhan-vien/${id}/sua`);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-center\">Chi tiết nhân viên</h2>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary mt-5\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        <div className=\"mt-5 ml-2\">\r\n          <button className=\"btn btn-warning px-4\" onClick={handleUpdate}>\r\n            Sửa\r\n          </button>\r\n        </div>\r\n        {/* <div className=\"mt-5 ml-2\">\r\n          <XoaNhanVien />\r\n        </div> */}\r\n      </div>\r\n      <p className=\"text-center text-success\">{msgNhanVienActionSuccess}</p>\r\n      <h4 className=\"mt-3 mb-3\">\r\n        MÃ NHÂN VIÊN: {nhanvienSelected.ma_nhan_vien}\r\n      </h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Tên nhân viên</td>\r\n            <td className=\"col-8 pl-2\">{nhanvienSelected.name}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Giới tính</td>\r\n            <td className=\"col-8 pl-2\">\r\n              {RenderGioiTinh(nhanvienSelected.gioitinh)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Ngày vào làm</td>\r\n            <td className=\"col-8 pl-2\">\r\n              {NormalizeDate(nhanvienSelected.ngayvaolam)}\r\n            </td>\r\n          </tr>\r\n          {/* <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Lương cơ bản</td>\r\n            <td className=\"col-8 pl-2\">\r\n              <strong> {NumberFormat(nhanvienSelected.luongcoban)}</strong> VND\r\n            </td>\r\n          </tr> */}\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Ngày sinh</td>\r\n            <td className=\"col-8 pl-2\">\r\n              {NormalizeDate(nhanvienSelected.ngaysinh)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Địa chỉ</td>\r\n            <td className=\"col-8 pl-2\">{nhanvienSelected.diachi}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Chứng minh nhân dân</td>\r\n            <td className=\"col-8 pl-2\">{nhanvienSelected.cmnd}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Số điện thoại</td>\r\n            <td className=\"col-8 pl-2\">{nhanvienSelected.sdt}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Email</td>\r\n            <td className=\"col-8 pl-2\">{nhanvienSelected.email}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">\r\n              Tài khoản đang sử dụng\r\n            </td>\r\n            <td className=\"col-8 pl-2\">\r\n              {nhanvienSelected.account === null\r\n                ? \"Tài khoản đã bị xóa\"\r\n                : nhanvienSelected.account}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-4 pl-2 font-weight-bold\">Vai trò</td>\r\n            <td className=\"col-8 pl-2\">\r\n              {renderVaiTro(nhanvienSelected.vaitro)}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietNhanVien;\r\n","import React from \"react\";\r\nimport ChiTietNhanVien from \"../../../../components/quanly/nhanvien/ChiTietNhanVien\";\r\n\r\nconst DetailPageNhanVien = () => {\r\n  return (\r\n    <div>\r\n      <ChiTietNhanVien />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailPageNhanVien;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nimport {\r\n  checkSpecialCharacter,\r\n  validateEmail,\r\n  dontSignEmail,\r\n  convertDate,\r\n} from \"../../../utils/DataHandler\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\n// import CurrencyInput from \"react-currency-input-field\";\r\n\r\nconst SuaNhanVien = () => {\r\n  let hi = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const [old, setOld] = useState({});\r\n  const [tenNV, setTenNV] = useState(\"\");\r\n  const [gioitinh, setGioiTinh] = useState(\"\");\r\n  const [ngaysinh, setNgaySinh] = useState(\"\");\r\n  const [diachi, setDiaChi] = useState(\"\");\r\n  const [cmnd, setCMND] = useState(\"\");\r\n  const [sdt, setSdt] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  //   const [luongcb, setLuongCb] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n  const { setMsgNhanVienActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(`/danh-sach-nhan-vien/${id}`);\r\n        // console.log(res.data.data.nhanvien.ngaysinh);\r\n        setTenNV(res.data.data.nhanvien.name);\r\n        setGioiTinh(res.data.data.nhanvien.gioitinh);\r\n        setNgaySinh(convertDate(res.data.data.nhanvien.ngaysinh));\r\n        setDiaChi(res.data.data.nhanvien.diachi);\r\n        setCMND(res.data.data.nhanvien.cmnd);\r\n        setSdt(res.data.data.nhanvien.sdt);\r\n        setEmail(res.data.data.nhanvien.email);\r\n        // setLuongCb(res.data.data.nhanvien.luongcoban);\r\n        // console.log(res.data.data.nhanvien);\r\n\r\n        setOld({\r\n          id: id,\r\n          ten: res.data.data.nhanvien.name,\r\n          gioitinh: res.data.data.nhanvien.gioitinh,\r\n          ngaysinh: convertDate(res.data.data.nhanvien.ngaysinh),\r\n          diachi: res.data.data.nhanvien.diachi,\r\n          cmnd: res.data.data.nhanvien.cmnd,\r\n          sdt: res.data.data.nhanvien.sdt,\r\n          email: res.data.data.nhanvien.email,\r\n          //   luongcoban: res.data.data.nhanvien.luongcoban,\r\n        });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  const handleUpdate = async () => {\r\n    if (tenNV === \"\") {\r\n      setMsg(\"Tên nhân viên không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (checkSpecialCharacter(tenNV)) {\r\n      setMsg(\"Tên nhân viên không được chưa kí tự đặc biệt.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (email === \"\") {\r\n      setMsg(\"Email không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (!validateEmail(email) || !dontSignEmail(email)) {\r\n      setMsg(\"Email không hợp lệ.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (ngaysinh === \"\") {\r\n      setMsg(\"Ngày sinh không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (cmnd === \"\") {\r\n      setMsg(\"Chứng minh nhân dân không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (cmnd.length !== 12) {\r\n      setMsg(\"Chứng minh nhân dân không hợp lệ. (gồm 12 số). \");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (sdt.length === 0) {\r\n      setMsg(\"Số điện thoại không được để trống. \");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 4000);\r\n    } else if (sdt.length < 10 || sdt.length > 11) {\r\n      setMsg(\r\n        \"Số điện thoại không hợp lệ. (gồm 10 số với di động, 11 số với máy bàn).\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 5000);\r\n    } else if (diachi.length === 0) {\r\n      setMsg(\"Địa chỉ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await NhanVienFinder.put(\"/sua-nhan-vien\", {\r\n          id: id,\r\n          ten: NormalizeString(tenNV),\r\n          gioitinh: parseInt(gioitinh),\r\n          ngaysinh: ngaysinh,\r\n          diachi: NormalizeString(diachi),\r\n          cmnd: cmnd,\r\n          sdt: sdt,\r\n          email: email.toLowerCase(),\r\n          //   luongcoban: luongcb,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: id,\r\n            ten: NormalizeString(tenNV),\r\n            gioitinh: parseInt(gioitinh),\r\n            ngaysinh: ngaysinh,\r\n            diachi: NormalizeString(diachi),\r\n            cmnd: cmnd,\r\n            sdt: sdt,\r\n            email: email.toLowerCase(),\r\n            // luongcoban: luongcb,\r\n          };\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old: old },\r\n              newdata: { new: newd },\r\n              tbl: \"Nhân viên\",\r\n            });\r\n          }\r\n          setMsgNhanVienActionSuccess(\"Sửa thành công\");\r\n          setTimeout(() => {\r\n            setMsgNhanVienActionSuccess(\"\");\r\n          }, 2000);\r\n          hi.push(`/quan-ly/danh-muc/nhan-vien/`);\r\n        } else {\r\n          setMsg(res.data.status);\r\n          setTimeout(() => {\r\n            setMsg(\"\");\r\n          }, 5000);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-2\"></div>\r\n      <div className=\"col-8\">\r\n        <form action=\"\">\r\n          <div className=\"form-row\">\r\n            <div className=\"col\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"tennhanvien\">Tên nhân viên</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"tennhanvien\"\r\n                  onChange={(e) => setTenNV(e.target.value)}\r\n                  value={tenNV}\r\n                />\r\n              </div>\r\n            </div>\r\n            {/* <div className=\"col\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"luongcoban\">Lương cơ bản</label>\r\n                <CurrencyInput\r\n                  id=\"luongcoban\"\r\n                  value={luongcb}\r\n                  className=\"form-control text-right\"\r\n                  suffix=\" đồng\"\r\n                  groupSeparator=\".\"\r\n                  onValueChange={(value) => {\r\n                    setLuongCb(value);\r\n                  }}\r\n                  step=\"1000\"\r\n                  maxLength=\"9\"\r\n                />\r\n              </div>\r\n            </div> */}\r\n          </div>\r\n          <div className=\"form-row\">\r\n            <div className=\"col\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"cmnd\">Chứng minh nhân dân</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"cmnd\"\r\n                  onChange={(e) => setCMND(e.target.value)}\r\n                  value={cmnd}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"sdt\">Số điện thoại</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"sdt\"\r\n                  onChange={(e) => setSdt(e.target.value)}\r\n                  value={sdt}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-row\">\r\n            <div className=\"col-6\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  id=\"email\"\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  value={email}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-3\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"gioitinh\">Giới tính</label>\r\n                <select\r\n                  onChange={(e) => setGioiTinh(e.target.value)}\r\n                  value={gioitinh}\r\n                  id=\"gioitinh\"\r\n                  className=\"form-control\"\r\n                >\r\n                  <option value=\"1\">Nam</option>\r\n                  <option value=\"0\">Nữ</option>\r\n                  <option value=\"2\">KXD</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-3\">\r\n              <label htmlFor=\"ngaysinh\">Ngày sinh</label>\r\n              <input\r\n                type=\"date\"\r\n                id=\"ngaysinh\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setNgaySinh(e.target.value)}\r\n                value={ngaysinh}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"diachi\">Địa chỉ</label>\r\n            <textarea\r\n              className=\"form-control\"\r\n              id=\"diachi\"\r\n              rows=\"2\"\r\n              onChange={(e) => setDiaChi(e.target.value)}\r\n              value={diachi}\r\n            ></textarea>\r\n          </div>\r\n          <p className=\"text-danger my-2\">{msg}</p>\r\n          <div className=\"d-flex flex-row\">\r\n            <button\r\n              className=\"btn btn-warning px-4\"\r\n              type=\"button\"\r\n              onClick={handleUpdate}\r\n            >\r\n              Sửa\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div className=\"col-2\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaNhanVien;\r\n","import React from \"react\";\r\nimport SuaNhanVien from \"../../../../components/quanly/nhanvien/SuaNhanVien\";\r\n\r\nconst SuaPageNhanVien = () => {\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-center mt-5 mb-5\">Sửa thông tin nhân viên</h2>\r\n      <SuaNhanVien />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaPageNhanVien;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/dich-vu\",\r\n});\r\n","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBZsvbYbqBhAE36oFNZwFATA0NomyqJrds\",\r\n  authDomain: \"quanlykhachsan-1d3b6.firebaseapp.com\",\r\n  projectId: \"quanlykhachsan-1d3b6\",\r\n  storageBucket: \"quanlykhachsan-1d3b6.appspot.com\",\r\n  messagingSenderId: \"443910245090\",\r\n  appId: \"1:443910245090:web:55ad81c97c2d6fa13e2cbb\",\r\n  measurementId: \"G-L68GC723S9\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst storage = firebase.storage();\r\n\r\nexport { storage, firebase as default };\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport DichVuFinder from \"../../../apis/DichVuFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { storage } from \"../../../firebase\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst XoaDichVu = ({ id }) => {\r\n  const { setMsgDichVuActionSuccess, dsDichVu, setDsDichVu } =\r\n    useContext(AccountContext);\r\n\r\n  let hi = useHistory();\r\n  const [filename, setFileName] = useState(\"\");\r\n  const [tenDV, setTenDV] = useState(\"\");\r\n  const [isDelete, setIsDelete] = useState(false);\r\n\r\n  const [old, setOld] = useState({});\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const res = await DichVuFinder.get(`/danh-sach-dich-vu/${id}`);\r\n      setFileName(res.data.data.dichvu.filename);\r\n      setTenDV(res.data.data.dichvu.ten);\r\n      setOld(res.data.data.dichvu);\r\n      const res_dp = await DichVuFinder.get(`/trong-dat-phong/${id}`);\r\n      //   console.log(res_dp);\r\n      if (res_dp.data.data.dichvu.count === \"0\") {\r\n        setIsDelete(true);\r\n      } else {\r\n        setIsDelete(false);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    if (isDelete) {\r\n      try {\r\n        const res = await DichVuFinder.delete(`/xoa-dich-vu/${id}`);\r\n        //   console.log(res);\r\n        if (res.data === \"\") {\r\n          ThemLichSu({\r\n            doing: \"Xóa\",\r\n            olddata: { old: old },\r\n            newdata: {},\r\n            tbl: \"Dịch vụ\",\r\n          });\r\n\r\n          setMsgDichVuActionSuccess(\"Xóa thành công\");\r\n          setTimeout(() => {\r\n            setMsgDichVuActionSuccess(\"\");\r\n          }, 2000);\r\n          setDsDichVu(\r\n            dsDichVu.filter((dichvu) => {\r\n              return dichvu.id !== id;\r\n            })\r\n          );\r\n          storage.ref(\"dichvu\").child(filename).delete();\r\n          hi.push(\"/quan-ly/danh-muc/dich-vu\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    } else {\r\n      alert(\r\n        \"Dữ liệu của dịch vụ này đang nằm trong phiếu thuê nào đó. Không thể xóa\"\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoa`}\r\n        onClick={fetchData}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoa`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa{\" \"}\r\n                <span className=\"font-weight-bold\">\"{tenDV}\"</span> không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaDichVu;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport DichVuFinder from \"../../../apis/DichVuFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\nimport XoaDichVu from \"./XoaDichVu\";\r\n\r\nconst DanhSachDichVu = () => {\r\n  const { dsDichVu, setDsDichVu, msgDichVuActionSuccess } =\r\n    useContext(AccountContext);\r\n\r\n  const [loaidichvu, setLoaiDichVu] = useState([]);\r\n  let hi = useHistory();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await DichVuFinder.get(\"/danh-sach-dich-vu\");\r\n        if (res.data.status === \"ok\") {\r\n          setDsDichVu(res.data.data.dichvu);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n\r\n    const getLoaiDichVu = async () => {\r\n      try {\r\n        const res = await DichVuFinder.get(\"/danh-sach-loai-dich-vu\");\r\n        setLoaiDichVu(res.data.data.loaidv);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getLoaiDichVu();\r\n  }, [setDsDichVu, setLoaiDichVu]);\r\n\r\n  const handleDichVuSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/danh-muc/dich-vu/${id}`);\r\n  };\r\n\r\n  const handleUpdate = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/danh-muc/dich-vu/${id}/sua`);\r\n  };\r\n\r\n  const renderTenLoaiDichVu = (loaidv_id) => {\r\n    let name = \"\";\r\n    loaidichvu.forEach((item) => {\r\n      if (item.id === loaidv_id) {\r\n        name = item.name;\r\n      }\r\n    });\r\n    return name;\r\n  };\r\n  return (\r\n    <div>\r\n      {\" \"}\r\n      <div className=\"mt-5 mb-5\">\r\n        <p className=\"text-center text-success\">{msgDichVuActionSuccess}</p>\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Tên dịch vụ</th>\r\n              <th>Ảnh</th>\r\n              <th>Giá dịch vụ</th>\r\n              <th>Loại dịch vụ</th>\r\n              <th>Xem</th>\r\n              <th>Sửa</th>\r\n              <th>Xóa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsDichVu.map((dichvu) => {\r\n              return (\r\n                <tr key={dichvu.id}>\r\n                  <td className=\"align-middle\">{dichvu.ten}</td>\r\n                  <td className=\"text-center \">\r\n                    <img src={dichvu.anhminhhoa} alt=\"Anh dichvu\" width=\"100\" />\r\n                  </td>\r\n                  <td className=\"text-right align-middle\">\r\n                    {NumberFormat(dichvu.giahientai)} <b>VND</b>\r\n                  </td>\r\n                  <td className=\"align-middle\">\r\n                    <u>{renderTenLoaiDichVu(dichvu.loaidichvu_id)}</u>\r\n                  </td>\r\n                  <td className=\"align-middle\" style={{ cursor: \"pointer\" }}>\r\n                    {\" \"}\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handleDichVuSelected(e, dichvu.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  </td>\r\n                  <td className=\"align-middle\" style={{ cursor: \"pointer\" }}>\r\n                    <i\r\n                      className=\"fas fa-pencil-alt text-warning\"\r\n                      onClick={(e) => handleUpdate(e, dichvu.id)}\r\n                    >\r\n                      &nbsp;Sửa\r\n                    </i>\r\n                  </td>\r\n                  <td className=\"align-middle\" style={{ cursor: \"pointer\" }}>\r\n                    <XoaDichVu id={dichvu.id} />\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachDichVu;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport DichVuFinder from \"../../../apis/DichVuFinder\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport { storage } from \"../../../firebase\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport { convertDataTocreatableSelect } from \"../../../utils/DataHandler\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst ThemDichVu = () => {\r\n  const [tendv, setTenDV] = useState(\"\");\r\n  const [anhDV, setAnhDV] = useState(\"\");\r\n  const [filename, setFileName] = useState(\"\");\r\n  const [giadichvu, setGiaDichVu] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [loai, setLoai] = useState();\r\n\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const [image, setImage] = useState(\"\");\r\n  const [loaiDv, setLoaiDv] = useState([]);\r\n\r\n  const { themDichVu, setMsgDichVuActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const getDataCategory = async () => {\r\n      try {\r\n        const res = await DichVuFinder.get(\"/danh-sach-loai-dich-vu\");\r\n        setLoaiDv(convertDataTocreatableSelect(res.data.data.loaidv));\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getDataCategory();\r\n  }, [setLoaiDv]);\r\n\r\n  const handleUpload = (img) => {\r\n    const uploadTask = storage.ref(`dichvu/${img.name}`).put(img);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {},\r\n      (error) => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        storage\r\n          .ref(\"dichvu\")\r\n          .child(img.name)\r\n          .getDownloadURL()\r\n          .then((url) => {\r\n            setAnhDV(url);\r\n          });\r\n      }\r\n    );\r\n  };\r\n  const handleChange = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setLoai(dataSelected.value);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddCategory(dataSelected.value);\r\n    }\r\n  };\r\n\r\n  const handleAddCategory = async (name) => {\r\n    try {\r\n      const res = await DichVuFinder.post(\"/them-loai-dich-vu\", {\r\n        name: name,\r\n      });\r\n      setLoai(res.data.data.loaidichvu.id);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const customStyles = {\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      color: state.isSelected ? \"black\" : \"#51515\",\r\n      padding: 5,\r\n    }),\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!tendv) {\r\n      setMsgError(\"Tên dịch vụ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!image) {\r\n      setMsgError(\"Ảnh minh họa không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!giadichvu) {\r\n      setMsgError(\"Giá dịch vụ theo ngày không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!loai) {\r\n      setMsgError(\"Loại dịch vụ không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await DichVuFinder.post(\"/them-dich-vu\", {\r\n          ten: NormalizeString(tendv),\r\n          ghichu: ghichu,\r\n          giadv: giadichvu,\r\n          trangthai: 1,\r\n          anh: anhDV,\r\n          filename: filename,\r\n          loaidv: loai,\r\n        });\r\n\r\n        if (res.data.status === \"ok\") {\r\n          ThemLichSu({\r\n            doing: \"Thêm\",\r\n            olddata: {},\r\n            newdata: { new: res.data.data.dichvu },\r\n            tbl: \"Dịch vụ\",\r\n          });\r\n\r\n          themDichVu(res.data.data.dichvu);\r\n          setMsgDichVuActionSuccess(\"Thêm thành công.\");\r\n          setTimeout(() => {\r\n            setMsgDichVuActionSuccess(\"\");\r\n          }, 2500);\r\n          setTenDV(\"\");\r\n          setImage(\"\");\r\n          setGhiChu(\"\");\r\n          setGiaDichVu(\"\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteImagePrev = () => {\r\n    if (filename) {\r\n      storage.ref(\"dichvu\").child(filename).delete();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-2 \">\r\n        <div id=\"themdichvu\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\" id=\"dichvucard\">\r\n              <h5 className=\"mb-0\">\r\n                <div\r\n                  className=\"text-primary collapsed\"\r\n                  data-toggle=\"collapse\"\r\n                  data-target=\"#formthemdichvu\"\r\n                  aria-expanded=\"false\"\r\n                  aria-controls=\"formthemdichvu\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Thêm dịch vụ\r\n                </div>\r\n              </h5>\r\n            </div>\r\n            <div\r\n              id=\"formthemdichvu\"\r\n              className=\"collapse\"\r\n              aria-labelledby=\"dichvucard\"\r\n              data-parent=\"#themdichvu\"\r\n            >\r\n              <div className=\"card-body px-5\">\r\n                <form action=\"\" encType=\"multipart/form-data\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"tendichvu\">Tên dịch vụ</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"tendichvu\"\r\n                      className=\"form-control\"\r\n                      value={tendv}\r\n                      onChange={(e) => setTenDV(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"anhdv\">Ảnh dịch vụ</label>\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      id=\"anhdv\"\r\n                      className=\"form-control\"\r\n                      onChange={(e) => {\r\n                        if (e.target.files[0]) {\r\n                          handleDeleteImagePrev();\r\n                          setImage(e.target.files[0]);\r\n                          setFileName(e.target.files[0].name);\r\n                          handleUpload(e.target.files[0]);\r\n                        } else {\r\n                          setImage(\"\");\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"giadv\">Giá dịch vụ</label>\r\n                    {/* <input\r\n                      type=\"number\"\r\n                      min=\"10000\"\r\n                      step=\"1000\"\r\n                      id=\"giadv\"\r\n                      className=\"form-control text-right\"\r\n                      value={giadichvu}\r\n                      onChange={(e) => setGiaDichVu(e.target.value)}\r\n                    /> */}\r\n                    <CurrencyInput\r\n                      id=\"giadv\"\r\n                      value={giadichvu}\r\n                      className=\"form-control text-right\"\r\n                      suffix=\" đồng\"\r\n                      groupSeparator=\".\"\r\n                      onValueChange={(value) => {\r\n                        setGiaDichVu(value);\r\n                      }}\r\n                      step=\"1000\"\r\n                      maxLength=\"9\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"ghichu\">Ghi chú</label>\r\n                    <CKEditor\r\n                      data={ghichu}\r\n                      editor={ClassicEditor}\r\n                      onChange={(event, editor) => {\r\n                        const data = editor.getData();\r\n                        setGhiChu(data);\r\n                      }}\r\n                      // config={{\r\n                      //   ckfinder: {\r\n                      //     uploadUrl: \"http://localhost:3005/api/v1/phong/uploads\",\r\n                      //   },\r\n                      //\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group \">\r\n                    <label htmlFor=\"loaidv\">Loại dịch vụ</label>\r\n                    <CreatableSelect\r\n                      id=\"loaidv\"\r\n                      isClearable\r\n                      onChange={handleChange}\r\n                      options={loaiDv}\r\n                      styles={customStyles}\r\n                    />\r\n                  </div>\r\n\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary py-2 px-4\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Thêm\r\n                  </button>\r\n                  <p className=\"text-danger my-2\">{msgError}</p>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemDichVu;\r\n","import React from \"react\";\r\nimport DanhSachDichVu from \"../../../components/quanly/dichvu/DanhSachDichVu\";\r\nimport ThemDichVu from \"../../../components/quanly/dichvu/ThemDichVu\";\r\n\r\nconst DichVuPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">QUẢN LÝ DỊCH VỤ</h1>\r\n      <ThemDichVu />\r\n      <DanhSachDichVu />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DichVuPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/phong\",\r\n});\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { storage } from \"../../../firebase\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst XoaPhong = ({ ten, phong }) => {\r\n  const { setMsgPhongActionSuccess, dsPhong, setDsPhong } =\r\n    useContext(AccountContext);\r\n\r\n  let hi = useHistory();\r\n  const [filename, setFileName] = useState(\"\");\r\n  const [isDelete, setIsDelete] = useState(false);\r\n\r\n  const handleClick = async () => {\r\n    try {\r\n      const res = await PhongFinder.get(`/danh-sach-phong/${ten}`);\r\n      setFileName(res.data.data.phong.filename);\r\n\r\n      const res_dp = await PhongFinder.get(`/trong-dat-phong/${ten}`);\r\n      //   console.log(res_dp);\r\n      if (res_dp.data.data.phong.count === \"0\") {\r\n        setIsDelete(true);\r\n      } else {\r\n        setIsDelete(false);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    if (isDelete) {\r\n      try {\r\n        const res = await PhongFinder.delete(`/xoa-phong/${ten}`);\r\n        //   console.log(res);\r\n        if (res.data === \"\") {\r\n          ThemLichSu({\r\n            doing: \"Xóa\",\r\n            olddata: { old: phong },\r\n            newdata: {},\r\n            tbl: \"Phòng\",\r\n          });\r\n\r\n          setMsgPhongActionSuccess(\"Xóa thành công\");\r\n          setTimeout(() => {\r\n            setMsgPhongActionSuccess(\"\");\r\n          }, 2000);\r\n          setDsPhong(\r\n            dsPhong.filter((phong) => {\r\n              return phong.ten !== ten;\r\n            })\r\n          );\r\n          storage.ref(\"phong\").child(filename).delete();\r\n          hi.push(\"/quan-ly/danh-muc/phong\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    } else {\r\n      alert(\"Dữ liệu phòng này đang được sử dụng trong phiếu thuê nào đó.\");\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${ten}xoa`}\r\n        onClick={handleClick}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${ten}xoa`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa{\" \"}\r\n                <span className=\"font-weight-bold\">\"{ten}\"</span> không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaPhong;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\nimport XoaPhong from \"./XoaPhong\";\r\nconst DanhSachPhong = () => {\r\n  const { dsPhong, setDsPhong, msgPhongActionSuccess } =\r\n    useContext(AccountContext);\r\n  let hi = useHistory();\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      try {\r\n        const res = await PhongFinder.get(\"/danh-sach-phong\");\r\n        if (res.data.status === \"ok\") {\r\n          setDsPhong(res.data.data.phong);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getData();\r\n  }, [setDsPhong]);\r\n\r\n  const handlePhongSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/danh-muc/phong/${id}`);\r\n  };\r\n\r\n  const handleUpdate = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/danh-muc/phong/${id}/sua`);\r\n  };\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <p className=\"text-center text-success\">{msgPhongActionSuccess}</p>\r\n      <table className=\"table table-hover table-striped table-bordered \">\r\n        <thead className=\"thead-dark text-center\">\r\n          <tr>\r\n            <th>Tên phòng</th>\r\n            <th>Ảnh</th>\r\n            <th>Tiêu đề</th>\r\n            <th>Giá phòng (/ngày)</th>\r\n            <th>Giá phòng (/giờ)</th>\r\n            <th>Loại phòng</th>\r\n            <th>Xem</th>\r\n            <th>Sửa</th>\r\n            <th>Xóa</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {dsPhong.map((phong) => {\r\n            return (\r\n              <tr key={phong.ten}>\r\n                <td className=\"align-middle\">{phong.ten}</td>\r\n                <td className=\"text-center \">\r\n                  <img src={phong.anh} alt=\"Anh phong\" width=\"100\" />\r\n                </td>\r\n                <td className=\"align-middle\">{phong.tieude}</td>\r\n                <td className=\"text-right align-middle\">\r\n                  {NumberFormat(phong.giaphongtheongay)} <b>VND</b>\r\n                </td>\r\n                <td className=\"text-right align-middle\">\r\n                  {NumberFormat(phong.giaphongtheogio)} <b>VND</b>\r\n                </td>\r\n                <td className=\"align-middle\">{phong.loaiphong}</td>\r\n                <td className=\"align-middle\" style={{ cursor: \"pointer\" }}>\r\n                  {\" \"}\r\n                  <i\r\n                    className=\"far fa-eye text-primary\"\r\n                    onClick={(e) => handlePhongSelected(e, phong.ten)}\r\n                  >\r\n                    &nbsp;Xem\r\n                  </i>\r\n                </td>\r\n                <td className=\"align-middle\" style={{ cursor: \"pointer\" }}>\r\n                  <i\r\n                    className=\"fas fa-pencil-alt text-warning\"\r\n                    onClick={(e) => handleUpdate(e, phong.ten)}\r\n                  >\r\n                    &nbsp;Sửa\r\n                  </i>\r\n                </td>\r\n                <td className=\"align-middle\" style={{ cursor: \"pointer\" }}>\r\n                  <XoaPhong ten={phong.ten} phong={phong} />\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachPhong;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport { storage } from \"../../../firebase\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst ThemPhong = () => {\r\n  const [tenphong, setTenPhong] = useState(\"\");\r\n  const [anhphong, setAnhPhong] = useState(\"\");\r\n  const [filename, setFileName] = useState(\"\");\r\n  const [giaphongtheongay, setGiaPhongTheoNgay] = useState(\"\");\r\n  const [giaphongtheogio, setGiaPhongTheoGio] = useState(\"\");\r\n  const [tieude, setTieuDe] = useState(\"\");\r\n  const [motangangon, setMoTaNganGon] = useState(\"\");\r\n\r\n  const [motachitiet, setMoTaChiTiet] = useState(\"\");\r\n  const [loaiphong, setLoaiPhong] = useState(\"Phòng đơn\");\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  const { themPhong, setMsgPhongActionSuccess } = useContext(AccountContext);\r\n\r\n  const handleUpload = (img) => {\r\n    const uploadTask = storage.ref(`phong/${img.name}`).put(img);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {},\r\n      (error) => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        storage\r\n          .ref(\"phong\")\r\n          .child(img.name)\r\n          .getDownloadURL()\r\n          .then((url) => {\r\n            setAnhPhong(url);\r\n          });\r\n      }\r\n    );\r\n  };\r\n  const handleSubmit = async () => {\r\n    if (!tenphong) {\r\n      setMsgError(\"Tên phòng không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!image) {\r\n      setMsgError(\"Ảnh phòng không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!giaphongtheongay) {\r\n      setMsgError(\"Giá phòng theo ngày không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!giaphongtheogio) {\r\n      setMsgError(\"Giá phòng theo giờ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!tieude) {\r\n      setMsgError(\"Tiêu đề không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!motangangon) {\r\n      setMsgError(\"Mô tả ngắn gọn không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!motachitiet) {\r\n      setMsgError(\"Mô tả chi tiết không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await PhongFinder.post(\"/them-phong\", {\r\n          ten: NormalizeString(tenphong),\r\n          trangthai: 0,\r\n          anh: anhphong,\r\n          tieude: NormalizeString(tieude),\r\n          mtngangon: motangangon,\r\n          mtchitiet: motachitiet,\r\n          giaphongtheongay: giaphongtheongay,\r\n          giaphongtheogio: giaphongtheogio,\r\n          filename: filename,\r\n          loaiphong: loaiphong,\r\n        });\r\n        // console.log(res);\r\n        if (res.data.status === \"ok\") {\r\n          ThemLichSu({\r\n            doing: \"Thêm\",\r\n            olddata: {},\r\n            newdata: { new: res.data.data.phong },\r\n            tbl: \"Phòng\",\r\n          });\r\n\r\n          themPhong(res.data.data.phong);\r\n          setMsgPhongActionSuccess(\"Thêm thành công.\");\r\n          setTimeout(() => {\r\n            setMsgPhongActionSuccess(\"\");\r\n          }, 2500);\r\n          setTenPhong(\"\");\r\n          setImage(\"\");\r\n          setTieuDe(\"\");\r\n          setMoTaChiTiet(\"\");\r\n          setMoTaNganGon(\"\");\r\n          setGiaPhongTheoGio(\"\");\r\n          setGiaPhongTheoNgay(\"\");\r\n        } else {\r\n          setMsgError(res.data.status);\r\n          setTimeout(() => {\r\n            setMsgError(\"\");\r\n          }, 4000);\r\n        }\r\n      } catch (er) {\r\n        console.log(er.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteImagePrev = () => {\r\n    if (filename) {\r\n      storage.ref(\"phong\").child(filename).delete();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"mt-5 mb-2\">\r\n      <div id=\"themphong\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\" id=\"phongcard\">\r\n            <h5 className=\"mb-0\">\r\n              <div\r\n                className=\"text-primary collapsed\"\r\n                data-toggle=\"collapse\"\r\n                data-target=\"#formthemphong\"\r\n                aria-expanded=\"false\"\r\n                aria-controls=\"formthemphong\"\r\n                style={{ cursor: \"pointer\" }}\r\n              >\r\n                Thêm phòng\r\n              </div>\r\n            </h5>\r\n          </div>\r\n          <div\r\n            id=\"formthemphong\"\r\n            className=\"collapse\"\r\n            aria-labelledby=\"phongcard\"\r\n            data-parent=\"#themphong\"\r\n          >\r\n            <div className=\"card-body px-5\">\r\n              <form action=\"\" encType=\"multipart/form-data\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"tenphong\">Tên phòng</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"tenphong\"\r\n                    className=\"form-control\"\r\n                    value={tenphong}\r\n                    onChange={(e) => setTenPhong(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"anhphong\">Ảnh đại diện</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    id=\"anhphong\"\r\n                    className=\"form-control\"\r\n                    onChange={(e) => {\r\n                      if (e.target.files[0]) {\r\n                        handleDeleteImagePrev();\r\n                        setImage(e.target.files[0]);\r\n                        setFileName(e.target.files[0].name);\r\n                        handleUpload(e.target.files[0]);\r\n                      } else {\r\n                        setImage(\"\");\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-row\">\r\n                  <div className=\"col\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"giaphong\">Giá phòng theo ngày</label>\r\n\r\n                      <CurrencyInput\r\n                        id=\"giaphong\"\r\n                        value={giaphongtheongay}\r\n                        className=\"form-control text-right\"\r\n                        suffix=\" đồng\"\r\n                        groupSeparator=\".\"\r\n                        onValueChange={(value) => {\r\n                          setGiaPhongTheoNgay(value);\r\n                        }}\r\n                        step=\"1000\"\r\n                        maxLength=\"9\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    {\" \"}\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"giacanhtranh\">Giá phòng theo giờ</label>\r\n\r\n                      <CurrencyInput\r\n                        id=\"giacanhtranh\"\r\n                        value={giaphongtheogio}\r\n                        className=\"form-control text-right\"\r\n                        suffix=\" đồng\"\r\n                        groupSeparator=\".\"\r\n                        onValueChange={(value) => {\r\n                          setGiaPhongTheoGio(value);\r\n                        }}\r\n                        step=\"1000\"\r\n                        maxLength=\"9\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"loaiphong\">Loại phòng</label>\r\n                      <select\r\n                        id=\"loaiphong\"\r\n                        className=\"form-control\"\r\n                        value={loaiphong}\r\n                        onChange={(e) => setLoaiPhong(e.target.value)}\r\n                      >\r\n                        <option value=\"Phòng đơn\">Phòng đơn</option>\r\n                        <option value=\"Phòng đôi\">Phòng đôi</option>\r\n                        <option value=\"Gia đình\">Gia đình</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"tieude\">Tiêu đề</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"tieude\"\r\n                    className=\"form-control\"\r\n                    value={tieude}\r\n                    onChange={(e) => setTieuDe(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"motangangon\">Mô tả ngắn gọn</label>\r\n                  <textarea\r\n                    className=\"form-control\"\r\n                    id=\"motangangon\"\r\n                    rows=\"2\"\r\n                    value={motangangon}\r\n                    onChange={(e) => setMoTaNganGon(e.target.value)}\r\n                  ></textarea>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"motachitiet\">Mô tả chi tiết</label>\r\n                  <CKEditor\r\n                    data={motachitiet}\r\n                    editor={ClassicEditor}\r\n                    onChange={(event, editor) => {\r\n                      const data = editor.getData();\r\n                      setMoTaChiTiet(data);\r\n                    }}\r\n                    config={{\r\n                      ckfinder: {\r\n                        uploadUrl: \"http://localhost:3005/api/v1/phong/uploads\",\r\n                      },\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary py-2 px-4\"\r\n                  onClick={handleSubmit}\r\n                >\r\n                  Thêm\r\n                </button>\r\n                <p className=\"text-danger my-2\">{msgError}</p>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemPhong;\r\n","import React from \"react\";\r\nimport DanhSachPhong from \"../../../components/quanly/phong/DanhSachPhong\";\r\nimport ThemPhong from \"../../../components/quanly/phong/ThemPhong\";\r\n\r\nconst PhongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">QUẢN LÝ PHÒNG</h1>\r\n      <ThemPhong />\r\n      <DanhSachPhong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhongPage;\r\n","import React from \"react\";\r\n\r\nconst LoaiPage = () => {\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5\">\r\n        <h1 className=\"text-center\">QUẢN LÝ DANH MỤC LOẠI</h1>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaiPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/dat-phong\",\r\n});\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport chroma from \"chroma-js\";\r\nimport { useHistory } from \"react-router\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport Select from \"react-select\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\n\r\nconst DanhSachPhong = () => {\r\n  const [dsPhong, setDsPhong] = useState([]);\r\n  //   const [phieuthue, setPhieuThue] = useState([]);\r\n  const [timkiem, setTimKiem] = useState({\r\n    value: \"%25%25\",\r\n    label: \"-- Tất cả --\",\r\n    color: \"#191919\",\r\n  });\r\n\r\n  const dot = (color = \"#ccc\") => ({\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n\r\n    \":before\": {\r\n      backgroundColor: color,\r\n      borderRadius: 10,\r\n      content: '\" \"',\r\n      display: \"block\",\r\n      marginRight: 8,\r\n      height: 10,\r\n      width: 10,\r\n    },\r\n  });\r\n\r\n  const colourStyles = {\r\n    control: (styles) => ({ ...styles, backgroundColor: \"white\" }),\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n      const color = chroma(data.color);\r\n      return {\r\n        ...styles,\r\n        backgroundColor: isDisabled\r\n          ? null\r\n          : isSelected\r\n          ? data.color\r\n          : isFocused\r\n          ? color.alpha(0.1).css()\r\n          : null,\r\n        color: isDisabled\r\n          ? \"#ccc\"\r\n          : isSelected\r\n          ? chroma.contrast(color, \"white\") > 2\r\n            ? \"white\"\r\n            : \"black\"\r\n          : data.color,\r\n        cursor: isDisabled ? \"not-allowed\" : \"default\",\r\n\r\n        \":active\": {\r\n          ...styles[\":active\"],\r\n          backgroundColor:\r\n            !isDisabled && (isSelected ? data.color : color.alpha(0.3).css()),\r\n        },\r\n      };\r\n    },\r\n    input: (styles) => ({ ...styles, ...dot() }),\r\n    placeholder: (styles) => ({ ...styles, ...dot() }),\r\n    singleValue: (styles, { data }) => ({ ...styles, ...dot(data.color) }),\r\n  };\r\n\r\n  const optionsLocTTP = [\r\n    { value: \"%25%25\", label: \"-- Tất cả --\", color: \"#191919\" },\r\n    { value: \"0\", label: \"Sẵn sàng\", color: \"#2640eb\" },\r\n    { value: \"1\", label: \"Đang được đặt\", color: \"#24e3dd\" },\r\n    { value: \"2\", label: \"Đang sử dụng\", color: \"#2fed39\" },\r\n    { value: \"3\", label: \"Đã trả phòng\", color: \"#b3e33b\" },\r\n    { value: \"4\", label: \"Chưa thanh toán\", color: \"#f5c536\" },\r\n  ];\r\n\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await PhongFinder.get(\"/danh-sach-phong\");\r\n        setDsPhong(res.data.data.phong);\r\n\r\n        // const res_pt = await DatPhongFinder.get(\"/danh-sach-dang-hoat-dong\");\r\n        // setPhieuThue(res_pt.data.data.datphong);\r\n        // // console.log(res);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsPhong]);\r\n\r\n  const renderStyle = (tt) => {\r\n    let buttonStyle;\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        buttonStyle = {\r\n          height: \"160px\",\r\n          fontSize: \"2rem\",\r\n          backgroundColor: \"#2640eb\",\r\n        };\r\n        break;\r\n      case \"1\":\r\n        buttonStyle = {\r\n          height: \"160px\",\r\n          fontSize: \"2rem\",\r\n          backgroundColor: \"#24e3dd\",\r\n        };\r\n        break;\r\n      case \"2\":\r\n        buttonStyle = {\r\n          height: \"160px\",\r\n          fontSize: \"2rem\",\r\n          backgroundColor: \"#2fed39\",\r\n        };\r\n        break;\r\n      case \"3\":\r\n        buttonStyle = {\r\n          height: \"160px\",\r\n          fontSize: \"2rem\",\r\n          backgroundColor: \"#b3e33b\",\r\n        };\r\n        break;\r\n      case \"4\":\r\n        buttonStyle = {\r\n          height: \"160px\",\r\n          fontSize: \"2rem\",\r\n          backgroundColor: \"#f5c536\",\r\n        };\r\n        break;\r\n      case \"5\":\r\n        buttonStyle = {\r\n          height: \"160px\",\r\n          fontSize: \"2rem\",\r\n          backgroundColor: \"#f09e41\",\r\n        };\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return buttonStyle;\r\n  };\r\n\r\n  const handleClick = (e, tt, phongid) => {\r\n    e.stopPropagation();\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        //   Mo phong\r\n        hi.push(`/quan-ly/phong/tinh-trang/${phongid}/mophong`);\r\n        break;\r\n      case \"1\":\r\n        // Check iN\r\n        hi.push(`/quan-ly/phong/tinh-trang/${phongid}/checkin`);\r\n        break;\r\n      case \"2\":\r\n        //Sd dich vu - check out\r\n        hi.push(`/quan-ly/phong/tinh-trang/${phongid}/su-dung-dich-vu`);\r\n        break;\r\n      case \"3\":\r\n        // Lap hoa don\r\n        hi.push(\"/quan-ly/phong/hoa-don\");\r\n        break;\r\n      case \"4\":\r\n        hi.push(\"/quan-ly/phong/hoa-don\");\r\n        // Cho thanh toán\r\n        break;\r\n      case \"5\":\r\n        // DOn phong\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const { setViTriTk } = useContext(AccountContext);\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      <div className=\"col-12 mb-4\">\r\n        <Select\r\n          className=\"font-werght-bold\"\r\n          options={optionsLocTTP}\r\n          value={timkiem}\r\n          onChange={async (value, action) => {\r\n            if (action.action === \"select-option\") {\r\n              setTimKiem(value);\r\n              const res = await PhongFinder.get(\r\n                `/loc-theo-trang-thai/${value.value}`\r\n              );\r\n              setDsPhong(res.data.data.phong);\r\n            }\r\n          }}\r\n          styles={colourStyles}\r\n        />\r\n      </div>\r\n      {dsPhong.map((phong) => {\r\n        return (\r\n          <div className=\"col-2 mb-4 \" key={phong.ten}>\r\n            <ContextMenuTrigger id={phong.ten}>\r\n              <button\r\n                className=\"btn btn-block\"\r\n                style={renderStyle(phong.trangthai)}\r\n                onClick={(e) => handleClick(e, phong.trangthai, phong.ten)}\r\n              >\r\n                {phong.ten}\r\n              </button>\r\n              <p\r\n                className=\"text-center \"\r\n                style={{ fontSize: \"0.8rem\", margin: \"0\" }}\r\n              >\r\n                <strong>{NumberFormat(phong.giaphongtheongay)}</strong> VND\r\n              </p>\r\n              <p className=\"text-center \" style={{ fontSize: \"0.75rem\" }}>\r\n                <strong>{NumberFormat(phong.giaphongtheogio)}</strong> VND\r\n              </p>\r\n            </ContextMenuTrigger>\r\n            <ContextMenu\r\n              id={phong.ten}\r\n              style={{\r\n                cursor: \"pointer\",\r\n                background: \"white\",\r\n                zIndex: 1,\r\n                padding: \"0.5rem\",\r\n                border: \"1px solid #191919\",\r\n              }}\r\n            >\r\n              {phong.trangthai === 0 ? (\r\n                \"\"\r\n              ) : (\r\n                <MenuItem\r\n                  className=\"border border-dark border-top-0 border-left-0 border-right-0 p-1\"\r\n                  onClick={async () => {\r\n                    const res = await DatPhongFinder.get(\r\n                      `/danh-sach/${phong.ten}`\r\n                    );\r\n                    if (res.data.data.datphong.id) {\r\n                      hi.push(\r\n                        `/quan-ly/phong/dat-phong/${res.data.data.datphong.id}`\r\n                      );\r\n                    }\r\n                  }}\r\n                >\r\n                  Phiếu thuê phòng\r\n                </MenuItem>\r\n              )}\r\n              <MenuItem\r\n                className=\"border border-dark border-top-0 border-left-0 border-right-0 p-1\"\r\n                onClick={async () => {\r\n                  setViTriTk(phong.ten);\r\n                  hi.push(`/quan-ly/ql-tai-san/thong-tin/`);\r\n                }}\r\n              >\r\n                Tài sản\r\n              </MenuItem>\r\n              <MenuItem divider />\r\n            </ContextMenu>\r\n          </div>\r\n        );\r\n      })}\r\n      {/* <div className=\"col-3 mb-4\">\r\n        <button\r\n          className=\"btn btn-warning btn-block\"\r\n          style={{ height: \"160px\", fontSize: \"2rem\" }}\r\n        >\r\n          AA\r\n        </button>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachPhong;\r\n","import React from \"react\";\r\nimport DanhSachPhong from \"../../../components/quanly/datphong/DanhSachPhong\";\r\n\r\nconst TinhTrangPhongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Tình trạng phòng</h1>\r\n      <DanhSachPhong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TinhTrangPhongPage;\r\n","import React, { useContext, useState } from \"react\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\n\r\nconst TimKiemPhieuThue = () => {\r\n  const { setDsDatPhong } = useContext(AccountContext);\r\n\r\n  const [ten, setTen] = useState(\"\");\r\n  const [tt, setTt] = useState(\"\");\r\n  return (\r\n    <div>\r\n      <div className=\"form-row\">\r\n        <div className=\"col\">\r\n          {\" \"}\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={ten}\r\n              onChange={async (e) => {\r\n                setTen(e.target.value);\r\n\r\n                const res = await DatPhongFinder.get(\r\n                  `/tim-kiem-pt/%25${e.target.value}%25/%25${tt}%25`\r\n                );\r\n                console.log(res);\r\n                setDsDatPhong(res.data.data.datphong);\r\n              }}\r\n              placeholder=\"Tìm kiếm theo tên khách hàng ...\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-group\">\r\n            <select\r\n              className=\"form-control\"\r\n              value={tt}\r\n              onChange={async (e) => {\r\n                setTt(e.target.value);\r\n                const res = await DatPhongFinder.get(\r\n                  `/tim-kiem-pt/%25${ten}%25/%25${e.target.value}%25`\r\n                );\r\n                console.log(res);\r\n                setDsDatPhong(res.data.data.datphong);\r\n              }}\r\n            >\r\n              <option value=\"\" disabled>\r\n                Chọn ...\r\n              </option>\r\n              <option value=\"\">--Tất cả--</option>\r\n              <option value=\"1\">Đang hoạt động</option>\r\n              <option value=\"0\">Đã thanh toán</option>\r\n              <option value=\"2\">Đã bị hủy</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimKiemPhieuThue;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\nimport { useHistory } from \"react-router\";\r\nimport TimKiemPhieuThue from \"./TimKiemPhieuThue\";\r\nconst DanhSachDatPhong = () => {\r\n  const { msgDatPhongActionSuccess, dsDatPhong, setDsDatPhong } =\r\n    useContext(AccountContext);\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await DatPhongFinder.get(\"/danh-sach-full\");\r\n        setDsDatPhong(res.data.data.datphong);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsDatPhong]);\r\n\r\n  const handleDPSelected = async (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/phong/dat-phong/${id}`);\r\n  };\r\n\r\n  const renderTrangThaiDP = (tt) => {\r\n    let result;\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        result = \"Đã thanh toán\";\r\n        break;\r\n      case \"1\":\r\n        result = \"Đang hoạt động\";\r\n        break;\r\n      case \"2\":\r\n        result = \"Đã bị hủy\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const renderTrangThaiPhong = (tt) => {\r\n    let trangthai = \"\";\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        trangthai = \"Sẵn sàng\";\r\n        break;\r\n      case \"1\":\r\n        trangthai = \"Đang được đặt\";\r\n        break;\r\n      case \"2\":\r\n        trangthai = \"Đang sử dụng\";\r\n        break;\r\n      case \"3\":\r\n        trangthai = \"Đã trả phòng.\";\r\n        break;\r\n      case \"4\":\r\n        trangthai = \"Chưa thanh toán.\";\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    return trangthai;\r\n  };\r\n\r\n  const ttphongStyle = (tt) => {\r\n    let sty;\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        sty = {\r\n          height: \"16px\",\r\n          border: \"1px solid black\",\r\n          borderRadius: \"8px\",\r\n          marginRight: \"0.5rem\",\r\n          backgroundColor: \"#2640eb\",\r\n        };\r\n        break;\r\n      case \"1\":\r\n        sty = {\r\n          height: \"16px\",\r\n          border: \"1px solid black\",\r\n          borderRadius: \"8px\",\r\n          marginRight: \"0.5rem\",\r\n          backgroundColor: \"#24e3dd\",\r\n        };\r\n        break;\r\n      case \"2\":\r\n        sty = {\r\n          height: \"16px\",\r\n          border: \"1px solid black\",\r\n          borderRadius: \"8px\",\r\n          marginRight: \"0.5rem\",\r\n          backgroundColor: \"#2fed39\",\r\n        };\r\n        break;\r\n      case \"3\":\r\n        sty = {\r\n          height: \"16px\",\r\n          border: \"1px solid black\",\r\n          borderRadius: \"8px\",\r\n          marginRight: \"0.5rem\",\r\n          backgroundColor: \"#b3e33b\",\r\n        };\r\n        break;\r\n      case \"4\":\r\n        sty = {\r\n          height: \"16px\",\r\n          border: \"1px solid black\",\r\n          borderRadius: \"8px\",\r\n          marginRight: \"0.5rem\",\r\n          backgroundColor: \"#f5c536\",\r\n        };\r\n        break;\r\n      case \"5\":\r\n        sty = {\r\n          height: \"16px\",\r\n          border: \"1px solid black\",\r\n          borderRadius: \"8px\",\r\n          marginRight: \"0.5rem\",\r\n          backgroundColor: \"#f09e41\",\r\n        };\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return sty;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-5\">\r\n        <TimKiemPhieuThue />\r\n        <p className=\"text-center text-success\">{msgDatPhongActionSuccess}</p>\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Mã phiếu</th>\r\n              <th>Phòng</th>\r\n              <th>Khách hàng</th>\r\n              <th>SDT</th>\r\n              <th>Trạng thái DP</th>\r\n              <th>Trạng thái phòng</th>\r\n              <th>Tiền dịch vụ</th>\r\n              <th>Xem</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsDatPhong.map((datphong) => {\r\n              return (\r\n                <tr key={datphong.id}>\r\n                  <td className=\"align-middle text-center\">{datphong.id}</td>\r\n                  <td className=\"align-middle\">{datphong.phong_id}</td>\r\n                  <td className=\"align-middle\">{datphong.kh_name}</td>\r\n                  <td className=\"align-middle\">{datphong.kh_sdt}</td>\r\n                  <td\r\n                    className={`align-middle ${\r\n                      datphong.trangthai === 0\r\n                        ? \"text-success\"\r\n                        : datphong.trangthai === 2\r\n                        ? \"text-danger\"\r\n                        : \"text-info\"\r\n                    }`}\r\n                  >\r\n                    <u>{renderTrangThaiDP(datphong.trangthai)}</u>\r\n                  </td>\r\n                  <td className=\"align-middle\">\r\n                    <button\r\n                      type=\"button\"\r\n                      style={\r\n                        datphong.trangthai === 0\r\n                          ? {\r\n                              height: \"16px\",\r\n                              border: \"1px solid black\",\r\n                              borderRadius: \"8px\",\r\n                              marginRight: \"0.5rem\",\r\n                              background: \"green\",\r\n                            }\r\n                          : datphong.trangthai === 2\r\n                          ? {\r\n                              height: \"16px\",\r\n                              border: \"1px solid black\",\r\n                              borderRadius: \"8px\",\r\n                              marginRight: \"0.5rem\",\r\n                              background: \"red\",\r\n                            }\r\n                          : ttphongStyle(datphong.tt_phong)\r\n                      }\r\n                    ></button>\r\n                    {datphong.trangthai === 0\r\n                      ? \"Đã thanh toán\"\r\n                      : datphong.trangthai === 2\r\n                      ? \"Đã bị hủy\"\r\n                      : renderTrangThaiPhong(datphong.tt_phong)}\r\n                  </td>\r\n                  <td className=\"text-right align-middle\">\r\n                    {NumberFormat(datphong.tongtien)} <b>VND</b>\r\n                  </td>\r\n\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {\" \"}\r\n                    {datphong.trangthai !== 2 ? (\r\n                      <i\r\n                        className=\"far fa-eye text-primary\"\r\n                        onClick={(e) => handleDPSelected(e, datphong.id)}\r\n                      >\r\n                        &nbsp;Xem\r\n                      </i>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachDatPhong;\r\n","import React from \"react\";\r\nimport DanhSachDatPhong from \"../../../../components/quanly/datphong/DanhSachDatPhong\";\r\n\r\nconst DanhSachDatPhongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">QUẢN LÝ PHIẾU THUÊ</h1>\r\n      <DanhSachDatPhong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachDatPhongPage;\r\n","import React, { useState } from \"react\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport {\r\n  convertTime,\r\n  NormalizeDate,\r\n  NumberFormat,\r\n} from \"../../../utils/DataHandler\";\r\nconst CTDPSuDungDichVu = ({ id }) => {\r\n  const [dsDichVu, setDsDichVu] = useState([]);\r\n  const handleClick = async () => {\r\n    try {\r\n      const res = await DatPhongFinder.get(`/danh-sach-dich-vu/${id}`);\r\n      setDsDichVu(res.data.data.datphong_chitiet);\r\n    } catch (er) {\r\n      console.log(er.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-info px-4\"\r\n        type=\"button\"\r\n        onClick={handleClick}\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xemdv`}\r\n      >\r\n        Dịch vụ\r\n      </button>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xemdv`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Danh sách dịch vụ đã sử dụng</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\"></div>\r\n            <table className=\"table table-hover \">\r\n              <thead>\r\n                <tr>\r\n                  <th>Tên dịch vụ</th>\r\n                  <th className=\"text-right\">Đơn giá</th>\r\n                  <th className=\"text-center align-middle\">Ngày sử dụng</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dsDichVu.map((dvsd) => {\r\n                  return (\r\n                    <tr\r\n                      className=\"border border-left-0 border-right-0 border-top-0 \"\r\n                      key={dvsd.id}\r\n                    >\r\n                      <td className=\"align-middle\">{dvsd.dvname}</td>\r\n                      <td className=\"align-middle text-right\">\r\n                        {NumberFormat(dvsd.gia)} VND\r\n                      </td>\r\n\r\n                      <td className=\"align-middle text-center\">\r\n                        {NormalizeDate(dvsd.ngaysd)}&nbsp;\r\n                        {convertTime(dvsd.ngaysd)}\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                OK\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CTDPSuDungDichVu;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport {\r\n  convertTime,\r\n  NormalizeDate,\r\n  NumberFormat,\r\n} from \"../../../utils/DataHandler\";\r\nimport CTDPSuDungDichVu from \"./CTDPSuDungDichVu\";\r\nconst ChiTietDatPhong = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [dpSelected, setDPSelected] = useState([]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await DatPhongFinder.get(`/danh-sach-full/${id}`);\r\n        setDPSelected(res.data.data.datphong);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setDPSelected, id]);\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/phong/dat-phong\");\r\n  };\r\n  const renderTrangThaiDP = (tt) => {\r\n    let result;\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        result = \"Đã thanh toán\";\r\n        break;\r\n      case \"1\":\r\n        result = \"Đang hoạt động\";\r\n        break;\r\n      case \"2\":\r\n        result = \"Đã bị hủy\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary mt-5\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        <div className=\"mt-5 ml-2\">\r\n          <CTDPSuDungDichVu id={id} />\r\n        </div>\r\n      </div>\r\n\r\n      <h4 className=\"mt-3 mb-3\">PHÒNG: {dpSelected.phong_id}</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên khách hàng</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.kh_name}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Số điện thoại</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.kh_sdt}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Chứng minh nhân dân</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.kh_cmnd}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Trạng thái</td>\r\n            <td className=\"col-9 pl-2\">\r\n              <u\r\n                className={\r\n                  dpSelected.trangthai === 0 ? \"text-success\" : \"text-info\"\r\n                }\r\n              >\r\n                {renderTrangThaiDP(dpSelected.trangthai)}\r\n              </u>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Hình thức đặt phòng</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.hinhthucdp}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ngày đặt phòng</td>\r\n            <td className=\"col-9 pl-2\">\r\n              Ngày: {NormalizeDate(dpSelected.ngaydat)}, lúc{\" \"}\r\n              {convertTime(dpSelected.ngaydat)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Check In</td>\r\n            <td className=\"col-9 pl-2\">\r\n              Ngày: {NormalizeDate(dpSelected.checkin)}, lúc{\" \"}\r\n              {convertTime(dpSelected.checkin)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Check Out</td>\r\n            <td className=\"col-9 pl-2\">\r\n              Ngày: {NormalizeDate(dpSelected.checkout)}, lúc{\" \"}\r\n              {convertTime(dpSelected.checkout)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Khách hàng Check In</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {dpSelected.kh_checkin\r\n                ? \"Ngày:\" +\r\n                  NormalizeDate(dpSelected.kh_checkin) +\r\n                  \", lúc: \" +\r\n                  convertTime(dpSelected.kh_checkin)\r\n                : \"Khách hàng chưa check in\"}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Khách hàng Check Out\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              {dpSelected.kh_checkout\r\n                ? \"Ngày:\" +\r\n                  NormalizeDate(dpSelected.kh_checkout) +\r\n                  \", lúc: \" +\r\n                  convertTime(dpSelected.kh_checkin)\r\n                : \"Khách hàng chưa check out\"}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Hình thức thuê</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.kieuthue}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Giá thuê theo{\" \"}\r\n              {dpSelected.kieuthue === \"Thuê theo ngày\" ? \"ngày\" : \"giờ\"}\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(dpSelected.giathue)}&nbsp;<b>VND</b>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Số {dpSelected.kieuthue === \"Thuê theo ngày\" ? \"ngày\" : \"giờ\"}{\" \"}\r\n              thuê\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              {dpSelected.sotgthue} &nbsp;\r\n              {dpSelected.kieuthue === \"Thuê theo ngày\" ? \"ngày\" : \"giờ\"}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tiền cọc</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(dpSelected.tiencoc)}&nbsp;<b>VND</b>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Tổng tiền sử dụng dịch vụ\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(dpSelected.tongtien)}&nbsp;<b>VND</b>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên người thực hiện</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.nv}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietDatPhong;\r\n","import React from \"react\";\r\nimport ChiTietDatPhong from \"../../../../components/quanly/datphong/ChiTietDatPhong\";\r\n\r\nconst ChiTietDatPhongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Thông tin phiếu thuê chi tiết</h1>\r\n      <ChiTietDatPhong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietDatPhongPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/dp-online\",\r\n});\r\n","import React, { useContext, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport DatPhongOnlineFinder from \"../../../apis/DatPhongOnlineFinder\";\r\n\r\nconst TimKiemDPOl = () => {\r\n  const { setDsDpOnline } = useContext(AccountContext);\r\n  const [ten, setTen] = useState(\"\");\r\n  return (\r\n    <div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={ten}\r\n          onChange={async (e) => {\r\n            setTen(e.target.value);\r\n\r\n            const res = await DatPhongOnlineFinder.get(\r\n              `/tim-kiem/%25${e.target.value}%25/`\r\n            );\r\n            // console.log(res);\r\n            setDsDpOnline(res.data.data.dponline);\r\n          }}\r\n          placeholder=\"Tìm kiếm theo tên khách hàng ...\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimKiemDPOl;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport DatPhongOnlineFinder from \"../../../apis/DatPhongOnlineFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { convertTime, NormalizeDate } from \"../../../utils/DataHandler\";\r\nimport TimKiemDPOl from \"./TimKiemDPOl\";\r\nconst DanhSachDatPhongOnline = () => {\r\n  const { dsDpOnline, setDsDpOnline } = useContext(AccountContext);\r\n  let hi = useHistory();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await DatPhongOnlineFinder.get(\"/danh-sach\");\r\n        if (res.data.status === \"ok\") {\r\n          setDsDpOnline(res.data.data.dponline);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsDpOnline]);\r\n\r\n  const handleDPOLSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/phong/dat-phong-online/${id}`);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-5\">\r\n        <TimKiemDPOl />\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Tên khách hàng</th>\r\n              <th>SDT</th>\r\n              <th>Check In</th>\r\n              <th>Check Out</th>\r\n              <th>Số phòng</th>\r\n              <th>Loại phòng</th>\r\n              <th>Trạng thái</th>\r\n              <th>Xem</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsDpOnline.map((dpol) => {\r\n              return (\r\n                <tr key={dpol.id} className=\"text-center\">\r\n                  <td className=\"align-middle\">{dpol.khname}</td>\r\n                  <td className=\"align-middle\">{dpol.khsdt}</td>\r\n                  <td>\r\n                    {NormalizeDate(dpol.checkin)}&nbsp;\r\n                    {convertTime(dpol.checkin)}\r\n                  </td>\r\n                  <td>\r\n                    {NormalizeDate(dpol.checkout)}&nbsp;\r\n                    {convertTime(dpol.checkout)}\r\n                  </td>\r\n                  <td className=\"align-middle\">{dpol.soluongphong}</td>\r\n                  <td className=\"align-middle\">{dpol.loaiphong}</td>\r\n                  <td>\r\n                    <i\r\n                      className={\r\n                        dpol.trangthai === 0\r\n                          ? \"far fa-circle text-info\"\r\n                          : dpol.trangthai === 1\r\n                          ? \"far fa-check-circle text-success\"\r\n                          : \"fas fa-ban text-danger\"\r\n                      }\r\n                    >\r\n                      &nbsp;\r\n                      {dpol.trangthai === 0\r\n                        ? \"Đang chờ\"\r\n                        : dpol.trangthai === 1\r\n                        ? \"Đã đáp ứng\"\r\n                        : \"Không thể đáp ứng\"}\r\n                    </i>\r\n                  </td>\r\n                  <td className=\"align-middle\" style={{ cursor: \"pointer\" }}>\r\n                    {\" \"}\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handleDPOLSelected(e, dpol.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachDatPhongOnline;\r\n","import React from \"react\";\r\nimport DanhSachDatPhongOnline from \"../../../components/quanly/datphongonline/DanhSachDatPhongOnline\";\r\n\r\nconst DatPhongOnlinePage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">ĐẶT PHÒNG ONLINE</h1>\r\n      <DanhSachDatPhongOnline />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DatPhongOnlinePage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport DatPhongOnlineFinder from \"../../../apis/DatPhongOnlineFinder\";\r\nimport { convertTime, NormalizeDate } from \"../../../utils/DataHandler\";\r\nconst DPOLChiTiet = () => {\r\n  let hi = useHistory();\r\n  const { id } = useParams();\r\n  const [dpolSelected, setDPOLSelected] = useState([]);\r\n  const [tt, setTT] = useState(\"0\");\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await DatPhongOnlineFinder.get(`/danh-sach/${id}`);\r\n        setDPOLSelected(res.data.data.dponline);\r\n        setTT(res.data.data.dponline.trangthai + \"\");\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id, setDPOLSelected, setTT]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/phong/dat-phong-online\");\r\n  };\r\n\r\n  const handleConfirm = async (tt) => {\r\n    try {\r\n      const res = await DatPhongOnlineFinder.put(`/confirm/${id}`, { tt: tt });\r\n      if (res.data.status === \"ok\") {\r\n        setTT(tt);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-secondary mt-3\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n\r\n        {tt === \"0\" ? (\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary mt-3 ml-2\"\r\n            onClick={() => handleConfirm(\"1\")}\r\n          >\r\n            Đã đáp ứng\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        {tt === \"0\" ? (\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-danger mt-3 ml-2\"\r\n            onClick={() => handleConfirm(\"2\")}\r\n          >\r\n            Không thể đáp ứng\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      {/* <p className=\"text-center text-success\">{msgDichVuActionSuccess}</p> */}\r\n      <h4 className=\"mt-3 mb-3\">MÃ ĐƠN: {dpolSelected.id}</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên khách hàng</td>\r\n            <td className=\"col-9 pl-2\">{dpolSelected.khname}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Số điện thoại</td>\r\n            <td className=\"col-9 pl-2\">{dpolSelected.khsdt}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Số tài khoản</td>\r\n            <td className=\"col-9 pl-2\">{dpolSelected.khstk}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Thời điểm nhận phòng\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NormalizeDate(dpolSelected.checkin)}&nbsp;\r\n              {convertTime(dpolSelected.checkin)}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Thời điểm trả phòng</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NormalizeDate(dpolSelected.checkout)}&nbsp;\r\n              {convertTime(dpolSelected.checkout)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Thời điểm đặt phòng</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NormalizeDate(dpolSelected.ngaydat)}&nbsp;\r\n              {convertTime(dpolSelected.ngaydat)}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Trạng thái</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {\" \"}\r\n              <i\r\n                className={\r\n                  tt === \"0\"\r\n                    ? \"far fa-circle text-info\"\r\n                    : tt === \"1\"\r\n                    ? \"far fa-check-circle text-success\"\r\n                    : \"fas fa-ban text-danger\"\r\n                }\r\n              >\r\n                &nbsp;\r\n                {tt === \"0\"\r\n                  ? \"Đang chờ\"\r\n                  : tt === \"1\"\r\n                  ? \"Đã đáp ứng\"\r\n                  : \"Không thể đáp ứng\"}\r\n              </i>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Số lượng phòng</td>\r\n            <td className=\"col-9 pl-2\">{dpolSelected.soluongphong}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Số lượng người lớn</td>\r\n            <td className=\"col-9 pl-2\">{dpolSelected.nguoilon}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Số lượng trẻ con</td>\r\n            <td className=\"col-9 pl-2\">{dpolSelected.trecon}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Loại phòng</td>\r\n            <td className=\"col-9 pl-2\">{dpolSelected.loaiphong}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DPOLChiTiet;\r\n","import React from \"react\";\r\nimport DPOLChiTiet from \"../../../../components/quanly/datphongonline/DPOLChiTiet\";\r\n\r\nconst DatPhongOnlineChiTietPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">ĐẶT PHÒNG ONLINE CHI TIẾT</h1>\r\n      <DPOLChiTiet />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DatPhongOnlineChiTietPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/hoa-don\",\r\n});\r\n","import React from \"react\";\r\nimport HoaDonFinder from \"../../../apis/HoaDonFinder\";\r\nimport { useHistory } from \"react-router\";\r\nconst XoaHoaDon = ({ id }) => {\r\n  let hi = useHistory();\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      await HoaDonFinder.delete(`/xoa/${id}`);\r\n      hi.push(\"/quan-ly/phong\");\r\n      hi.push(\"/quan-ly/phong/hoa-don\");\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoahd`}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoahd`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa hóa đơn này không?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaHoaDon;\r\n","import React, { useState } from \"react\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport HoaDonFinder from \"../../../apis/HoaDonFinder\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst SuaHoaDon = ({ id }) => {\r\n  let hi = useHistory();\r\n  const [nvId, setNvId] = useState(\"\");\r\n  const [vat, setVat] = useState(\"10\");\r\n  const [hinhthuctt, setHinhThucTT] = useState(\"1\");\r\n  const [dsNhanVien, setDsNhanVien] = useState([]);\r\n\r\n  const [old, setOld] = useState({});\r\n  const fetchData = async () => {\r\n    try {\r\n      const res = await NhanVienFinder.get(\"/danh-sach-nhan-vien\");\r\n      setDsNhanVien(res.data.data.nhanvien);\r\n\r\n      const res_hd = await HoaDonFinder.get(`/danh-sach/${id}`);\r\n      const hdSelected = res_hd.data.data.hoadon;\r\n      setNvId(hdSelected.nv_id);\r\n      setVat(hdSelected.vat);\r\n      setHinhThucTT(hdSelected.hinhthuctt);\r\n      setOld({\r\n        id: id,\r\n        nv: hdSelected.nv_id,\r\n        hinhthuctt: hdSelected.hinhthuctt,\r\n        vat: hdSelected.vat,\r\n      });\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  const handleUpdate = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      if (vat) {\r\n        const res = await HoaDonFinder.put(\"/sua\", {\r\n          id: id,\r\n          nv: nvId,\r\n          hinhthuctt: hinhthuctt,\r\n          vat: vat,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: id,\r\n            nv: nvId,\r\n            hinhthuctt: hinhthuctt,\r\n            vat: vat,\r\n          };\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old },\r\n              newdata: { new: newd },\r\n              tbl: \"Hóa đơn\",\r\n            });\r\n          }\r\n          hi.push(\"/quan-ly/phong\");\r\n          hi.push(\"/quan-ly/phong/hoa-don\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-warning\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}suahoadon`}\r\n        onClick={fetchData}\r\n      >\r\n        &nbsp;Sửa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}suahoadon`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Sửa thông tin hóa đơn</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body \">\r\n              <div className=\"input-group-prepend form-group\">\r\n                <label className=\"input-group-text\" htmlFor={`dsnhanvien${id}`}>\r\n                  Người lập phiếu\r\n                </label>\r\n                <select\r\n                  id={`dsnhanvien${id}`}\r\n                  value={nvId}\r\n                  className=\"custom-select\"\r\n                  onChange={(e) => setNvId(e.target.value)}\r\n                >\r\n                  <option value=\"\" disabled>\r\n                    --Chọn--\r\n                  </option>\r\n                  {dsNhanVien.map((nv) => {\r\n                    return (\r\n                      <option value={nv.id} key={nv.id}>\r\n                        {nv.name} - {nv.sdt} - {nv.account}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-row\">\r\n                <div className=\"col\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor={`hinhthuctt${id}`}>\r\n                      Hình thức thanh toán\r\n                    </label>\r\n                    <select\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      value={hinhthuctt}\r\n                      id={`hinhthuctt${id}`}\r\n                      onChange={(e) => setHinhThucTT(e.target.value)}\r\n                    >\r\n                      <option value=\"1\">Tiền mặt</option>\r\n                      <option value=\"2\">Chuyển khoản</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor={`vat${id}`} className=\"modal-text\">\r\n                      Thuế giá trị gia tăng (%)\r\n                    </label>\r\n                    <CurrencyInput\r\n                      id={`vat${id}`}\r\n                      value={vat}\r\n                      decimalSeparator=\",\"\r\n                      precision=\"2\"\r\n                      className=\"form-control text-right\"\r\n                      suffix=\" %\"\r\n                      onValueChange={(value) => {\r\n                        setVat(value);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-warning font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleUpdate(e)}\r\n              >\r\n                Sửa\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaHoaDon;\r\n","import React, { useContext, useState } from \"react\";\r\nimport HoaDonFinder from \"../../../apis/HoaDonFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\n\r\nconst TimKiemHoaDon = () => {\r\n  const { setDsHoaDon } = useContext(AccountContext);\r\n  const [ten, setTen] = useState(\"\");\r\n  const [nv, setNv] = useState(\"\");\r\n  return (\r\n    <div>\r\n      <div className=\"form-row\">\r\n        <div className=\"col\">\r\n          {\" \"}\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={ten}\r\n              onChange={async (e) => {\r\n                setTen(e.target.value);\r\n\r\n                const res = await HoaDonFinder.get(\r\n                  `/tim-kiem-hoa-don/%25${e.target.value}%25/%25${nv}%25`\r\n                );\r\n                // console.log(res);\r\n                setDsHoaDon(res.data.data.hoadon);\r\n              }}\r\n              placeholder=\"Tìm kiếm theo tên khách hàng ...\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={nv}\r\n              onChange={async (e) => {\r\n                setNv(e.target.value);\r\n\r\n                const res = await HoaDonFinder.get(\r\n                  `/tim-kiem-hoa-don/%25${ten}%25/%25${e.target.value}%25`\r\n                );\r\n                // console.log(res);\r\n                setDsHoaDon(res.data.data.hoadon);\r\n              }}\r\n              placeholder=\"Tìm kiếm theo tên nhân viên ...\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimKiemHoaDon;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport HoaDonFinder from \"../../../apis/HoaDonFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { NormalizeDate, NumberFormat } from \"../../../utils/DataHandler\";\r\nimport XoaHoaDon from \"./XoaHoaDon\";\r\nimport SuaHoaDon from \"./SuaHoaDon\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport TimKiemHoaDon from \"./TimKiemHoaDon\";\r\n\r\nconst DanhSachHoaDon = () => {\r\n  let hi = useHistory();\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n  const { dsHoaDon, setDsHoaDon } = useContext(AccountContext);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await HoaDonFinder.get(\"/danh-sach\");\r\n        if (res.data.status === \"ok\") {\r\n          setDsHoaDon(res.data.data.hoadon);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsHoaDon]);\r\n\r\n  const handleHoaDonSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/phong/hoa-don/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-5\">\r\n        <TimKiemHoaDon />\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Mã hóa đơn</th>\r\n              <th>Khách hàng</th>\r\n              <th>Ngày lập</th>\r\n              <th>Trạng thái</th>\r\n              <th>Người lập</th>\r\n              <th>Tổng tiền</th>\r\n              <th>HTTT</th>\r\n              <th>Xem</th>\r\n              <th>Xóa/Sửa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsHoaDon.map((hoadon) => {\r\n              return (\r\n                <tr key={hoadon.id}>\r\n                  <td className=\"align-middle text-center\">{hoadon.id}</td>\r\n                  <td className=\"align-middle\">{hoadon.kh_name}</td>\r\n                  <td className=\"text-center \">\r\n                    {NormalizeDate(hoadon.ngaylap)}\r\n                  </td>\r\n                  <td className=\"align-middle\">\r\n                    {hoadon.trangthai === 0 ? (\r\n                      <i className=\"fas fa-ban text-danger\"></i>\r\n                    ) : (\r\n                      <i className=\"far fa-check-circle text-success\"></i>\r\n                    )}{\" \"}\r\n                    &nbsp;\r\n                    {hoadon.trangthai === 0\r\n                      ? \"Chưa thanh toán\"\r\n                      : \"Đã thanh toán\"}\r\n                  </td>\r\n\r\n                  <td className=\"align-middle\">{hoadon.nv_name}</td>\r\n                  <td className=\"text-right align-middle\">\r\n                    {NumberFormat(hoadon.tongtien)} <b>VND</b>\r\n                  </td>\r\n                  <td className=\"align-middle\">\r\n                    {hoadon.hinhthuctt === 1 ? \"Tiền mặt\" : \"Chuyển khoản\"}\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {\" \"}\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handleHoaDonSelected(e, hoadon.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {hoadon.trangthai === 0 ? (\r\n                      <SuaHoaDon id={hoadon.id} />\r\n                    ) : userrole === \"QL\" || userrole === \"Admin\" ? (\r\n                      <XoaHoaDon id={hoadon.id} />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachHoaDon;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport HoaDonFinder from \"../../../apis/HoaDonFinder\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport MultiSelect from \"react-multi-select-component\";\r\nimport { useHistory } from \"react-router\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst LapHoaDon = () => {\r\n  let hi = useHistory();\r\n  const [khId, setKhId] = useState(\"\");\r\n  const [nvId, setNvId] = useState(\"\");\r\n  const [vat, setVat] = useState(\"10\");\r\n  const [hinhthuctt, setHinhThucTT] = useState(\"1\");\r\n\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const [dsKhachHang, setDsKhachHang] = useState([]);\r\n  const [dsNhanVien, setDsNhanVien] = useState([]);\r\n  const [disableDSDP, setDisableDSDP] = useState(true);\r\n\r\n  const [optitionsDP, setOptionsDP] = useState([]);\r\n\r\n  const [dpsSelected, setDpsSelected] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getListKH = async () => {\r\n      try {\r\n        const res = await DatPhongFinder.get(\"/danh-sach-kh-lap-hoa-don\");\r\n        setDsKhachHang(res.data.data.datphong);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getListKH();\r\n\r\n    const getListNV = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\r\n          \"/danh-sach-nhan-vien-lap-hoa-don\"\r\n        );\r\n        // console.log(res.data.data.nhanvien);\r\n        setDsNhanVien(res.data.data.nhanvien);\r\n        //   setKHID(\"\");\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getListNV();\r\n  }, []);\r\n\r\n  const tinhTienPhat = (co, khco, thanhtien) => {\r\n    let tienphat;\r\n    const datediff = new Date(co) - new Date(khco);\r\n    if (datediff >= 0) {\r\n      tienphat = 0;\r\n    } else if (datediff < 0 && datediff >= -(3600 * 1000)) {\r\n      tienphat = thanhtien / 50; // 2%\r\n    } else if (datediff < -(3600 * 1000) && datediff >= -(3600 * 1000 * 2)) {\r\n      tienphat = thanhtien / 20; // 5%\r\n    } else if (\r\n      datediff < -(3600 * 1000 * 2) &&\r\n      datediff >= -(3600 * 1000 * 6)\r\n    ) {\r\n      tienphat = thanhtien / 10; // 10%\r\n    } else if (\r\n      datediff < -(3600 * 1000 * 6) &&\r\n      datediff >= -(3600 * 1000 * 24)\r\n    ) {\r\n      tienphat = (thanhtien * 15) / 100; // 15%\r\n    } else if (datediff < -(3600 * 1000 * 24)) {\r\n      tienphat = thanhtien / 4; // 25%\r\n    }\r\n    return tienphat;\r\n  };\r\n  const handleSubmit = async () => {\r\n    if (!khId) {\r\n      setMsgError(\"Khách hàng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!nvId) {\r\n      setMsgError(\"Người lập phiếu không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!vat) {\r\n      setMsgError(\"Thuế giá trị gia tăng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (dpsSelected.length === 0) {\r\n      setMsgError(\"Danh sách đặt phòng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await HoaDonFinder.post(\"/them\", {\r\n          nv: nvId,\r\n          khachhang_id: khId,\r\n          hinhthuctt: hinhthuctt,\r\n          vat: vat,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const hoadon_id_inserted = res.data.data.hoadon.id;\r\n          const hd = res.data.data.hoadon;\r\n          hd.chitiet = [];\r\n\r\n          dpsSelected.forEach(async (item) => {\r\n            const res_dpchitiet = await DatPhongFinder.get(\r\n              `danh-sach-full/${item.value}`\r\n            );\r\n            const dp = res_dpchitiet.data.data.datphong;\r\n\r\n            const tienphong = parseInt(dp.giathue) * parseInt(dp.sotgthue);\r\n            let tienphat = tinhTienPhat(dp.checkout, dp.kh_checkout, tienphong);\r\n            const tongtien = parseInt(dp.tongtien) + tienphong;\r\n            const tiencoc = dp.tiencoc;\r\n\r\n            const res_hdchitiet = await HoaDonFinder.post(\"/them-chi-tiet\", {\r\n              hoadon_id: hoadon_id_inserted,\r\n              datphong_id: item.value,\r\n              tienphat: tienphat,\r\n              tongtien: tongtien, // tong tiên phong và su dung dich vu\r\n              tiencoc: tiencoc,\r\n            });\r\n            if (res_hdchitiet.data.status === \"ok\") {\r\n              hd.chitiet.push(res_hdchitiet.data.data.hoadon_chitiet);\r\n              await PhongFinder.put(\"/update-tt\", {\r\n                ten: item.label,\r\n                trangthai: 4,\r\n              });\r\n              hi.push(`/quan-ly/phong/hoa-don/${hoadon_id_inserted}`);\r\n            }\r\n          });\r\n          ThemLichSu({\r\n            doing: \"Lập\",\r\n            olddata: {},\r\n            newdata: { new: hd },\r\n            tbl: \"Hóa Đơn\",\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChangeDsKH = async (e) => {\r\n    setKhId(e.target.value);\r\n    try {\r\n      const res = await DatPhongFinder.get(\r\n        `/danh-sach-theo-kh/${e.target.value}`\r\n      );\r\n      if (res.data.data.datphong.length === 0) {\r\n        setMsgError(\"Khách hàng này không đặt phòng nào, Mời chọn lại\");\r\n        setTimeout(() => {\r\n          setMsgError(\"\");\r\n        }, 3000);\r\n        setDisableDSDP(true);\r\n      } else {\r\n        setDpsSelected([]);\r\n        setDisableDSDP(false);\r\n        const options = [];\r\n        res.data.data.datphong.forEach((item) => {\r\n          const option = {\r\n            label: item.phong_id,\r\n            value: item.id + \"\",\r\n            disabled: item.tt_phong === 3 ? false : true,\r\n          };\r\n          options.push(option);\r\n        });\r\n        setOptionsDP(options);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div className=\"mt-5 mb-2 \">\r\n          <div id=\"laphoadon\">\r\n            <div className=\"card\">\r\n              <div className=\"card-header\" id=\"hoadoncard\">\r\n                <h5 className=\"mb-0\">\r\n                  <div\r\n                    className=\"text-primary collapsed\"\r\n                    data-toggle=\"collapse\"\r\n                    data-target=\"#formlaphoadon\"\r\n                    aria-expanded=\"false\"\r\n                    aria-controls=\"formlaphoadon\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    Lập hóa đơn\r\n                  </div>\r\n                </h5>\r\n              </div>\r\n              <div\r\n                id=\"formlaphoadon\"\r\n                className=\"collapse\"\r\n                aria-labelledby=\"hoadoncard\"\r\n                data-parent=\"#laphoadon\"\r\n              >\r\n                <div className=\"card-body px-5\">\r\n                  <form action=\"\">\r\n                    <div className=\"form-row\">\r\n                      <div className=\"col-6\">\r\n                        <div className=\"input-group-prepend form-group\">\r\n                          <label\r\n                            className=\"input-group-text\"\r\n                            htmlFor=\"dskhachhang\"\r\n                          >\r\n                            Khách hàng\r\n                          </label>\r\n                          <select\r\n                            id=\"dskhachhang\"\r\n                            value={khId}\r\n                            className=\"custom-select\"\r\n                            onChange={(e) => handleChangeDsKH(e)}\r\n                          >\r\n                            <option value=\"\" disabled>\r\n                              --Chọn--\r\n                            </option>\r\n                            {dsKhachHang.map((kh) => {\r\n                              return (\r\n                                <option value={kh.kh_id} key={kh.kh_id}>\r\n                                  {kh.kh_name} - {kh.kh_sdt}\r\n                                </option>\r\n                              );\r\n                            })}\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-6\">\r\n                        <div className=\"input-group-prepend form-group\">\r\n                          <label\r\n                            className=\"input-group-text\"\r\n                            htmlFor=\"dsnhanvien\"\r\n                          >\r\n                            Người lập phiếu\r\n                          </label>\r\n                          <select\r\n                            id=\"dsnhanvien\"\r\n                            value={nvId}\r\n                            className=\"custom-select\"\r\n                            onChange={(e) => setNvId(e.target.value)}\r\n                          >\r\n                            <option value=\"\" disabled>\r\n                              --Chọn--\r\n                            </option>\r\n                            {dsNhanVien.map((nv) => {\r\n                              return (\r\n                                <option value={nv.id} key={nv.id}>\r\n                                  {nv.name} - {nv.sdt} - {nv.account}\r\n                                </option>\r\n                              );\r\n                            })}\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-row\">\r\n                      <div className=\"col\">\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"hinhthuctt\">\r\n                            Hình thức thanh toán\r\n                          </label>\r\n                          <select\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            value={hinhthuctt}\r\n                            id=\"hinhthuctt\"\r\n                            onChange={(e) => setHinhThucTT(e.target.value)}\r\n                          >\r\n                            <option value=\"1\">Tiền mặt</option>\r\n                            <option value=\"2\">Chuyển khoản</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col\">\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"vat\">Thuế giá trị gia tăng (%)</label>\r\n                          <CurrencyInput\r\n                            id=\"vat\"\r\n                            value={vat}\r\n                            decimalSeparator=\",\"\r\n                            precision=\"2\"\r\n                            className=\"form-control text-right\"\r\n                            suffix=\" %\"\r\n                            onValueChange={(value) => {\r\n                              setVat(value);\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\" form-group\">\r\n                      <label htmlFor=\"dsdatphong\">Danh sách đặt phòng</label>\r\n                      <MultiSelect\r\n                        disabled={disableDSDP}\r\n                        options={optitionsDP}\r\n                        value={dpsSelected}\r\n                        onChange={setDpsSelected}\r\n                        labelledBy=\"dsdatphong\"\r\n                        overrideStrings={{\r\n                          allItemsAreSelected: \"Tất cả phòng đã được chọn.\",\r\n                          clearSearch: \"Xóa tìm kiếm\",\r\n                          noOptions: \"Không lựa chọn\",\r\n                          search: \"Tìm kiếm ...\",\r\n                          selectAll: \"Chọn tất cả\",\r\n                          selectSomeItems: \"Chọn...\",\r\n                        }}\r\n                      />\r\n                    </div>\r\n\r\n                    <p className=\"text-danger my-2\">{msgError}</p>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-primary py-2 px-4 \"\r\n                      onClick={handleSubmit}\r\n                    >\r\n                      Lập hóa đơn\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LapHoaDon;\r\n","import React from \"react\";\r\nimport DanhSachHoaDon from \"../../../components/quanly/hoadon/DanhSachHoaDon\";\r\nimport LapHoaDon from \"../../../components/quanly/hoadon/LapHoaDon\";\r\n\r\nconst HoaDonPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">QUẢN LÝ HÓA ĐƠN</h1>\r\n      <LapHoaDon />\r\n      <DanhSachHoaDon />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HoaDonPage;\r\n","import React from \"react\";\r\nimport DatPhongFinder from \"../../../../apis/DatPhongFinder\";\r\nimport HoaDonFinder from \"../../../../apis/HoaDonFinder\";\r\nimport PhongFinder from \"../../../../apis/PhongFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport ThemLichSu from \"../../../../utils/ThemLichSu\";\r\nconst ThanhToan = ({ id, dsdp }) => {\r\n  let hi = useHistory();\r\n  const handleThanhToan = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      //   console.log(id);\r\n      const res_hd = await HoaDonFinder.put(\"/update-tt\", {\r\n        id: id,\r\n        trangthai: 1,\r\n      });\r\n      if (res_hd.data.status === \"ok\") {\r\n        dsdp.forEach(async (item) => {\r\n          const res_dp = await DatPhongFinder.get(\r\n            `/danh-sach-full/${item.datphong_id}`\r\n          );\r\n          if (res_dp.data.status === \"ok\") {\r\n            await DatPhongFinder.put(\"/update-tt\", {\r\n              id: res_dp.data.data.datphong.id,\r\n              trangthai: 0,\r\n            });\r\n            await PhongFinder.put(\"/update-tt\", {\r\n              ten: res_dp.data.data.datphong.phong_id,\r\n              trangthai: 0,\r\n            });\r\n          }\r\n        });\r\n        ThemLichSu({\r\n          doing: \"Thanh toán\",\r\n          olddata: { old: { id } },\r\n          newdata: { new: { id } },\r\n          tbl: \"Hóa đơn\",\r\n        });\r\n        hi.push(\"/quan-ly/phong/hoa-don\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-danger ml-2\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}thanhtoan`}\r\n      >\r\n        Thanh toán\r\n      </button>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}thanhtoan`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p>Bạn có thực sự muốn thanh toán</p>\r\n            </div>\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleThanhToan(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThanhToan;\r\n","import React, { useState } from \"react\";\r\nimport DatPhongFinder from \"../../../../apis/DatPhongFinder\";\r\nimport {\r\n  convertTime,\r\n  NormalizeDate,\r\n  NumberFormat,\r\n} from \"../../../../utils/DataHandler\";\r\n\r\nconst XemChiTietDP = ({ id, phong }) => {\r\n  const [datphongSelected, setDatPhongSelected] = useState([]);\r\n  const handleClick = async () => {\r\n    try {\r\n      const res = await DatPhongFinder.get(`/danh-sach-full/${id}`);\r\n      setDatPhongSelected(res.data.data.datphong);\r\n    } catch (er) {\r\n      console.log(er.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-primary mr-2 \"\r\n        onClick={handleClick}\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xemctdp`}\r\n      >\r\n        Xem chi tiết\r\n      </button>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xemctdp`}>\r\n        <div className=\"modal-dialog modal-lg modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header \">\r\n              <h4 className=\"modal-title \">\r\n                Thông tin chi tiết phiên đặt phòng <u>{phong}</u>\r\n              </h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\"></div>\r\n            <table className=\"table table-hover \">\r\n              <tbody>\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">\r\n                    Hình thức đặt phòng\r\n                  </td>\r\n                  <td className=\"col-7 pl-2\">{datphongSelected.hinhthucdp}</td>\r\n                </tr>\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">\r\n                    Ngày đặt phòng\r\n                  </td>\r\n                  <td className=\"col-7 pl-2\">\r\n                    Ngày: {NormalizeDate(datphongSelected.ngaydat)}, lúc{\" \"}\r\n                    {convertTime(datphongSelected.ngaydat)}\r\n                  </td>\r\n                </tr>\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">Check In</td>\r\n                  <td className=\"col-7 pl-2\">\r\n                    Ngày: {NormalizeDate(datphongSelected.checkin)}, lúc{\" \"}\r\n                    {convertTime(datphongSelected.checkin)}\r\n                  </td>\r\n                </tr>\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">Check Out</td>\r\n                  <td className=\"col-7 pl-2\">\r\n                    Ngày: {NormalizeDate(datphongSelected.checkout)}, lúc{\" \"}\r\n                    {convertTime(datphongSelected.checkout)}\r\n                  </td>\r\n                </tr>\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">\r\n                    Khách hàng Check In\r\n                  </td>\r\n                  <td className=\"col-7 pl-2\">\r\n                    {datphongSelected.kh_checkin\r\n                      ? \"Ngày:\" +\r\n                        NormalizeDate(datphongSelected.kh_checkin) +\r\n                        \", lúc: \" +\r\n                        convertTime(datphongSelected.kh_checkin)\r\n                      : \"Khách hàng chưa check in\"}\r\n                  </td>\r\n                </tr>\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">\r\n                    Khách hàng Check Out\r\n                  </td>\r\n                  <td className=\"col-7 pl-2\">\r\n                    {datphongSelected.kh_checkout\r\n                      ? \"Ngày:\" +\r\n                        NormalizeDate(datphongSelected.kh_checkout) +\r\n                        \", lúc: \" +\r\n                        convertTime(datphongSelected.kh_checkin)\r\n                      : \"Khách hàng chưa check out\"}\r\n                  </td>\r\n                </tr>\r\n\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">\r\n                    Hình thức thuê\r\n                  </td>\r\n                  <td className=\"col-7 pl-2\">{datphongSelected.kieuthue}</td>\r\n                </tr>\r\n\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">\r\n                    Giá thuê theo{\" \"}\r\n                    {datphongSelected.kieuthue === \"Thuê theo ngày\"\r\n                      ? \"ngày\"\r\n                      : \"giờ\"}\r\n                  </td>\r\n                  <td className=\"col-7 pl-2\">\r\n                    {NumberFormat(datphongSelected.giathue)}&nbsp;<b>VND</b>\r\n                  </td>\r\n                </tr>\r\n\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">\r\n                    Số{\" \"}\r\n                    {datphongSelected.kieuthue === \"Thuê theo ngày\"\r\n                      ? \"ngày\"\r\n                      : \"giờ\"}{\" \"}\r\n                    thuê\r\n                  </td>\r\n                  <td className=\"col-7 pl-2\">\r\n                    {datphongSelected.sotgthue} &nbsp;\r\n                    {datphongSelected.kieuthue === \"Thuê theo ngày\"\r\n                      ? \"ngày\"\r\n                      : \"giờ\"}\r\n                  </td>\r\n                </tr>\r\n\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">Tiền cọc</td>\r\n                  <td className=\"col-7 pl-2\">\r\n                    {NumberFormat(datphongSelected.tiencoc)}&nbsp;<b>VND</b>\r\n                  </td>\r\n                </tr>\r\n\r\n                <tr className=\"d-flex mx-4\">\r\n                  <td className=\"col-5 pl-2 font-weight-bold\">\r\n                    Tổng tiền sử dụng dịch vụ\r\n                  </td>\r\n                  <td className=\"col-7 pl-2\">\r\n                    {NumberFormat(datphongSelected.tongtien)}&nbsp;<b>VND</b>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XemChiTietDP;\r\n","import React, { useState } from \"react\";\r\nimport DatPhongFinder from \"../../../../apis/DatPhongFinder\";\r\nimport { NumberFormat } from \"../../../../utils/DataHandler\";\r\nconst XemDichVuDaSuDung = ({ id, phong }) => {\r\n  const [dsDichVu, setDsDichVu] = useState([]);\r\n  const handleClick = async () => {\r\n    try {\r\n      const res = await DatPhongFinder.get(`/danh-sach-dich-vu-so-luong/${id}`);\r\n      setDsDichVu(res.data.data.datphong_chitiet);\r\n    } catch (er) {\r\n      console.log(er.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-info ml-2\"\r\n        onClick={handleClick}\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xemdv`}\r\n      >\r\n        Xem dịch vụ\r\n      </button>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xemdv`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">\r\n                Danh sách dịch vụ đã sử dụng ở <u>{phong}</u>\r\n              </h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\"></div>\r\n            <table className=\"table table-hover \">\r\n              <thead>\r\n                <tr>\r\n                  <th>Tên dịch vụ</th>\r\n                  <th className=\"text-right\">Đơn giá</th>\r\n                  <th className=\"text-center align-middle\">Số lượng</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dsDichVu.map((dvsd) => {\r\n                  return (\r\n                    <tr\r\n                      className=\"border border-left-0 border-right-0 border-top-0 \"\r\n                      key={dvsd.dichvu_id}\r\n                    >\r\n                      <td className=\"align-middle\">{dvsd.dv_name}</td>\r\n                      <td className=\"align-middle text-right\">\r\n                        {NumberFormat(dvsd.gia)} VND\r\n                      </td>\r\n\r\n                      <td className=\"align-middle text-center\">\r\n                        {dvsd.soluong}\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XemDichVuDaSuDung;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport HoaDonFinder from \"../../../apis/HoaDonFinder\";\r\nimport {\r\n  NormalizeDate,\r\n  convertTime,\r\n  NumberFormat,\r\n} from \"../../../utils/DataHandler\";\r\nimport ThanhToan from \"./hoadonct/ThanhToan\";\r\nimport XemChiTietDP from \"./hoadonct/XemChiTietDP\";\r\nimport XemDichVuDaSuDung from \"./hoadonct/XemDichVuDaSuDung\";\r\n\r\nconst HoaDonChiTiet = () => {\r\n  let hi = useHistory();\r\n\r\n  const { id } = useParams();\r\n  const [hoadonSelected, setHoaDonSelected] = useState([]);\r\n  const [dsDPTheoHoaDon, setDPTheoHoaDon] = useState([]);\r\n  const [showDSPhong, setShowDsPhong] = useState(false);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res_hd = await HoaDonFinder.get(`/danh-sach/${id}`);\r\n        setHoaDonSelected(res_hd.data.data.hoadon);\r\n\r\n        const res_dp = await HoaDonFinder.get(`/danh-sach-theo-hoa-don/${id}`);\r\n        setDPTheoHoaDon(res_dp.data.data.hoadon_chitiet);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setHoaDonSelected, id, setDPTheoHoaDon]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/phong/hoa-don\");\r\n  };\r\n\r\n  const renderTrangThaiHoaDon = (tt) => {\r\n    let result = \"\";\r\n    switch (tt + \"\") {\r\n      case \"1\":\r\n        result = \"Đã thanh toán\";\r\n        break;\r\n      case \"0\":\r\n        result = \"Chưa thanh toán\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <div className={showDSPhong ? \"row\" : \"row d-none\"}>\r\n        {dsDPTheoHoaDon.map((hdct) => {\r\n          return (\r\n            <div className=\"col-4\" key={hdct.id}>\r\n              <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                  <h5 className=\"text-center\">PHÒNG: {hdct.phong}</h5>\r\n                </div>\r\n                <div className=\"card-body \">\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    <li className=\"list-group-item\">\r\n                      Tiền phạt : <strong>{NumberFormat(hdct.tienphat)}</strong>{\" \"}\r\n                      VND\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      Tiền cọc &nbsp;&nbsp;:{\" \"}\r\n                      <strong>{NumberFormat(hdct.tiencoc)}</strong> VND\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      Tổng tiền : <strong>{NumberFormat(hdct.tongtien)}</strong>{\" \"}\r\n                      VND\r\n                      <div>\r\n                        <em> (bao gồm tiền phòng và tiền sử dụng dịch vụ)</em>\r\n                      </div>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"card-footer d-flex flex-row justify-content-center\">\r\n                  <XemChiTietDP id={hdct.datphong_id} phong={hdct.phong} />\r\n                  <XemDichVuDaSuDung id={hdct.datphong_id} phong={hdct.phong} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-secondary\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className={\r\n            showDSPhong ? \"btn btn-mute ml-2 px-5\" : \"btn btn-primary ml-2\"\r\n          }\r\n          onClick={(e) => setShowDsPhong(!showDSPhong)}\r\n        >\r\n          {showDSPhong ? \"Đóng\" : \"Danh sách phòng\"}\r\n        </button>\r\n        {hoadonSelected.trangthai === 0 ? (\r\n          <ThanhToan id={id} dsdp={dsDPTheoHoaDon} />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <button\r\n          className=\"btn btn-info ml-2\"\r\n          onClick={() => {\r\n            window.location.href = `/quan-ly/phong/hoa-don/${id}/in`;\r\n          }}\r\n        >\r\n          Xem hóa đơn\r\n        </button>\r\n      </div>\r\n\r\n      <h4 className=\"mt-3\">Thông tin hóa đơn</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-4\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Khách hàng</td>\r\n            <td className=\"col-9 pl-2\">{hoadonSelected.kh_name}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Trạng thái</td>\r\n            <td className=\"col-9 pl-2\">\r\n              <strong>{renderTrangThaiHoaDon(hoadonSelected.trangthai)}</strong>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ngày lập hóa đơn</td>\r\n            <td className=\"col-9 pl-2\">\r\n              Ngày: {NormalizeDate(hoadonSelected.ngaylap)}, lúc{\" \"}\r\n              {convertTime(hoadonSelected.ngaylap)}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Người lập</td>\r\n            <td className=\"col-9 pl-2\">{hoadonSelected.nv_name}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Hình thức thanh toán\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              {hoadonSelected.hinhthuctt === 1 ? \"Tiền mặt\" : \"Chuyển khoản\"}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Tổng tiền phòng và SDDV\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              <strong>{NumberFormat(hoadonSelected.thanhtien)}</strong> VND\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Tổng tiền cọc của khách\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              <strong>{NumberFormat(hoadonSelected.tongcoc)}</strong> VND\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tổng tiền phạt</td>\r\n            <td className=\"col-9 pl-2\">\r\n              <strong>{NumberFormat(hoadonSelected.tongphat)}</strong> VND\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tiền thuế GTGT</td>\r\n            <td className=\"col-9 pl-2\">\r\n              <strong>\r\n                {NumberFormat(\r\n                  (parseInt(hoadonSelected.vat) *\r\n                    parseInt(hoadonSelected.thanhtien)) /\r\n                    100\r\n                )}\r\n              </strong>{\" \"}\r\n              VND\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Tổng tiền phải thanh toán\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              <strong>{NumberFormat(hoadonSelected.tongtien)}</strong> VND\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <h4>Thông tin khách hàng</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-4\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên khách hàng</td>\r\n            <td className=\"col-9 pl-2\">{hoadonSelected.kh_name}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Số điện thoại</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(hoadonSelected.kh_sdt)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Chứng minh nhân dân</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(hoadonSelected.kh_cmnd)}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <h4>Thông tin nhân viên lập phiếu</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-4\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên nhân viên</td>\r\n            <td className=\"col-9 pl-2\">{hoadonSelected.nv_name}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Số điện thoại</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(hoadonSelected.nv_sdt)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Tài khoản đang sử dụng\r\n            </td>\r\n            <td className=\"col-9 pl-2\">{hoadonSelected.nv_account}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HoaDonChiTiet;\r\n","import React from \"react\";\r\nimport HoaDonChiTiet from \"../../../../components/quanly/hoadon/HoaDonChiTiet\";\r\n\r\nconst ChiTietHoaDonPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Thông tin hóa đơn chi tiết</h1>\r\n      <HoaDonChiTiet />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietHoaDonPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/khach-hang\",\r\n});\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport KhachHangFinder from \"../../../apis/KhachHangFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst XoaKhachHang = ({ id, name, kh }) => {\r\n  let hi = useHistory();\r\n\r\n  const { setMsgKHActionSuccess } = useContext(AccountContext);\r\n  const [isDeleteDp, setIsDeleteDp] = useState(false);\r\n  const [isDeleteHd, setIsDeleteHd] = useState(false);\r\n\r\n  const checkIdKh = async () => {\r\n    try {\r\n      const res_hd = await KhachHangFinder.get(`/trong-hoa-don/${id}`);\r\n      //   console.log(res_hd);\r\n      if (res_hd.data.data.khachhang.count === \"0\") {\r\n        setIsDeleteDp(true);\r\n      } else {\r\n        setIsDeleteDp(false);\r\n      }\r\n\r\n      const res_dp = await KhachHangFinder.get(`/trong-dat-phong/${id}`);\r\n      //   console.log(res_dp);\r\n      if (res_dp.data.data.khachhang.count === \"0\") {\r\n        setIsDeleteHd(true);\r\n      } else {\r\n        setIsDeleteHd(false);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    // console.log(isDelete);\r\n    if (isDeleteDp && isDeleteHd) {\r\n      try {\r\n        const res = await KhachHangFinder.delete(`/xoa/${id}`);\r\n        //   console.log(res);\r\n        if (res.data === \"\") {\r\n          ThemLichSu({\r\n            doing: \"Xóa\",\r\n            olddata: { old: kh },\r\n            newdata: {},\r\n            tbl: \"Khách hàng\",\r\n          });\r\n          setMsgKHActionSuccess(\"Xóa thành công\");\r\n          setTimeout(() => {\r\n            setMsgKHActionSuccess(\"\");\r\n          }, 2000);\r\n\r\n          hi.push(\"/quan-ly\");\r\n          hi.push(\"/quan-ly/khach-hang\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    } else {\r\n      alert(\r\n        \"Khách hàng này đang đặt phòng, hoặc đang tồn tại trong 1 hóa đơn nào đó. Không thể xóa\"\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fa fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoakh`}\r\n        onClick={checkIdKh}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoakh`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa{\" \"}\r\n                <span className=\"font-weight-bold\">\"{name}\"</span> không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaKhachHang;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport KhachHangFinder from \"../../../apis/KhachHangFinder\";\r\nimport XoaKhachHang from \"./XoaKhachHang\";\r\nimport { useHistory } from \"react-router\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nconst DanhSachKhachHang = () => {\r\n  let hi = useHistory();\r\n  const { msgKHActionSuccess } = useContext(AccountContext);\r\n  const [dsKh, setDsKH] = useState([]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await KhachHangFinder.get(\"/danh-sach\");\r\n        setDsKH(res.data.data.khachhang);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n\r\n  const handleKHSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/khach-hang/${id}`);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-5\">\r\n        <p className=\"text-success\">{msgKHActionSuccess}</p>\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Tên khách hàng</th>\r\n              <th>Giới tinh</th>\r\n              <th>Số điện thoại</th>\r\n              <th>Chứng minh nhân dân</th>\r\n              <th>Tài khoản</th>\r\n              <th>Kiểu KH</th>\r\n              <th>Xem</th>\r\n              <th>Xóa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsKh.map((khachhang) => {\r\n              return (\r\n                <tr key={khachhang.id} className=\"text-center\">\r\n                  <td className=\"align-middle\">{khachhang.ten}</td>\r\n                  <td className=\"text-center \">\r\n                    {khachhang.gioitinh === 0\r\n                      ? \"Nam\"\r\n                      : khachhang.gioitinh === 1\r\n                      ? \"Nữ\"\r\n                      : \"KXD\"}\r\n                  </td>\r\n                  <td className=\"align-middle\">{khachhang.sdt}</td>\r\n                  <td className=\"text-center align-middle\">\r\n                    {NumberFormat(khachhang.cmnd)}\r\n                  </td>\r\n\r\n                  <td className=\"align-middle\">{khachhang.account}</td>\r\n                  <td className=\"align-middle\">\r\n                    {khachhang.kieukhachhang_name}\r\n                  </td>\r\n\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {\" \"}\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handleKHSelected(e, khachhang.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {userrole === \"QL\" || userrole === \"Admin\" ? (\r\n                      <XoaKhachHang\r\n                        id={khachhang.id}\r\n                        name={khachhang.ten}\r\n                        kh={khachhang}\r\n                      />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachKhachHang;\r\n","import React from \"react\";\r\nimport DanhSachKhachHang from \"../../../components/quanly/khachhang/DanhSachKhachHang\";\r\n\r\nconst ThongTinKHPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">THÔNG TIN KHÁCH HÀNG</h1>\r\n      <DanhSachKhachHang />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThongTinKHPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/tai-san\",\r\n});\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport TaiSanFinder from \"../../../apis/TaiSanFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst XoaTaiSan = ({ id, ts }) => {\r\n  const { setMsgTaiSanActionSuccess, dsTaiSan, setDsTaiSan } =\r\n    useContext(AccountContext);\r\n\r\n  let hi = useHistory();\r\n  const [isDel, setIsDel] = useState(false);\r\n  const fetchData = async () => {\r\n    try {\r\n      const res = await TaiSanFinder.get(`/trong-bd-chi-tiet/${ts.id}`);\r\n      if (res.data.data.taisan.count === \"0\") {\r\n        setIsDel(true);\r\n      } else {\r\n        setIsDel(false);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    if (isDel) {\r\n      try {\r\n        const res = await TaiSanFinder.delete(`/xoa-tai-san/${ts.id}`);\r\n        //   console.log(res);\r\n        if (res.data === \"\") {\r\n          ThemLichSu({\r\n            doing: \"Xóa\",\r\n            olddata: { old: ts },\r\n            newdata: {},\r\n            tbl: \"Tài sản\",\r\n          });\r\n          setMsgTaiSanActionSuccess(\"Xóa thành công\");\r\n          setTimeout(() => {\r\n            setMsgTaiSanActionSuccess(\"\");\r\n          }, 2000);\r\n          setDsTaiSan(\r\n            dsTaiSan.filter((taisan) => {\r\n              return taisan.id !== id;\r\n            })\r\n          );\r\n          hi.push(\"/quan-ly/ql-tai-san/thong-tin\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    } else {\r\n      alert(\r\n        \"Dữ liệu tài sản này đang được sử dụng trong bảo dưỡng. Không thể xóa\"\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${ts.id}xoa`}\r\n        onClick={fetchData}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${ts.id}xoa`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa{\" \"}\r\n                <span className=\"font-weight-bold\">\"{ts.ten}\"</span> không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaTaiSan;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport TaiSanFinder from \"../../../apis/TaiSanFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\n\r\nconst TimKiemTaiSan = () => {\r\n  const { setDsTaiSan, vitritk, setViTriTk } = useContext(AccountContext);\r\n\r\n  const [ten, setTen] = useState(\"\");\r\n  const [dsPhong, setDsPhong] = useState([]);\r\n  useEffect(() => {\r\n    const fetchDataPhong = async () => {\r\n      try {\r\n        const res = await PhongFinder.get(\"/danh-sach-phong\");\r\n        setDsPhong(res.data.data.phong);\r\n\r\n        const res_tk = await TaiSanFinder.get(\r\n          `/tim-kiem-tai-san/%25${ten}%25/%25${vitritk}%25`\r\n        );\r\n        // console.log(res);\r\n        setDsTaiSan(res_tk.data.data.taisan);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchDataPhong();\r\n  }, [setDsTaiSan, ten, vitritk]);\r\n  return (\r\n    <div>\r\n      <div className=\"form-row\">\r\n        <div className=\"col\">\r\n          {\" \"}\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={ten}\r\n              onChange={async (e) => {\r\n                setTen(e.target.value);\r\n\r\n                const res = await TaiSanFinder.get(\r\n                  `/tim-kiem-tai-san/%25${e.target.value}%25/%25${vitritk}%25`\r\n                );\r\n                console.log(res);\r\n                setDsTaiSan(res.data.data.taisan);\r\n              }}\r\n              placeholder=\"Tìm kiếm theo tên tài sản ...\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-group\">\r\n            <select\r\n              className=\"form-control\"\r\n              value={vitritk}\r\n              onChange={async (e) => {\r\n                setViTriTk(e.target.value);\r\n                const res = await TaiSanFinder.get(\r\n                  `/tim-kiem-tai-san/%25${ten}%25/%25${e.target.value}%25`\r\n                );\r\n                // console.log(res);\r\n                setDsTaiSan(res.data.data.taisan);\r\n              }}\r\n            >\r\n              <option value=\"\" disabled>\r\n                Chọn một phòng để lọc ...\r\n              </option>\r\n              <option value=\"\">--Tất cả--</option>\r\n              {dsPhong.map((phong) => {\r\n                return (\r\n                  <option value={phong.ten} key={phong.ten}>\r\n                    {phong.ten}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimKiemTaiSan;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport TaiSanFinder from \"../../../apis/TaiSanFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { NormalizeDate, NumberFormat } from \"../../../utils/DataHandler\";\r\nimport XoaTaiSan from \"./XoaTaiSan\";\r\nimport TimKiemTaiSan from \"./TimKiemTaiSan\";\r\n\r\nconst DanhSachTaiSan = () => {\r\n  const { dsTaiSan, setDsTaiSan, msgTaiSanActionSuccess } =\r\n    useContext(AccountContext);\r\n\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await TaiSanFinder.get(\"/danh-sach-tai-san\");\r\n        if (res.data.status === \"ok\") {\r\n          setDsTaiSan(res.data.data.taisan);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsTaiSan]);\r\n\r\n  const handleTaiSanSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/ql-tai-san/thong-tin/${id}`);\r\n  };\r\n\r\n  const handleUpdate = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/ql-tai-san/thong-tin/${id}/sua`);\r\n  };\r\n\r\n  const renderTrangThaiTaiSan = (tt) => {\r\n    let result = \"\";\r\n    switch (tt + \"\") {\r\n      case \"1\":\r\n        result = \"Hoạt động tốt\";\r\n        break;\r\n      case \"0\":\r\n        result = \"Bị hỏng\";\r\n        break;\r\n      case \"2\":\r\n        result = \"Đang bảo dưỡng\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-5\">\r\n        <TimKiemTaiSan />\r\n        <p className=\"text-center text-success\">{msgTaiSanActionSuccess}</p>\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Tên tài sản</th>\r\n              <th>Ngày mua</th>\r\n              <th>Giá tài sản</th>\r\n              <th>Trạng thái</th>\r\n              <th>Vị trí</th>\r\n              <th>Xem</th>\r\n              <th>Sửa</th>\r\n              <th>Xóa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsTaiSan.map((taisan) => {\r\n              return (\r\n                <tr key={taisan.id}>\r\n                  <td className=\"align-middle\">{taisan.ten}</td>\r\n                  <td className=\"text-center \">\r\n                    {NormalizeDate(taisan.ngaymua)}\r\n                  </td>\r\n                  <td className=\"text-right align-middle\">\r\n                    {NumberFormat(taisan.giataisan)} <b>VND</b>\r\n                  </td>\r\n                  <td className=\"align-middle\">\r\n                    {renderTrangThaiTaiSan(taisan.trangthai)}\r\n                  </td>\r\n                  <td className=\"align-middle\">{taisan.vitri}</td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {\" \"}\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handleTaiSanSelected(e, taisan.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <i\r\n                      className=\"fas fa-pencil-alt text-warning\"\r\n                      onClick={(e) => handleUpdate(e, taisan.id)}\r\n                    >\r\n                      &nbsp;Sửa\r\n                    </i>\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <XoaTaiSan id={taisan.id} ts={taisan} />\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachTaiSan;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/don-vi-tinh\",\r\n});\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport TaiSanFinder from \"../../../apis/TaiSanFinder\";\r\nimport NhaCungCapFinder from \"../../../apis/NhaCungCapFinder\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport DonViTinhFinder from \"../../../apis/DonViTinhFinder\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport { convertDataTocreatableSelect } from \"../../../utils/DataHandler\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst ThemTaiSan = () => {\r\n  const [tents, setTenTs] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [giataisan, setGiaTaiSan] = useState(\"\");\r\n  const [ngaymua, setNgayMua] = useState(\"\");\r\n  const [vitri, setViTri] = useState(\"--Chọn--\");\r\n  const [loaitsId, setLoaiTsId] = useState(\"\");\r\n  const [dvtId, setDonViTinhId] = useState(\"\");\r\n  const [nhacc, setNhaCC] = useState(\"--Chọn--\");\r\n\r\n  const [phongFilter, setPhongFilter] = useState([]);\r\n  const [nhaccFilter, setNhaCCFilter] = useState([]);\r\n  const [loaiTS, setLoaiTS] = useState([]);\r\n  const [donvitinh, setDonViTinh] = useState([]);\r\n\r\n  const { themTaiSan, setMsgTaiSanActionSuccess } = useContext(AccountContext);\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const getLoaiTaiSan = async () => {\r\n    try {\r\n      const res = await TaiSanFinder.get(\"/danh-sach-loai-tai-san\");\r\n      setLoaiTS(convertDataTocreatableSelect(res.data.data.loaitaisan));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  const getDonViTinh = async () => {\r\n    try {\r\n      const res = await DonViTinhFinder.get(\"/danh-sach-don-vi-tinh\");\r\n      setDonViTinh(convertDataTocreatableSelect(res.data.data.donvitinh));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const filterNhaCC = async () => {\r\n      try {\r\n        const res = await NhaCungCapFinder.get(\"/danh-sach-nha-cung-cap\");\r\n        setNhaCCFilter(res.data.data.nhacungcap);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterNhaCC();\r\n\r\n    const filterVitri = async () => {\r\n      try {\r\n        const res = await PhongFinder.get(\"/danh-sach-phong\");\r\n        setPhongFilter(res.data.data.phong);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterVitri();\r\n\r\n    getLoaiTaiSan();\r\n\r\n    getDonViTinh();\r\n  }, [setPhongFilter, setNhaCCFilter, setLoaiTS, setDonViTinh]);\r\n\r\n  const customStyles = {\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      color: state.isSelected ? \"black\" : \"#51515\",\r\n      padding: 5,\r\n    }),\r\n  };\r\n\r\n  const handleChangeDonViTinh = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setDonViTinhId(dataSelected.value);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddDonViTinh(dataSelected.value);\r\n    } else if (actionMeta.action === \"clear\") {\r\n      setDonViTinhId(\"\");\r\n    }\r\n  };\r\n\r\n  const handleAddDonViTinh = async (name) => {\r\n    try {\r\n      const res = await DonViTinhFinder.post(\"/them-don-vi-tinh\", {\r\n        name: name,\r\n      });\r\n      setDonViTinhId(res.data.data.donvitinh.id);\r\n      ThemLichSu({\r\n        doing: \"Thêm\",\r\n        olddata: {},\r\n        newdata: { new: res.data.data.donvitinh },\r\n        tbl: \"Đơn vị tính\",\r\n      });\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleChangeLoaiTaiSan = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setLoaiTsId(dataSelected.value);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddLoaiTaiSan(dataSelected.value);\r\n    } else if (actionMeta.action === \"clear\") {\r\n      setLoaiTsId(\"\");\r\n    }\r\n  };\r\n\r\n  const handleAddLoaiTaiSan = async (name) => {\r\n    try {\r\n      const res = await TaiSanFinder.post(\"/them-loai-tai-san\", {\r\n        name: name,\r\n      });\r\n      ThemLichSu({\r\n        doing: \"Thêm\",\r\n        olddata: {},\r\n        newdata: { new: res.data.data.loaitaisan },\r\n        tbl: \"Loại tài sản\",\r\n      });\r\n      setLoaiTsId(res.data.data.loaitaisan.id);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!tents) {\r\n      setMsgError(\"Tên tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!giataisan) {\r\n      setMsgError(\"Giá tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (/-/.test(giataisan)) {\r\n      setMsgError(\"Giá tài sản không được âm.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ngaymua) {\r\n      setMsgError(\"Ngày mua tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (vitri === \"--Chọn--\") {\r\n      setMsgError(\"Vị trí tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (nhacc === \"--Chọn--\") {\r\n      setMsgError(\"Nhà cung cấp không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!loaitsId) {\r\n      setMsgError(\"Loại tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!dvtId) {\r\n      setMsgError(\"Đơn vị tính không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await TaiSanFinder.post(\"/them-tai-san\", {\r\n          ten: NormalizeString(tents),\r\n          ghichu: ghichu,\r\n          giataisan: giataisan,\r\n          ngaymua: ngaymua,\r\n          trangthai: 1,\r\n          vitri: vitri,\r\n          bdlancuoi: ngaymua,\r\n          dvt_id: dvtId,\r\n          nhacc_id: nhacc,\r\n          loaitaisan_id: loaitsId,\r\n        });\r\n\r\n        if (res.data.status === \"ok\") {\r\n          ThemLichSu({\r\n            doing: \"Thêm\",\r\n            olddata: {},\r\n            newdata: { new: res.data.data.taisan },\r\n            tbl: \"Tài sản\",\r\n          });\r\n          themTaiSan(res.data.data.taisan);\r\n          setMsgTaiSanActionSuccess(\"Thêm thành công.\");\r\n          setTimeout(() => {\r\n            setMsgTaiSanActionSuccess(\"\");\r\n          }, 2500);\r\n          setTenTs(\"\");\r\n          setGiaTaiSan(\"\");\r\n          setNgayMua(\"\");\r\n          setViTri(\"--Chọn--\");\r\n          setNhaCC(\"--Chọn--\");\r\n          setGhiChu(\"\");\r\n          getDonViTinh();\r\n          getLoaiTaiSan();\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-2 \">\r\n        <div id=\"themtaisan\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\" id=\"taisancard\">\r\n              <h5 className=\"mb-0\">\r\n                <div\r\n                  className=\"text-primary collapsed\"\r\n                  data-toggle=\"collapse\"\r\n                  data-target=\"#formthemtaisan\"\r\n                  aria-expanded=\"false\"\r\n                  aria-controls=\"formthemtaisan\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Thêm tài sản\r\n                </div>\r\n              </h5>\r\n            </div>\r\n            <div\r\n              id=\"formthemtaisan\"\r\n              className=\"collapse\"\r\n              aria-labelledby=\"taisancard\"\r\n              data-parent=\"#themtaisan\"\r\n            >\r\n              <div className=\"card-body px-5\">\r\n                <form action=\"\" encType=\"multipart/form-data\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"tentaisan\">Tên tài sản</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"tentaisan\"\r\n                      className=\"form-control\"\r\n                      value={tents}\r\n                      onChange={(e) => setTenTs(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"giats\">Giá tài sản</label>\r\n                        {/* <input\r\n                          type=\"number\"\r\n                          min=\"10000\"\r\n                          step=\"1000\"\r\n                          id=\"giadv\"\r\n                          className=\"form-control text-right\"\r\n                          value={giataisan}\r\n                          onChange={(e) => setGiaTaiSan(e.target.value)}\r\n                        /> */}\r\n                        <CurrencyInput\r\n                          id=\"giats\"\r\n                          value={giataisan}\r\n                          className=\"form-control text-right\"\r\n                          suffix=\" đồng\"\r\n                          groupSeparator=\".\"\r\n                          onValueChange={(value) => {\r\n                            setGiaTaiSan(value);\r\n                          }}\r\n                          step=\"1000\"\r\n                          maxLength=\"9\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"ngaymua\">Ngày mua</label>\r\n                        <input\r\n                          type=\"date\"\r\n                          id=\"ngaymua\"\r\n                          className=\"form-control\"\r\n                          onChange={(e) => setNgayMua(e.target.value)}\r\n                          value={ngaymua}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"vitritaisan\">Vị trí tài sản</label>\r\n                        <select\r\n                          onChange={(e) => setViTri(e.target.value)}\r\n                          value={vitri}\r\n                          id=\"vitritaisan\"\r\n                          className=\"form-control\"\r\n                        >\r\n                          <option value=\"--Chọn--\" disabled>\r\n                            -- Chọn --\r\n                          </option>\r\n                          {phongFilter.map((phong) => {\r\n                            return (\r\n                              <option key={phong.ten} value={phong.ten}>\r\n                                {phong.ten}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"nhacc\">Nhà cung cấp</label>\r\n                        <select\r\n                          onChange={(e) => setNhaCC(e.target.value)}\r\n                          value={nhacc}\r\n                          id=\"nhacc\"\r\n                          className=\"form-control\"\r\n                        >\r\n                          <option value=\"--Chọn--\" disabled>\r\n                            -- Chọn --\r\n                          </option>\r\n                          {nhaccFilter.map((nhacc) => {\r\n                            return (\r\n                              <option key={nhacc.id} value={nhacc.id}>\r\n                                {nhacc.ten}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"ghichu\">Ghi chú</label>\r\n                    <CKEditor\r\n                      data={ghichu}\r\n                      editor={ClassicEditor}\r\n                      onChange={(event, editor) => {\r\n                        const data = editor.getData();\r\n                        setGhiChu(data);\r\n                      }}\r\n                      // config={{\r\n                      //   ckfinder: {\r\n                      //     uploadUrl: \"http://localhost:3005/api/v1/phong/uploads\",\r\n                      //   },\r\n                      //\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group \">\r\n                        <label htmlFor=\"loaitaisan\">Loại tài sản</label>\r\n                        <CreatableSelect\r\n                          id=\"loaitaisan\"\r\n                          isClearable\r\n                          onChange={handleChangeLoaiTaiSan}\r\n                          options={loaiTS}\r\n                          styles={customStyles}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      {\" \"}\r\n                      <div className=\"form-group \">\r\n                        <label htmlFor=\"donvitinh\">Đơn vị tính</label>\r\n                        <CreatableSelect\r\n                          id=\"donvitinh\"\r\n                          isClearable\r\n                          onChange={handleChangeDonViTinh}\r\n                          options={donvitinh}\r\n                          styles={customStyles}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary py-2 px-4\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Thêm\r\n                  </button>\r\n                  <p className=\"text-danger my-2\">{msgError}</p>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemTaiSan;\r\n","import React from \"react\";\r\nimport DanhSachTaiSan from \"../../../components/quanly/taisan/DanhSachTaiSan\";\r\nimport ThemTaiSan from \"../../../components/quanly/taisan/ThemTaiSan\";\r\n\r\nconst TaiSanPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">QUẢN LÝ TÀI SẢN</h1>\r\n      <ThemTaiSan />\r\n      <DanhSachTaiSan />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaiSanPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/bao-duong\",\r\n});\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport BaoDuongFinder from \"../../../apis/BaoDuongFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst XoaBaoDuong = ({ id, bd }) => {\r\n  const { setMsgBaoDuongActionSuccess, dsBaoDuong, setDsBaoDuong } =\r\n    useContext(AccountContext);\r\n\r\n  let hi = useHistory();\r\n\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      const res = await BaoDuongFinder.delete(`/xoa/${id}`);\r\n      //   console.log(res);\r\n      if (res.data === \"\") {\r\n        ThemLichSu({\r\n          doing: \"Xóa\",\r\n          olddata: { old: bd },\r\n          newdata: {},\r\n          tbl: \"Phiếu bảo dưỡng\",\r\n        });\r\n\r\n        setMsgBaoDuongActionSuccess(\"Xóa thành công\");\r\n        setTimeout(() => {\r\n          setMsgBaoDuongActionSuccess(\"\");\r\n        }, 2000);\r\n        setDsBaoDuong(\r\n          dsBaoDuong.filter((baoduong) => {\r\n            return baoduong.id !== id;\r\n          })\r\n        );\r\n        hi.push(\"/quan-ly/ql-tai-san/bao-duong\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoa`}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoa`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa phiếu bảo dưỡng này không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaBaoDuong;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport BaoDuongFinder from \"../../../apis/BaoDuongFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { NormalizeDate, NumberFormat } from \"../../../utils/DataHandler\";\r\nimport XoaBaoDuong from \"./XoaBaoDuong\";\r\nconst DanhSachBaoDuong = () => {\r\n  const { dsBaoDuong, setDsBaoDuong, msgBaoDuongActionSuccess } =\r\n    useContext(AccountContext);\r\n\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await BaoDuongFinder.get(\"/danh-sach\");\r\n        if (res.data.status === \"ok\") {\r\n          setDsBaoDuong(res.data.data.baoduong);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsBaoDuong]);\r\n\r\n  const handleBaoDuongSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/ql-tai-san/bao-duong/${id}`);\r\n  };\r\n\r\n  const handleUpdate = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/ql-tai-san/bao-duong/${id}/sua`);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-5\">\r\n        <p className=\"text-center text-success\">{msgBaoDuongActionSuccess}</p>\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Người bảo dưỡng</th>\r\n              <th>Số điện thoại</th>\r\n              <th>Ngày bảo dưỡng</th>\r\n              <th>Tổng tiền</th>\r\n              <th>NV Tiếp nhận</th>\r\n              <th>Xem</th>\r\n              <th>Sửa</th>\r\n              <th>Xóa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsBaoDuong.map((baoduong) => {\r\n              return (\r\n                <tr key={baoduong.id}>\r\n                  <td className=\"text-center\">{baoduong.nguoibd}</td>\r\n                  <td className=\"text-center\">{baoduong.sdt}</td>\r\n                  <td className=\"text-center \">\r\n                    {NormalizeDate(baoduong.ngaybd)}\r\n                  </td>\r\n                  <td className=\"text-right align-middle\">\r\n                    {NumberFormat(baoduong.tongtien)} <b>VND</b>\r\n                  </td>\r\n                  <td className=\"align-middle\">{baoduong.tennv}</td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {\" \"}\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handleBaoDuongSelected(e, baoduong.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <i\r\n                      className=\"fas fa-pencil-alt text-warning\"\r\n                      onClick={(e) => handleUpdate(e, baoduong.id)}\r\n                    >\r\n                      &nbsp;Sửa\r\n                    </i>\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <XoaBaoDuong id={baoduong.id} bd={baoduong} />\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachBaoDuong;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport BaoDuongFinder from \"../../../apis/BaoDuongFinder\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst ThemBaoDuong = () => {\r\n  const [nguoiBd, setNguoiBd] = useState(\"\");\r\n  const [sdt, setSdt] = useState(\"\");\r\n  const [ngaybd, setNgayBd] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [idNV, setIDNV] = useState(\"--Chọn--\");\r\n  const [tenNV, setTenNV] = useState(\"\");\r\n\r\n  const [nhanvienFilter, setNhanVienFilter] = useState([]);\r\n\r\n  const { themBaoDuong, setMsgBaoDuongActionSuccess } =\r\n    useContext(AccountContext);\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const filterNhanVien = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\"/danh-sach-nhan-vien-kho\");\r\n        setNhanVienFilter(res.data.data.nhanvien);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterNhanVien();\r\n  }, []);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!nguoiBd) {\r\n      setMsgError(\"Tên người bảo dưỡng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!sdt) {\r\n      setMsgError(\"Số điện thoại người bảo dưỡng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else if (sdt.length < 10 || sdt.length > 11) {\r\n      setMsgError(\r\n        \"Số điện thoại người bảo dưỡng không hợp lệ. (di động:10 số, máy bàn 11 số)\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4500);\r\n    } else if (!ngaybd) {\r\n      setMsgError(\"Ngày bảo dưỡng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (idNV === \"--Chọn--\") {\r\n      setMsgError(\"Bạn phải chọn nhân viên tiếp nhận.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await BaoDuongFinder.post(\"/them\", {\r\n          nguoibd: NormalizeString(nguoiBd),\r\n          sdt: sdt,\r\n          ngaybd: ngaybd,\r\n          ghichu: ghichu,\r\n          nvtiepnhan: idNV,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const baoduongInserted = res.data.data.baoduong;\r\n          ThemLichSu({\r\n            doing: \"Thêm\",\r\n            olddata: {},\r\n            newdata: { new: baoduongInserted },\r\n            tbl: \"Phiếu bảo dưỡng\",\r\n          });\r\n\r\n          const baoduongContext = {\r\n            id: baoduongInserted.id,\r\n            nguoibd: baoduongInserted.nguoibd,\r\n            sdt: baoduongInserted.sdt,\r\n            ngaybd: baoduongInserted.ngaybd,\r\n            ghichu: baoduongInserted.ghichu,\r\n            tongtien: baoduongInserted.tongtien,\r\n            idnv: baoduongInserted.nvtiepnhan,\r\n            tennv: tenNV,\r\n          };\r\n          themBaoDuong(baoduongContext);\r\n          setMsgBaoDuongActionSuccess(\"Thêm thành công.\");\r\n          setTimeout(() => {\r\n            setMsgBaoDuongActionSuccess(\"\");\r\n          }, 2500);\r\n          setNgayBd(\"\");\r\n          setNguoiBd(\"\");\r\n          setSdt(\"\");\r\n          setGhiChu(\"\");\r\n          setIDNV(\"--Chọn--\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-2 \">\r\n        <div id=\"thembaoduong\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\" id=\"baoduongcard\">\r\n              <h5 className=\"mb-0\">\r\n                <div\r\n                  className=\"text-primary collapsed\"\r\n                  data-toggle=\"collapse\"\r\n                  data-target=\"#formthembaoduong\"\r\n                  aria-expanded=\"false\"\r\n                  aria-controls=\"formthembaoduong\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Thêm bảo dưỡng tài sản\r\n                </div>\r\n              </h5>\r\n            </div>\r\n            <div\r\n              id=\"formthembaoduong\"\r\n              className=\"collapse\"\r\n              aria-labelledby=\"baoduongcard\"\r\n              data-parent=\"#thembaoduong\"\r\n            >\r\n              <div className=\"card-body px-5\">\r\n                <form action=\"\" encType=\"multipart/form-data\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"nguoibd\">Tên người bảo dưỡng</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"nguoibd\"\r\n                      className=\"form-control\"\r\n                      value={nguoiBd}\r\n                      onChange={(e) => setNguoiBd(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"sdtnguoibd\">Số điện thoại</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"0\"\r\n                          id=\"sdtnguoibd\"\r\n                          className=\"form-control\"\r\n                          value={sdt}\r\n                          onChange={(e) => setSdt(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"ngaybd\">Ngày bảo dưỡng</label>\r\n                        <input\r\n                          type=\"date\"\r\n                          id=\"ngaybd\"\r\n                          className=\"form-control\"\r\n                          onChange={(e) => setNgayBd(e.target.value)}\r\n                          value={ngaybd}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"ghichu\">Ghi chú</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"ghichu\"\r\n                      rows=\"3\"\r\n                      value={ghichu}\r\n                      onChange={(e) => setGhiChu(e.target.value)}\r\n                    ></textarea>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"nhacc\">Nhân viên tiếp nhận</label>\r\n                    <select\r\n                      onChange={(e) => {\r\n                        setIDNV(e.target.value);\r\n                        let index = e.nativeEvent.target.selectedIndex;\r\n                        setTenNV(e.nativeEvent.target[index].text);\r\n                      }}\r\n                      value={idNV}\r\n                      id=\"nhacc\"\r\n                      className=\"form-control\"\r\n                    >\r\n                      <option value=\"--Chọn--\" disabled>\r\n                        -- Chọn --\r\n                      </option>\r\n                      {nhanvienFilter.map((nhanvien) => {\r\n                        return (\r\n                          <option key={nhanvien.id} value={nhanvien.id}>\r\n                            {nhanvien.name}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary py-2 px-4\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Thêm\r\n                  </button>\r\n                  <p className=\"text-danger my-2\">{msgError}</p>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemBaoDuong;\r\n","import React from \"react\";\r\nimport DanhSachBaoDuong from \"../../../components/quanly/baoduong/DanhSachBaoDuong\";\r\nimport ThemBaoDuong from \"../../../components/quanly/baoduong/ThemBaoDuong\";\r\n\r\nconst BaoDuongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">BẢO DƯỠNG TÀI SẢN</h1>\r\n      <ThemBaoDuong />\r\n      <DanhSachBaoDuong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BaoDuongPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport BaoDuongFinder from \"../../../apis/BaoDuongFinder\";\r\nimport { NumberFormat, NormalizeDate } from \"../../../utils/DataHandler\";\r\n\r\nconst ChiTietBaoDuong = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [baoduongSelected, setBaoDuongSelected] = useState([]);\r\n  const { msgBaoDuongActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await BaoDuongFinder.get(`/danh-sach/${id}`);\r\n        setBaoDuongSelected(res.data.data.baoduong);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setBaoDuongSelected, id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/ql-tai-san/bao-duong\");\r\n  };\r\n  const handleUpdate = () => {\r\n    hi.push(`/quan-ly/ql-tai-san/bao-duong/${id}/sua`);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary mt-5\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        <div className=\"mt-5 ml-2\">\r\n          <button className=\"btn btn-warning px-4\" onClick={handleUpdate}>\r\n            Sửa\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <p className=\"text-center text-success\">{msgBaoDuongActionSuccess}</p>\r\n      <h4 className=\"mt-3 mb-3\">{baoduongSelected.ten}</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên người bảo dưỡng</td>\r\n            <td className=\"col-9 pl-2\">{baoduongSelected.nguoibd}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Số điện thoại</td>\r\n            <td className=\"col-9 pl-2\">{baoduongSelected.sdt}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ngày bảo dưỡng</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NormalizeDate(baoduongSelected.ngaybd)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tổng tiền</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(baoduongSelected.tongtien)}&nbsp;<b>VND</b>\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ghi chú</td>\r\n            <td className=\"col-9 pl-2\">{baoduongSelected.ghichu}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Nhân viên tiếp nhận</td>\r\n            <td className=\"col-9 pl-2\">{baoduongSelected.tennv}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietBaoDuong;\r\n","import React, { useContext, useState } from \"react\";\r\nimport TaiSanFinder from \"../../../apis/TaiSanFinder\";\r\nimport BaoDuongFinder from \"../../../apis/BaoDuongFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst XoaTaiSanBaoDuong = ({ tsId, id, bdID, bdct }) => {\r\n  const { dsBaoDuongChiTiet, setDsBaoDuongChiTiet } =\r\n    useContext(AccountContext);\r\n\r\n  const [tenTs, setTenTs] = useState(\"\");\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const res = await TaiSanFinder.get(`/danh-sach-tai-san/${tsId}`);\r\n      setTenTs(res.data.data.taisan.ten);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      const res = await BaoDuongFinder.delete(`/xoa-chi-tiet/${id}`);\r\n      //   console.log(res);\r\n      if (res.data === \"\") {\r\n        ThemLichSu({\r\n          doing: \"Xóa\",\r\n          olddata: { old: bdct },\r\n          newdata: {},\r\n          tbl: \"Phiếu bảo dưỡng chi tiết\",\r\n        });\r\n\r\n        setDsBaoDuongChiTiet(\r\n          dsBaoDuongChiTiet.filter((bdchitiet) => {\r\n            return bdchitiet.id !== id;\r\n          })\r\n        );\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash p-1 text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoa`}\r\n        onClick={fetchData}\r\n      ></i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoa`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa{\" \"}\r\n                <span className=\"font-weight-bold\">\"{tenTs}\"</span> không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaTaiSanBaoDuong;\r\n","import React, { useState } from \"react\";\r\nimport BaoDuongFinder from \"../../../apis/BaoDuongFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst SuaTaiSanBaoDuong = ({ id, bdId }) => {\r\n  const [phibd, setPhiBd] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [old, setOld] = useState({});\r\n\r\n  let hi = useHistory();\r\n  const fetchData = async () => {\r\n    try {\r\n      const res = await BaoDuongFinder.get(`/chi-tiet-theo-id/${id}`);\r\n      if (res.data.status === \"ok\") {\r\n        const bdChiTietSelected = res.data.data.baoduong_chitiet;\r\n        setGhiChu(bdChiTietSelected.ghichu);\r\n        setPhiBd(bdChiTietSelected.phibd);\r\n        setOld({\r\n          id: id,\r\n          phibd: bdChiTietSelected.phibd,\r\n          ghichu: bdChiTietSelected.ghichu,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.stopPropagation();\r\n\r\n    try {\r\n      console.log(id, phibd, ghichu);\r\n      const res = await BaoDuongFinder.put(\"/sua-chi-tiet\", {\r\n        id: id,\r\n        phibd: phibd,\r\n        ghichu: ghichu,\r\n      });\r\n      if (res.data.status === \"ok\") {\r\n        const newd = {\r\n          id: id,\r\n          phibd: phibd,\r\n          ghichu: ghichu,\r\n        };\r\n        if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n          ThemLichSu({\r\n            doing: \"Sửa\",\r\n            olddata: { old },\r\n            newdata: { new: newd },\r\n            tbl: \"Chi tiết phiếu bảo dưỡng\",\r\n          });\r\n        }\r\n        hi.push(\"/quan-ly/ql-tai-san/bao-duong\");\r\n        hi.push(`/quan-ly/ql-tai-san/bao-duong/${bdId}`);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-pencil-alt p-1 text-primary\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}sua`}\r\n        onClick={fetchData}\r\n      ></i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}sua`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Sửa thông tin bảo dưỡng chi tiết</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor={`phibd${id}`}>Phí bảo dưỡng</label>\r\n                <CurrencyInput\r\n                  id={`phibd${id}`}\r\n                  value={phibd}\r\n                  className=\"form-control text-right\"\r\n                  suffix=\" đồng\"\r\n                  groupSeparator=\".\"\r\n                  onValueChange={(value) => {\r\n                    setPhiBd(value);\r\n                  }}\r\n                  step=\"1000\"\r\n                  maxLength=\"9\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor={`ghichu${id}`}>Ghi chú</label>\r\n                <textarea\r\n                  className=\"form-control\"\r\n                  id={`ghichu${id}`}\r\n                  rows=\"2\"\r\n                  value={ghichu}\r\n                  onChange={(e) => setGhiChu(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleUpdate(e)}\r\n              >\r\n                Sửa\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaTaiSanBaoDuong;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport BaoDuongFinder from \"../../../apis/BaoDuongFinder\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\nimport { useParams } from \"react-router\";\r\nimport XoaTaiSanBaoDuong from \"./XoaTaiSanBaoDuong\";\r\nimport SuaTaiSanBaoDuong from \"./SuaTaiSanBaoDuong\";\r\nconst DanhSachTaiSanBaoDuong = () => {\r\n  const { dsBaoDuongChiTiet, setDsBaoDuongChiTiet } =\r\n    useContext(AccountContext);\r\n\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await BaoDuongFinder.get(`/danh-sach-chi-tiet/${id}`);\r\n        if (res.data.status === \"ok\") {\r\n          setDsBaoDuongChiTiet(res.data.data.baoduong_chitiet);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsBaoDuongChiTiet, id]);\r\n\r\n  return (\r\n    <div className=\"d-flex flex-wrap \">\r\n      {dsBaoDuongChiTiet.map((bdchitiet) => {\r\n        return (\r\n          <div\r\n            key={bdchitiet.id}\r\n            className=\"card mb-3 mt-5 mx-3\"\r\n            style={{ width: \"30%\" }}\r\n          >\r\n            <div className=\"card-header d-flex justify-content-between \">\r\n              <h6>{bdchitiet.ten}</h6>\r\n              <span className=\"d-flex\">\r\n                <SuaTaiSanBaoDuong id={bdchitiet.id} bdId={id} />\r\n                <XoaTaiSanBaoDuong\r\n                  id={bdchitiet.id}\r\n                  tsId={bdchitiet.taisanbd}\r\n                  bdId={id}\r\n                  bdct={bdchitiet}\r\n                />\r\n              </span>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <p>\r\n                Chi phí: <u>{NumberFormat(bdchitiet.phibd)}</u> VND\r\n              </p>\r\n              <p>Ghi chú: {bdchitiet.ghichu}</p>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      {/* <div className=\"card mb-3 mt-5 mx-3\" style={{ maxWidth: \"30%\" }}>\r\n        <div className=\"card-header d-flex justify-content-between \">\r\n          <h5>Dday la ten tai san</h5>\r\n          <span>\r\n            <i className=\"fas fa-pencil-alt p-1 text-primary\"></i>\r\n            <i className=\"fas fa-trash p-1 text-danger\"></i>\r\n          </span>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <p className=\"card-text\">\r\n            asdjaskjdahsjkdahsjdj skdandsk kja bdk jad akjd akjd\r\n          </p>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachTaiSanBaoDuong;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport BaoDuongFinder from \"../../../apis/BaoDuongFinder\";\r\nimport TaiSanFinder from \"../../../apis/TaiSanFinder\";\r\nimport { useParams, useHistory } from \"react-router\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst ThemTaiSanBaoDuong = () => {\r\n  const [phibd, setPhiBd] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [idTS, setIdTS] = useState(\"--Chọn--\");\r\n  const [tents, setTenTs] = useState(\"\");\r\n\r\n  const [taisanFilter, setTaiSanFilter] = useState([]);\r\n\r\n  const { themBaoDuongChiTiet } = useContext(AccountContext);\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const filterTaiSan = async () => {\r\n      try {\r\n        const res = await TaiSanFinder.get(\"/danh-sach-tai-san\");\r\n        setTaiSanFilter(res.data.data.taisan);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterTaiSan();\r\n  }, [setTaiSanFilter]);\r\n\r\n  const handleSubmit = async () => {\r\n    if (idTS === \"--Chọn--\") {\r\n      setMsgError(\"Bạn cần phải chọn tài sản.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!phibd) {\r\n      setMsgError(\"Phí bảo dưỡng không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await BaoDuongFinder.post(\"/them-chi-tiet\", {\r\n          taisanbd: idTS,\r\n          phibd: phibd,\r\n          ghichu: ghichu,\r\n          baoduong_id: id,\r\n        });\r\n\r\n        if (res.data.status === \"ok\") {\r\n          ThemLichSu({\r\n            doing: \"Thêm\",\r\n            olddata: {},\r\n            newdata: { new: res.data.data.baoduong_chitiet },\r\n            tbl: \"Chi tiết phiếu bảo dưỡng\",\r\n          });\r\n\r\n          const bdchitetInserted = res.data.data.baoduong_chitiet;\r\n          const bdchitietContext = {\r\n            id: bdchitetInserted.id,\r\n            phibd: bdchitetInserted.phibd,\r\n            ghichu: bdchitetInserted.ghichu,\r\n            baoduong_id: bdchitetInserted.baoduong_id,\r\n            taisanbd: bdchitetInserted.taisanbd,\r\n            ten: tents,\r\n          };\r\n          themBaoDuongChiTiet(bdchitietContext);\r\n          setTaiSanFilter(\r\n            taisanFilter.filter((taisan) => {\r\n              return taisan.id !== bdchitetInserted.taisanbd;\r\n            })\r\n          );\r\n          hi.push(\"/quan-ly/ql-tai-san/bao-duong\");\r\n          hi.push(`/quan-ly/ql-tai-san/bao-duong/${id}`);\r\n        } else {\r\n          setMsgError(res.data.status);\r\n          setTimeout(() => {\r\n            setMsgError(\"\");\r\n          }, 3000);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-2 \">\r\n        <div id=\"thembaoduongchitiet\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\" id=\"baoduongchitietcard\">\r\n              <h5 className=\"mb-0\">\r\n                <div\r\n                  className=\"text-primary collapsed\"\r\n                  data-toggle=\"collapse\"\r\n                  data-target=\"#formthembaoduongchitiet\"\r\n                  aria-expanded=\"false\"\r\n                  aria-controls=\"formthembaoduongchitiet\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Thêm tài sản được bảo dưỡng\r\n                </div>\r\n              </h5>\r\n            </div>\r\n            <div\r\n              id=\"formthembaoduongchitiet\"\r\n              className=\"collapse\"\r\n              aria-labelledby=\"baoduongchitietcard\"\r\n              data-parent=\"#thembaoduongchitiet\"\r\n            >\r\n              <div className=\"card-body px-5\">\r\n                <form action=\"\">\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"taisanbd\">Tài sản bảo dưỡng</label>\r\n                        <select\r\n                          onChange={(e) => {\r\n                            setIdTS(e.target.value);\r\n                            let index = e.nativeEvent.target.selectedIndex;\r\n                            setTenTs(e.nativeEvent.target[index].text);\r\n                          }}\r\n                          value={idTS}\r\n                          id=\"taisanbd\"\r\n                          className=\"form-control\"\r\n                        >\r\n                          <option value=\"--Chọn--\" disabled>\r\n                            -- Chọn --\r\n                          </option>\r\n                          {taisanFilter.map((taisan) => {\r\n                            return (\r\n                              <option key={taisan.id} value={taisan.id}>\r\n                                {taisan.ten}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"phibd\">Phí bảo dưỡng</label>\r\n                        <CurrencyInput\r\n                          id=\"phibd\"\r\n                          value={phibd}\r\n                          className=\"form-control text-right\"\r\n                          suffix=\" đồng\"\r\n                          groupSeparator=\".\"\r\n                          onValueChange={(value) => {\r\n                            setPhiBd(value);\r\n                          }}\r\n                          step=\"1000\"\r\n                          maxLength=\"9\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"ghichu\">Ghi chú</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"ghichu\"\r\n                      rows=\"2\"\r\n                      value={ghichu}\r\n                      onChange={(e) => setGhiChu(e.target.value)}\r\n                    ></textarea>\r\n                  </div>\r\n\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary py-2 px-4\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Thêm\r\n                  </button>\r\n                  <p className=\"text-danger my-2\">{msgError}</p>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemTaiSanBaoDuong;\r\n","import React from \"react\";\r\nimport ChiTietBaoDuong from \"../../../../components/quanly/baoduong/ChiTietBaoDuong\";\r\nimport DanhSachTaiSanBaoDuong from \"../../../../components/quanly/baoduong/DanhSachTaiSanBaoDuong\";\r\nimport ThemTaiSanBaoDuong from \"../../../../components/quanly/baoduong/ThemTaiSanBaoDuong\";\r\n\r\nconst ChiTietBaoDuongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Chi tiết bảo dưỡng tài sản</h1>\r\n      <ThemTaiSanBaoDuong />\r\n      <DanhSachTaiSanBaoDuong />\r\n      <ChiTietBaoDuong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietBaoDuongPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport BaoDuongFinder from \"../../../apis/BaoDuongFinder\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { convertDate } from \"../../../utils/DataHandler\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst SuaBaoDuong = () => {\r\n  let hi = useHistory();\r\n  const { id } = useParams();\r\n  const [old, setOld] = useState({});\r\n\r\n  const [nguoiBd, setNguoiBd] = useState(\"\");\r\n  const [sdt, setSdt] = useState(\"\");\r\n  const [ngaybd, setNgayBd] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [idNV, setIDNV] = useState(\"--Chọn--\");\r\n\r\n  const [nhanvienFilter, setNhanVienFilter] = useState([]);\r\n\r\n  const { setMsgBaoDuongActionSuccess } = useContext(AccountContext);\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const filterNhanVien = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\"/danh-sach-nhan-vien-kho\");\r\n        setNhanVienFilter(res.data.data.nhanvien);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterNhanVien();\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await BaoDuongFinder.get(`/danh-sach/${id}`);\r\n        const baoduongSelected = res.data.data.baoduong;\r\n        setNguoiBd(baoduongSelected.nguoibd);\r\n        setSdt(baoduongSelected.sdt);\r\n        setGhiChu(baoduongSelected.ghichu);\r\n        setNgayBd(convertDate(baoduongSelected.ngaybd));\r\n        setIDNV(baoduongSelected.idnv);\r\n\r\n        setOld({\r\n          id: id,\r\n          nguoibd: baoduongSelected.nguoibd,\r\n          sdt: baoduongSelected.sdt,\r\n          ngaybd: convertDate(baoduongSelected.ngaybd),\r\n          ghichu: baoduongSelected.ghichu,\r\n          nvtiepnhan: baoduongSelected.idnv,\r\n        });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setNhanVienFilter, id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(`/quan-ly/ql-tai-san/bao-duong/${id}`);\r\n  };\r\n  const handleUpdate = async () => {\r\n    if (!nguoiBd) {\r\n      setMsgError(\"Tên người bảo dưỡng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!sdt) {\r\n      setMsgError(\"Số điện thoại người bảo dưỡng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else if (sdt.length < 10 || sdt.length > 11) {\r\n      setMsgError(\r\n        \"Số điện thoại người bảo dưỡng không hợp lệ. (di động:10 số, máy bàn 11 số)\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4500);\r\n    } else if (!ngaybd) {\r\n      setMsgError(\"Ngày bảo dưỡng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await BaoDuongFinder.put(\"/sua\", {\r\n          id: id,\r\n          nguoibd: NormalizeString(nguoiBd),\r\n          sdt: sdt,\r\n          ngaybd: ngaybd,\r\n          ghichu: ghichu,\r\n          nvtiepnhan: idNV,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: id,\r\n            nguoibd: NormalizeString(nguoiBd),\r\n            sdt: sdt,\r\n            ngaybd: ngaybd,\r\n            ghichu: ghichu,\r\n            nvtiepnhan: idNV,\r\n          };\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old },\r\n              newdata: { new: newd },\r\n              tbl: \"Phiếu bảo dưỡng\",\r\n            });\r\n          }\r\n          setMsgBaoDuongActionSuccess(\"Sửa thành công.\");\r\n          setTimeout(() => {\r\n            setMsgBaoDuongActionSuccess(\"\");\r\n          }, 2500);\r\n          hi.push(`/quan-ly/ql-tai-san/bao-duong/${id}`);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form action=\"\" encType=\"multipart/form-data\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"nguoibd\">Tên người bảo dưỡng</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"nguoibd\"\r\n            className=\"form-control\"\r\n            value={nguoiBd}\r\n            onChange={(e) => setNguoiBd(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"sdtnguoibd\">Số điện thoại</label>\r\n              <input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                id=\"sdtnguoibd\"\r\n                className=\"form-control\"\r\n                value={sdt}\r\n                onChange={(e) => setSdt(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"ngaybd\">Ngày bảo dưỡng</label>\r\n              <input\r\n                type=\"date\"\r\n                id=\"ngaybd\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setNgayBd(e.target.value)}\r\n                value={ngaybd}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"ghichu\">Ghi chú</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            id=\"ghichu\"\r\n            rows=\"3\"\r\n            value={ghichu}\r\n            onChange={(e) => setGhiChu(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"nhacc\">Nhân viên tiếp nhận</label>\r\n          <select\r\n            onChange={(e) => {\r\n              setIDNV(e.target.value);\r\n            }}\r\n            value={idNV}\r\n            id=\"nhacc\"\r\n            className=\"form-control\"\r\n          >\r\n            <option value=\"--Chọn--\" disabled>\r\n              -- Chọn --\r\n            </option>\r\n            {nhanvienFilter.map((nhanvien) => {\r\n              return (\r\n                <option key={nhanvien.id} value={nhanvien.id}>\r\n                  {nhanvien.name}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n        <p className=\"text-danger my-2\">{msgError}</p>\r\n\r\n        <div className=\"d-flex flex-row\">\r\n          <button\r\n            className=\"btn btn-warning px-4\"\r\n            type=\"button\"\r\n            onClick={handleUpdate}\r\n          >\r\n            Sửa\r\n          </button>\r\n          <button className=\"btn btn-primary ml-3\" onClick={goBack}>\r\n            Quay lại\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaBaoDuong;\r\n","import React from \"react\";\r\nimport SuaBaoDuong from \"../../../../components/quanly/baoduong/SuaBaoDuong\";\r\n\r\nconst SuaBaoDuongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Sửa phiếu bảo dưỡng </h1>\r\n      <SuaBaoDuong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaBaoDuongPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/phieu-mua\",\r\n});\r\n","import React, { useContext } from \"react\";\r\nimport PhieuMuaFinder from \"../../../apis/PhieuMuaFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst XoaPhieuMua = ({ id, pm }) => {\r\n  const { setMsgPhieuMuaActionSuccess, dsPhieuMua, setDsPhieuMua } =\r\n    useContext(AccountContext);\r\n\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      const res = await PhieuMuaFinder.delete(`/xoa/${id}`);\r\n      //   console.log(res);\r\n      if (res.data === \"\") {\r\n        ThemLichSu({\r\n          doing: \"Xóa\",\r\n          olddata: { old: pm },\r\n          newdata: {},\r\n          tbl: \"Phiếu mua hàng\",\r\n        });\r\n        setMsgPhieuMuaActionSuccess(\"Xóa thành công\");\r\n        setTimeout(() => {\r\n          setMsgPhieuMuaActionSuccess(\"\");\r\n        }, 2000);\r\n        setDsPhieuMua(\r\n          dsPhieuMua.filter((pm) => {\r\n            return pm.id !== id;\r\n          })\r\n        );\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoapm`}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoapm`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa phiếu mua hàng này không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaPhieuMua;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport PhieuMuaFinder from \"../../../apis/PhieuMuaFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { NormalizeDate, NumberFormat } from \"../../../utils/DataHandler\";\r\nimport XoaPhieuMua from \"./XoaPhieuMua\";\r\n\r\nconst DanhSachPhieuMua = () => {\r\n  const { dsPhieuMua, setDsPhieuMua, msgPhieuMuaActionSuccess } =\r\n    useContext(AccountContext);\r\n\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await PhieuMuaFinder.get(\"/danh-sach\");\r\n        if (res.data.status === \"ok\") {\r\n          setDsPhieuMua(res.data.data.phieumua);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsPhieuMua]);\r\n\r\n  const handlePhieuMuaSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/ql-hang-hoa/phieu-mua/${id}`);\r\n  };\r\n\r\n  const handleUpdate = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/ql-hang-hoa/phieu-mua/${id}/sua`);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-5\">\r\n        <p className=\"text-center text-success\">{msgPhieuMuaActionSuccess}</p>\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Mã phiếu</th>\r\n              <th>Tên nhân viên</th>\r\n              <th>Ngày mua</th>\r\n              <th>Tổng tiền</th>\r\n              <th>Ghi chú</th>\r\n              <th>Xem</th>\r\n              <th>Sửa</th>\r\n              <th>Xóa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsPhieuMua.map((phieumua) => {\r\n              return (\r\n                <tr key={phieumua.id}>\r\n                  <td className=\"align-middle text-center\">{phieumua.id}</td>\r\n                  <td className=\"align-middle\">{phieumua.tennv}</td>\r\n                  <td className=\"text-center \">\r\n                    {NormalizeDate(phieumua.ngaymua)}\r\n                  </td>\r\n                  <td className=\"text-right align-middle\">\r\n                    {NumberFormat(phieumua.tongtien)} <b>VND</b>\r\n                  </td>\r\n                  <td className=\"align-middle\">{phieumua.ghichu}</td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {\" \"}\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handlePhieuMuaSelected(e, phieumua.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <i\r\n                      className=\"fas fa-pencil-alt text-warning\"\r\n                      onClick={(e) => handleUpdate(e, phieumua.id)}\r\n                    >\r\n                      &nbsp;Sửa\r\n                    </i>\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <XoaPhieuMua id={phieumua.id} pm={phieumua} />\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachPhieuMua;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport PhieuMuaFinder from \"../../../apis/PhieuMuaFinder\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst ThemPhieuMua = () => {\r\n  const [ngaymua, setNgayMua] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [idNV, setIDNV] = useState(\"--Chọn--\");\r\n  const [tenNV, setTenNV] = useState(\"\");\r\n\r\n  const [nhanvienFilter, setNhanVienFilter] = useState([]);\r\n\r\n  const { themPhieuMua, setMsgPhieuMuaActionSuccess } =\r\n    useContext(AccountContext);\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const filterNhanVien = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\"/danh-sach-nhan-vien-kho\");\r\n        setNhanVienFilter(res.data.data.nhanvien);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterNhanVien();\r\n  }, []);\r\n\r\n  const handleSubmit = async () => {\r\n    if (idNV === \"--Chọn--\") {\r\n      setMsgError(\"Bạn phải chọn nhân viên tiếp nhận.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ngaymua) {\r\n      setMsgError(\"Ngày mua không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await PhieuMuaFinder.post(\"/them\", {\r\n          ngaymua: ngaymua,\r\n          ghichu: ghichu,\r\n          nvtiepnhan: idNV,\r\n        });\r\n        console.log(res);\r\n        if (res.data.status === \"ok\") {\r\n          const phieumuaInserted = res.data.data.phieumua;\r\n          ThemLichSu({\r\n            doing: \"Thêm\",\r\n            olddata: {},\r\n            newdata: { new: phieumuaInserted },\r\n            tbl: \"Phiếu mua hàng\",\r\n          });\r\n          const phieumuaContext = {\r\n            id: phieumuaInserted.id,\r\n            ngaymua: phieumuaInserted.ngaymua,\r\n            tongtien: phieumuaInserted.tongtien,\r\n            ghichu: phieumuaInserted.ghichu,\r\n            idnv: phieumuaInserted.nvtiepnhan,\r\n            tennv: tenNV,\r\n          };\r\n          console.log(phieumuaInserted);\r\n          themPhieuMua(phieumuaContext);\r\n          setMsgPhieuMuaActionSuccess(\"Thêm thành công.\");\r\n          setTimeout(() => {\r\n            setMsgPhieuMuaActionSuccess(\"\");\r\n          }, 2500);\r\n          setNgayMua(\"\");\r\n          setGhiChu(\"\");\r\n          setIDNV(\"--Chọn--\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-2 \">\r\n        <div id=\"themphieumua\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\" id=\"phieumuacard\">\r\n              <h5 className=\"mb-0\">\r\n                <div\r\n                  className=\"text-primary collapsed\"\r\n                  data-toggle=\"collapse\"\r\n                  data-target=\"#formthemphieumua\"\r\n                  aria-expanded=\"false\"\r\n                  aria-controls=\"formthemphieumua\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Thêm phiếu mua\r\n                </div>\r\n              </h5>\r\n            </div>\r\n            <div\r\n              id=\"formthemphieumua\"\r\n              className=\"collapse\"\r\n              aria-labelledby=\"phieumuacard\"\r\n              data-parent=\"#themphieumua\"\r\n            >\r\n              <div className=\"card-body px-5\">\r\n                <form action=\"\" encType=\"multipart/form-data\">\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"nhacc\">Nhân viên tiếp nhận</label>\r\n                        <select\r\n                          onChange={(e) => {\r\n                            setIDNV(e.target.value);\r\n                            let index = e.nativeEvent.target.selectedIndex;\r\n                            setTenNV(e.nativeEvent.target[index].text);\r\n                          }}\r\n                          value={idNV}\r\n                          id=\"nhacc\"\r\n                          className=\"form-control\"\r\n                        >\r\n                          <option value=\"--Chọn--\" disabled>\r\n                            -- Chọn --\r\n                          </option>\r\n                          {nhanvienFilter.map((nhanvien) => {\r\n                            return (\r\n                              <option key={nhanvien.id} value={nhanvien.id}>\r\n                                {nhanvien.name}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"ngaymua\">Ngày mua</label>\r\n                        <input\r\n                          type=\"date\"\r\n                          id=\"ngaymua\"\r\n                          className=\"form-control\"\r\n                          onChange={(e) => setNgayMua(e.target.value)}\r\n                          value={ngaymua}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"ghichu\">Ghi chú</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"ghichu\"\r\n                      rows=\"3\"\r\n                      value={ghichu}\r\n                      onChange={(e) => setGhiChu(e.target.value)}\r\n                    ></textarea>\r\n                  </div>\r\n\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary py-2 px-4\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Thêm\r\n                  </button>\r\n                  <p className=\"text-danger my-2\">{msgError}</p>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemPhieuMua;\r\n","import React from \"react\";\r\nimport DanhSachPhieuMua from \"../../../components/quanly/phieumua/DanhSachPhieuMua\";\r\nimport ThemPhieuMua from \"../../../components/quanly/phieumua/ThemPhieuMua\";\r\n\r\nconst PhieuMuaPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">PHIẾU MUA HÀNG</h1>\r\n      <ThemPhieuMua />\r\n      <DanhSachPhieuMua />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhieuMuaPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/xin-nghi\",\r\n});\r\n","import React, { useContext } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst XoaXinNghi = ({ id, xn }) => {\r\n  const { setMsgDonActionSuccess, dsDon, setDsDon } =\r\n    useContext(AccountContext);\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      const res = await XinNghiFinder.delete(`/xoa/${id}`);\r\n      //   console.log(res);\r\n      if (res.data === \"\") {\r\n        ThemLichSu({\r\n          doing: \"Xóa\",\r\n          olddata: { old: xn },\r\n          newdata: {},\r\n          tbl: \"Đơn xin nghỉ\",\r\n        });\r\n        setMsgDonActionSuccess(\"Xóa thành công\");\r\n        setTimeout(() => {\r\n          setMsgDonActionSuccess(\"\");\r\n        }, 2000);\r\n        setDsDon(\r\n          dsDon.filter((don) => {\r\n            return don.id !== id;\r\n          })\r\n        );\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoa`}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoa`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa đơn xin nghỉ này không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaXinNghi;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { convertTime, NormalizeDate } from \"../../../utils/DataHandler\";\r\nimport XoaXinNghi from \"./XoaXinNghi\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\n\r\nconst DanhSachXinNghi = () => {\r\n  const { dsDon, setDsDon, msgDonActionSuccess } = useContext(AccountContext);\r\n  const username = window.localStorage.getItem(\"user_name\");\r\n  const [nvid, setNvid] = useState(\"\");\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await XinNghiFinder.get(`/danh-sach-full/${nvid}`);\r\n        if (res.data.status === \"ok\") {\r\n          setDsDon(res.data.data.xinnghi);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n\r\n    const getNhanVien = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\r\n          `/danh-sach-nhan-vien-theo-acc/${username}`\r\n        );\r\n        setNvid(res.data.data.nhanvien.id);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getNhanVien();\r\n  }, [setDsDon, nvid, username]);\r\n\r\n  const handleDonSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/nhan-vien/xin-nghi/${id}`);\r\n  };\r\n\r\n  const renderTrangThaiDon = (tt) => {\r\n    let result;\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        result = (\r\n          <u>\r\n            <i className=\"fas fa-spinner text-info  \">&nbsp;Đang chờ</i>\r\n          </u>\r\n        );\r\n        break;\r\n      case \"1\":\r\n        result = (\r\n          <u>\r\n            {\" \"}\r\n            <i className=\"fas fa-check-circle text-success\">&nbsp;Đồng ý</i>\r\n          </u>\r\n        );\r\n        break;\r\n      case \"2\":\r\n        result = (\r\n          <u>\r\n            {\" \"}\r\n            <i class=\"fas fa-ban text-danger\">&nbsp;Từ chối</i>\r\n          </u>\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const renderThoiGianNghi = (tg) => {\r\n    let result;\r\n    switch (tg + \"\") {\r\n      case \"0\":\r\n        result = \"Nửa ngày\";\r\n        break;\r\n      case \"1\":\r\n        result = \"Một ngày\";\r\n        break;\r\n      case \"2\":\r\n        result = \"Một ngày rưỡi\";\r\n        break;\r\n      case \"3\":\r\n        result = \"Hai ngày\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-5\">\r\n        <p className=\"text-center text-success\">{msgDonActionSuccess}</p>\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>Người duyệt</th>\r\n              <th>Ngày nghỉ</th>\r\n              <th>Thời gian nghỉ</th>\r\n              <th>Trạng thái</th>\r\n              <th>Thời gian viết/sửa đơn</th>\r\n              <th>Xem</th>\r\n              <th>Xóa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsDon.map((don) => {\r\n              return (\r\n                <tr key={don.id} className=\"text-center\">\r\n                  <td className=\"align-middle\">\r\n                    {don.nguoiduyet ? don.nguoiduyet : \"Chưa duyệt\"}\r\n                  </td>\r\n                  <td className=\"text-center \">{NormalizeDate(don.khinao)}</td>\r\n                  <td className=\"align-middle\">\r\n                    {renderThoiGianNghi(don.baolau)}\r\n                  </td>\r\n                  <td className=\"align-middle \">\r\n                    {renderTrangThaiDon(don.trangthai)}\r\n                  </td>\r\n                  <td>\r\n                    {NormalizeDate(don.tgvietdon)}&nbsp;\r\n                    {convertTime(don.tgvietdon)}\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {\" \"}\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handleDonSelected(e, don.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  </td>\r\n\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {don.trangthai === 0 ? (\r\n                      <XoaXinNghi id={don.id} xn={don} />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachXinNghi;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport { dateInPast } from \"../../../utils/DataHandler\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst ThemXinNghi = () => {\r\n  const [khinao, setKhiNao] = useState(\"\");\r\n  const [baolau, setBaoLau] = useState(\"--Chọn--\");\r\n  const [lydo, setLyDo] = useState(\"\");\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const [nhanvien, setNhanVien] = useState(\"\");\r\n  const username = window.localStorage.getItem(\"user_name\");\r\n\r\n  const { setMsgDonActionSuccess } = useContext(AccountContext);\r\n\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const getNhanVien = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\r\n          `/danh-sach-nhan-vien-theo-acc/${username}`\r\n        );\r\n        setNhanVien(res.data.data.nhanvien.id);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getNhanVien();\r\n  }, [username]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.stopPropagation();\r\n    if (!khinao) {\r\n      setMsgError(\"Ngày nghỉ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (dateInPast(new Date(khinao), new Date())) {\r\n      setMsgError(\"Bạn phải chọn ngày nghỉ sau ngày hôm nay.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (baolau === \"--Chọn--\") {\r\n      setMsgError(\"Thời gian nghỉ bạn phải chọn.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!lydo) {\r\n      setMsgError(\"Lý do nghỉ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await XinNghiFinder.post(\"/them\", {\r\n          khinao: khinao,\r\n          baolau: baolau,\r\n          lydo: lydo,\r\n          nhanvien_id: nhanvien,\r\n        });\r\n        console.log(res);\r\n        if (res.data.status === \"ok\") {\r\n          ThemLichSu({\r\n            doing: \"Viết\",\r\n            olddata: {},\r\n            newdata: { new: res.data.data.xinnghi },\r\n            tbl: \"Đơn xin nghỉ\",\r\n          });\r\n          setMsgDonActionSuccess(\"Thêm thành công.\");\r\n          setTimeout(() => {\r\n            setMsgDonActionSuccess(\"\");\r\n          }, 2500);\r\n          setKhiNao(\"\");\r\n          setLyDo(\"\");\r\n          setBaoLau(\"--Chọn--\");\r\n          hi.push(\"/quan-ly\");\r\n          hi.push(\"/quan-ly/nhan-vien/xin-nghi\");\r\n        } else {\r\n          setMsgError(res.data.status);\r\n          setTimeout(() => {\r\n            setMsgError(\"\");\r\n          }, 3500);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div className=\"mt-5 mb-2 \">\r\n          <div id=\"themdonxinnghi\">\r\n            <div className=\"card\">\r\n              <div className=\"card-header\" id=\"xinnghicard\">\r\n                <h5 className=\"mb-0\">\r\n                  <div\r\n                    className=\"text-primary collapsed\"\r\n                    data-toggle=\"collapse\"\r\n                    data-target=\"#formthemdonxinnghi\"\r\n                    aria-expanded=\"false\"\r\n                    aria-controls=\"formthemdonxinnghi\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    Xin nghỉ\r\n                  </div>\r\n                </h5>\r\n              </div>\r\n              <div\r\n                id=\"formthemdonxinnghi\"\r\n                className=\"collapse\"\r\n                aria-labelledby=\"xinnghicard\"\r\n                data-parent=\"#themdonxinnghi\"\r\n              >\r\n                <div className=\"card-body px-5\">\r\n                  <form action=\"\">\r\n                    <div className=\"form-row\">\r\n                      <div className=\"col\">\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"khinaonghi\">Khi nào nghỉ</label>\r\n                          <input\r\n                            type=\"date\"\r\n                            id=\"khinaonghi\"\r\n                            className=\"form-control\"\r\n                            onChange={(e) => setKhiNao(e.target.value)}\r\n                            value={khinao}\r\n                            min={new Date() - 1}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col\">\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"nghibaolau\">Nghỉ bao lâu</label>\r\n                          <select\r\n                            onChange={(e) => setBaoLau(e.target.value)}\r\n                            value={baolau}\r\n                            id=\"nghibaolau\"\r\n                            className=\"form-control\"\r\n                          >\r\n                            <option value=\"--Chọn--\" disabled>\r\n                              -- Chọn --\r\n                            </option>\r\n                            <option value=\"0\">Nửa ngày</option>\r\n                            <option value=\"1\">Một ngày</option>\r\n                            <option value=\"2\">Một ngày rưỡi</option>\r\n                            <option value=\"3\">Hai ngày</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"lydonghi\">Lý do nghỉ</label>\r\n                      <textarea\r\n                        id=\"\"\r\n                        rows=\"4\"\r\n                        className=\"form-control\"\r\n                        value={lydo}\r\n                        onChange={(e) => setLyDo(e.target.value)}\r\n                      ></textarea>\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-primary py-2 px-4\"\r\n                      onClick={handleSubmit}\r\n                    >\r\n                      Thêm\r\n                    </button>\r\n                    <p className=\"text-danger my-2\">{msgError}</p>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemXinNghi;\r\n","import React from \"react\";\r\nimport DanhSachXinNghi from \"../../../components/quanly/xinnghi/DanhSachXinNghi\";\r\nimport ThemXinNghi from \"../../../components/quanly/xinnghi/ThemXinNghi\";\r\n\r\nconst XinNghiPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">QUẢN LÝ NHÂN VIÊN XIN NGHỈ</h1>\r\n      <ThemXinNghi />\r\n      <DanhSachXinNghi />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XinNghiPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport { convertTime, NormalizeDate } from \"../../../utils/DataHandler\";\r\nconst ChiTietXinNghi = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [donSelected, setDonSelected] = useState([]);\r\n  const { msgDonActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await XinNghiFinder.get(`/danh-sach-full-theo-id/${id}`);\r\n        setDonSelected(res.data.data.xinnghi);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setDonSelected, id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/nhan-vien/xin-nghi\");\r\n  };\r\n  const handleUpdate = () => {\r\n    hi.push(`/quan-ly/nhan-vien/xin-nghi/${id}/sua`);\r\n  };\r\n\r\n  const renderTrangThaiDon = (tt) => {\r\n    let result;\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        result = (\r\n          <u>\r\n            <i className=\"fas fa-spinner text-info  \">&nbsp;Đang chờ</i>\r\n          </u>\r\n        );\r\n        break;\r\n      case \"1\":\r\n        result = (\r\n          <u>\r\n            {\" \"}\r\n            <i className=\"fas fa-check-circle text-success\">&nbsp;Đồng ý</i>\r\n          </u>\r\n        );\r\n        break;\r\n      case \"2\":\r\n        result = (\r\n          <u>\r\n            {\" \"}\r\n            <i class=\"fas fa-ban text-danger\">&nbsp;Từ chối</i>\r\n          </u>\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const renderThoiGianNghi = (tg) => {\r\n    let result;\r\n    switch (tg + \"\") {\r\n      case \"0\":\r\n        result = \"Nửa ngày\";\r\n        break;\r\n      case \"1\":\r\n        result = \"Một ngày\";\r\n        break;\r\n      case \"2\":\r\n        result = \"Một ngày rưỡi\";\r\n        break;\r\n      case \"3\":\r\n        result = \"Hai ngày\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary mt-5\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        {donSelected.trangthai === 0 ? (\r\n          <div className=\"mt-5 ml-2\">\r\n            <button className=\"btn btn-warning px-4\" onClick={handleUpdate}>\r\n              Sửa\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      <p className=\"text-center text-success\">{msgDonActionSuccess}</p>\r\n      <h4 className=\"mt-3 mb-3\">{donSelected.tennv}</h4>\r\n\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên nhân viên</td>\r\n            <td className=\"col-9 pl-2\">{donSelected.tennv}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Thời gian viết/sửa đơn\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NormalizeDate(donSelected.tgvietdon)}&nbsp;\r\n              {convertTime(donSelected.tgvietdon)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ngày xin nghỉ</td>\r\n            <td className=\"col-9 pl-2\">{NormalizeDate(donSelected.khinao)}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Thời gian nghỉ</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {renderThoiGianNghi(donSelected.baolau)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Trạng thái</td>\r\n            <td className=\"col-9 pl-2\">\r\n              <u>{renderTrangThaiDon(donSelected.trangthai)}</u>\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Lý do nghỉ</td>\r\n            <td className=\"col-9 pl-2\">{donSelected.lydo}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên người duyệt đơn</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {donSelected.nguoiduyet ? donSelected.nguoiduyet : \"Chưa duyệt\"}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ghi chú duyệt đơn</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {donSelected.ph_nguoiduyet\r\n                ? donSelected.ph_nguoiduyet\r\n                : \"Chưa duyệt\"}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Thời gian duyệt</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {donSelected.tgduyet\r\n                ? \"Ngày: \" +\r\n                  NormalizeDate(donSelected.tgduyet) +\r\n                  \", lúc \" +\r\n                  convertTime(donSelected.tgduyet)\r\n                : \"Chưa duyệt\"}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietXinNghi;\r\n","import React from \"react\";\r\nimport ChiTietXinNghi from \"../../../../components/quanly/xinnghi/ChiTietXinNghi\";\r\nconst ChiTietDonXinNghiPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Chi tiết thông tin đơn xin nghỉ</h1>\r\n      <ChiTietXinNghi />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietDonXinNghiPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { dateInPast, convertDate } from \"../../../utils/DataHandler\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst SuaXinNghi = () => {\r\n  let hi = useHistory();\r\n  const { id } = useParams();\r\n  const [old, setOld] = useState({});\r\n  const [khinao, setKhiNao] = useState(\"\");\r\n  const [baolau, setBaoLau] = useState(\"\");\r\n  const [lydo, setLyDo] = useState(\"\");\r\n  const { setMsgDonActionSuccess } = useContext(AccountContext);\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await XinNghiFinder.get(`/danh-sach-full-theo-id/${id}`);\r\n        const donSelected = res.data.data.xinnghi;\r\n        setKhiNao(convertDate(donSelected.khinao));\r\n        // console.log(convertDate(donSelected.khinao));\r\n        setBaoLau(donSelected.baolau);\r\n        setLyDo(donSelected.lydo);\r\n        setOld({\r\n          id,\r\n          khinao: convertDate(donSelected.khinao),\r\n          baolau: donSelected.baolau,\r\n          lydo: donSelected.lydo,\r\n        });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(`/quan-ly/nhan-vien/xin-nghi/${id}`);\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    if (!khinao) {\r\n      setMsgError(\"Ngày nghỉ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (dateInPast(new Date(khinao), new Date())) {\r\n      setMsgError(\"Bạn phải chọn ngày nghỉ sau ngày hôm nay.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!lydo) {\r\n      setMsgError(\"Lý do nghỉ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await XinNghiFinder.put(\"/sua\", {\r\n          id,\r\n          khinao,\r\n          baolau,\r\n          lydo,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id,\r\n            khinao,\r\n            baolau,\r\n            lydo,\r\n          };\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old },\r\n              newdata: { new: newd },\r\n              tbl: \"Đơn xin nghỉ\",\r\n            });\r\n          }\r\n          setMsgDonActionSuccess(\"Sửa thành công.\");\r\n          setTimeout(() => {\r\n            setMsgDonActionSuccess(\"\");\r\n          }, 2500);\r\n          hi.push(`/quan-ly/nhan-vien/xin-nghi/${id}`);\r\n        } else {\r\n          setMsgDonActionSuccess(res.data.status);\r\n          setTimeout(() => {\r\n            setMsgDonActionSuccess(\"\");\r\n          }, 2500);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <form action=\"\">\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"khinaonghi\">Khi nào nghỉ</label>\r\n              <input\r\n                type=\"date\"\r\n                id=\"khinaonghi\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setKhiNao(e.target.value)}\r\n                value={khinao}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"nghibaolau\">Nghỉ bao lâu</label>\r\n              <select\r\n                onChange={(e) => setBaoLau(e.target.value)}\r\n                value={baolau}\r\n                id=\"nghibaolau\"\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"--Chọn--\" disabled>\r\n                  -- Chọn --\r\n                </option>\r\n                <option value=\"0\">Nửa ngày</option>\r\n                <option value=\"1\">Một ngày</option>\r\n                <option value=\"2\">Một ngày rưỡi</option>\r\n                <option value=\"3\">Hai ngày</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"lydonghi\">Lý do nghỉ</label>\r\n          <textarea\r\n            id=\"\"\r\n            rows=\"4\"\r\n            className=\"form-control\"\r\n            value={lydo}\r\n            onChange={(e) => setLyDo(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n        <p className=\"text-danger my-2\">{msgError}</p>\r\n\r\n        <div className=\"d-flex flex-row\">\r\n          <button\r\n            className=\"btn btn-warning px-4\"\r\n            type=\"button\"\r\n            onClick={handleUpdate}\r\n          >\r\n            Sửa\r\n          </button>\r\n          <button className=\"btn btn-primary ml-3\" onClick={goBack}>\r\n            Quay lại\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaXinNghi;\r\n","import React from \"react\";\r\nimport SuaXinNghi from \"../../../../components/quanly/xinnghi/SuaXinNghi\";\r\n\r\nconst SuaDonXinNghiPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Sửa thông tin đơn xin nghỉ</h1>\r\n      <SuaXinNghi />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaDonXinNghiPage;\r\n","import React from \"react\";\r\n\r\nconst BangLuongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Bang Luong</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BangLuongPage;\r\n","import React, { useState } from \"react\";\r\nimport TaiKhoanFinder from \"../../../apis/TaiKhoanFinder\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst DoiMatKhau = ({ ten, iv, mk }) => {\r\n  const [mkCu, setMkCu] = useState(\"\");\r\n  const [mkMoi, setMkMoi] = useState(\"\");\r\n  const [xnMKMoi, setXnMkMoi] = useState(\"\");\r\n  const [msgE, setMsgE] = useState(\"\");\r\n  const [msgS, setMsgS] = useState(\"\");\r\n\r\n  const handleChangePassword = async () => {\r\n    if (mkCu === \"\") {\r\n      setMsgE(\"Không được để trống ô mật khẩu cũ\");\r\n      setTimeout(() => {\r\n        setMsgE(\"\");\r\n      }, 3500);\r\n    } else if (mkCu.length < 8) {\r\n      setMsgE(\"Mật khẩu cũ ít nhất có 8 kí tự\");\r\n      setTimeout(() => {\r\n        setMsgE(\"\");\r\n      }, 3500);\r\n    } else if (mkMoi === \"\") {\r\n      setMsgE(\"Không được để trống ô mật khẩu mới\");\r\n      setTimeout(() => {\r\n        setMsgE(\"\");\r\n      }, 3500);\r\n    } else if (mkMoi.length < 8) {\r\n      setMsgE(\"Mật khẩu mới ít nhất có 8 kí tự\");\r\n      setTimeout(() => {\r\n        setMsgE(\"\");\r\n      }, 3500);\r\n    } else if (xnMKMoi === \"\") {\r\n      setMsgE(\"Không được để trống ô xác nhận mật khẩu mới\");\r\n      setTimeout(() => {\r\n        setMsgE(\"\");\r\n      }, 4000);\r\n    } else if (xnMKMoi !== mkMoi) {\r\n      setMsgE(\"Mật khẩu mới và xác nhận mật khẩu mới phải giống nhau.\");\r\n      setTimeout(() => {\r\n        setMsgE(\"\");\r\n      }, 4000);\r\n    } else {\r\n      try {\r\n        const res = await TaiKhoanFinder.put(\"/doi-mat-khau\", {\r\n          ten: ten,\r\n          mk: mk,\r\n          iv: iv,\r\n          mkcu: mkCu,\r\n          mkmoi: mkMoi,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          ThemLichSu({\r\n            doing: \"Đổi mật khẩu\",\r\n            olddata: {},\r\n            newdata: {},\r\n            tbl: \"Người dùng\",\r\n          });\r\n          setMsgS(\"Đổi mật khẩu thành công.\");\r\n          setTimeout(() => {\r\n            setMsgS(\"\");\r\n          }, 3500);\r\n        } else {\r\n          setMsgE(res.data.status);\r\n          setTimeout(() => {\r\n            setMsgE(\"\");\r\n          }, 3500);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-info mt-2\"\r\n        type=\"button\"\r\n        data-toggle=\"modal\"\r\n        data-target=\"#doimatkhau\"\r\n      >\r\n        Đổi mật khẩu\r\n      </button>\r\n\r\n      <div className=\"modal fade mb-5\" id=\"doimatkhau\">\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Đổi mật khẩu</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"matkhaucu\">Mật khẩu cũ</label>\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"matkhaucu\"\r\n                  className=\"form-control\"\r\n                  value={mkCu}\r\n                  onChange={(e) => {\r\n                    setMkCu(e.target.value);\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"matkhaumoi\">Mật khẩu mới</label>\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"matkhaumoi\"\r\n                  className=\"form-control\"\r\n                  value={mkMoi}\r\n                  onChange={(e) => {\r\n                    setMkMoi(e.target.value);\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"xacnhanmkmoi\">Xác nhận mật khẩu mới</label>\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"xacnhanmkmoi\"\r\n                  className=\"form-control\"\r\n                  value={xnMKMoi}\r\n                  onChange={(e) => {\r\n                    setXnMkMoi(e.target.value);\r\n                  }}\r\n                />\r\n              </div>\r\n              <p className=\"text-left text-success\">{msgS}</p>\r\n              <p className=\"text-left text-danger\">{msgE}</p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-info font-weight-bold mr-2 px-4\"\r\n                onClick={handleChangePassword}\r\n              >\r\n                Đổi\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoiMatKhau;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport TaiKhoanFinder from \"../../../apis/TaiKhoanFinder\";\r\nimport { storage } from \"../../../firebase\";\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport { RenderGioiTinh, NormalizeDate } from \"../../../utils/DataHandler\";\r\nimport DoiMatKhau from \"./DoiMatKhau\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\n\r\nconst ProfileNhanVien = () => {\r\n  const username = window.localStorage.getItem(\"user_name\");\r\n\r\n  const [nhanvienSelected, setNhanVienSelected] = useState([]);\r\n\r\n  const [filename, setFileName] = useState(\"\");\r\n  const [avt, setAvt] = useState(\"\");\r\n\r\n  const [image, setImage] = useState(\"\");\r\n  const [progress, setProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const { setUserAvartar } = useContext(AccountContext);\r\n  const getFileName = async () => {\r\n    try {\r\n      const res = await TaiKhoanFinder.get(`/get-avt/${username}`);\r\n      if (res.data.status === \"ok\") {\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\r\n          `/danh-sach-nhan-vien-theo-acc/${username}`\r\n        );\r\n        if (res.data.status === \"ok\") {\r\n          setNhanVienSelected(res.data.data.nhanvien);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    const getAvtNow = async () => {\r\n      try {\r\n        const res = await TaiKhoanFinder.get(`/get-avt/${username}`);\r\n        if (res.data.status === \"ok\") {\r\n          console.log(res);\r\n          setAvt(res.data.data.nguoidung.avt);\r\n          setFileName(res.data.data.nguoidung.filename);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    getAvtNow();\r\n  }, [setNhanVienSelected, username, setAvt, setFileName]);\r\n\r\n  const handleUpload = (fname) => {\r\n    console.log(fname);\r\n    setImage(fname);\r\n    setProgress(100);\r\n    setIsUploading(false);\r\n    storage\r\n      .ref(\"images\")\r\n      .child(fname)\r\n      .getDownloadURL()\r\n      .then((urlRetrieve) => {\r\n        setAvt(urlRetrieve);\r\n        setUserAvartar(urlRetrieve);\r\n        handlePutData(fname, urlRetrieve);\r\n        getFileName();\r\n        console.log(filename);\r\n        if (filename !== \"no-user.jpg\") {\r\n          storage.ref(`images/${filename}`).delete(filename);\r\n        }\r\n      });\r\n  };\r\n\r\n  const handlePutData = async (fname, furl) => {\r\n    try {\r\n      await TaiKhoanFinder.put(\"/update-avt\", {\r\n        ten: username,\r\n        avt: furl,\r\n        filename: fname,\r\n      });\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 d-flex ml-5\">\r\n        <div className=\"d-flex flex-column\">\r\n          <img\r\n            alt=\"Avartar\"\r\n            width=\"300\"\r\n            height=\"300\"\r\n            className=\"border border-secondary mb-2\"\r\n            src={avt}\r\n          />\r\n          <label\r\n            style={{\r\n              backgroundColor: \"blue\",\r\n              color: \"white\",\r\n              padding: 10,\r\n              borderRadius: 4,\r\n              cursor: \"pointer\",\r\n              width: \"300px\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            Sửa ảnh đại diện\r\n            <FileUploader\r\n              accept=\"image/*\"\r\n              name={image}\r\n              storageRef={storage.ref(\"images\")}\r\n              onUploadStart={() => {\r\n                setIsUploading(true);\r\n                setProgress(0);\r\n              }}\r\n              onUploadError={(error) => {\r\n                console.log(error);\r\n                setIsUploading(false);\r\n              }}\r\n              onUploadSuccess={handleUpload}\r\n              onProgress={(progress) => {\r\n                setProgress(progress);\r\n              }}\r\n              hidden\r\n            />\r\n          </label>\r\n          {isUploading ? (\r\n            <progress value={progress} max=\"100\" className=\"form-control\">\r\n              {\" \"}\r\n              {progress}{\" \"}\r\n            </progress>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className=\"flex-grow ml-5 pl-5 mt-3\">\r\n          <h4>\r\n            Họ và tên:{\" \"}\r\n            <span className=\"font-weight-normal\">{nhanvienSelected.name}</span>\r\n          </h4>\r\n          <h4>\r\n            Giới tính:{\" \"}\r\n            <span className=\"font-weight-normal\">\r\n              {RenderGioiTinh(nhanvienSelected.gioitinh)}\r\n            </span>\r\n          </h4>\r\n          <h4>\r\n            Ngày sinh:{\" \"}\r\n            <span className=\"font-weight-normal\">\r\n              {NormalizeDate(nhanvienSelected.ngaysinh)}\r\n            </span>\r\n          </h4>\r\n          <h4>\r\n            Chứng minh nhân dân:{\" \"}\r\n            <span className=\"font-weight-normal\">{nhanvienSelected.cmnd}</span>\r\n          </h4>\r\n          <h4>\r\n            Số điện thoại:{\" \"}\r\n            <span className=\"font-weight-normal\">{nhanvienSelected.sdt}</span>\r\n          </h4>\r\n          <h4>\r\n            Email:{\" \"}\r\n            <span className=\"font-weight-normal\">{nhanvienSelected.email}</span>\r\n          </h4>\r\n          <h4>\r\n            Địa chỉ:{\" \"}\r\n            <span className=\"font-weight-normal\">\r\n              {nhanvienSelected.diachi}\r\n            </span>\r\n          </h4>\r\n          <h4>\r\n            Tài khoản đang sử dụng:{\" \"}\r\n            <span className=\"font-weight-normal\">\r\n              {nhanvienSelected.account}\r\n            </span>\r\n          </h4>\r\n          <DoiMatKhau\r\n            ten={nhanvienSelected.account}\r\n            iv={nhanvienSelected.iv}\r\n            mk={nhanvienSelected.mk}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileNhanVien;\r\n","import React from \"react\";\r\nimport ProfileNhanVien from \"../../../components/quanly/profilenhanvien/ProfileNhanVien\";\r\n\r\nconst ProfileNhanVienPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">THÔNG TIN CÁ NHÂN</h1>\r\n      <ProfileNhanVien />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileNhanVienPage;\r\n","import React from \"react\";\r\n\r\nconst ChamCongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Cham Cong</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChamCongPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst HanhDongDuyet = ({ hd, id }) => {\r\n  let hi = useHistory();\r\n  const [ghichu, setGhiChu] = useState();\r\n  const [tennv, setTenNv] = useState();\r\n  const username = window.localStorage.getItem(\"user_name\");\r\n  const udisplayname = window.localStorage.getItem(\"user_displayname\");\r\n\r\n  useEffect(() => {\r\n    const getNhanVien = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\r\n          `/danh-sach-nhan-vien-theo-acc/${username}`\r\n        );\r\n        setTenNv(res.data.data.nhanvien.name);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getNhanVien();\r\n  }, [username]);\r\n  const handleConfirm = async () => {\r\n    try {\r\n      await XinNghiFinder.put(\"ql-duyet\", {\r\n        id: id,\r\n        trangthai: hd === \"dy\" ? 1 : 2,\r\n        nguoiduyet: tennv ? tennv : \"Admin / Giám đốc\",\r\n        ph_nguoiduyet: ghichu ? ghichu : \"Không có lời nhắn\",\r\n      });\r\n      if (hd === \"dy\") {\r\n        ThemLichSu({\r\n          doing: \"Đồng ý\",\r\n          olddata: {},\r\n          newdata: {\r\n            new: {\r\n              id: id,\r\n              trangthai: hd === \"dy\" ? 1 : 2,\r\n              nguoiduyet: tennv ? tennv : \"Admin / Giám đốc\",\r\n              ph_nguoiduyet: ghichu ? ghichu : \"Không có lời nhắn\",\r\n            },\r\n          },\r\n          tbl: \"Đơn xin nghỉ\",\r\n        });\r\n      } else {\r\n        ThemLichSu({\r\n          doing: \"Từ chối\",\r\n          olddata: {},\r\n          newdata: {\r\n            new: {\r\n              id: id,\r\n              trangthai: hd === \"dy\" ? 1 : 2,\r\n              nguoiduyet: tennv ? tennv : udisplayname,\r\n              ph_nguoiduyet: ghichu ? ghichu : \"Không có lời nhắn\",\r\n            },\r\n          },\r\n          tbl: \"Đơn xin nghỉ\",\r\n        });\r\n      }\r\n      hi.push(\"/quan-ly\");\r\n      hi.push(\"/quan-ly/nv-quan-ly/duyet-don\");\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        type=\"button\"\r\n        className={hd === \"dy\" ? \"btn btn-success mr-2\" : \"btn btn-danger ml-2\"}\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}${hd}`}\r\n      >\r\n        &nbsp;{hd === \"dy\" ? \"Đồng ý\" : \"Từ chối\"}\r\n      </button>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}${hd}`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Ghi chú</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <textarea\r\n                rows=\"3\"\r\n                value={ghichu}\r\n                onChange={(e) => setGhiChu(e.target.value)}\r\n                className=\"form-control\"\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleConfirm(e)}\r\n              >\r\n                OK\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HanhDongDuyet;\r\n","import XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { NormalizeDate } from \"../../../utils/DataHandler\";\r\nimport HanhDongDuyet from \"./HanhDongDuyet\";\r\n\r\nconst DanhSachCho = () => {\r\n  const [dsDonCho, setDsDonCho] = useState([]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await XinNghiFinder.get(\"/danh-sach-cho\");\r\n        // console.log(res);\r\n        setDsDonCho(res.data.data.xinnghi);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  const renderThoiGianNghi = (tg) => {\r\n    let result;\r\n    switch (tg + \"\") {\r\n      case \"0\":\r\n        result = \"Nửa ngày\";\r\n        break;\r\n      case \"1\":\r\n        result = \"Một ngày\";\r\n        break;\r\n      case \"2\":\r\n        result = \"Một ngày rưỡi\";\r\n        break;\r\n      case \"3\":\r\n        result = \"Hai ngày\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      {dsDonCho.length !== 0 ? (\r\n        dsDonCho.map((doncho) => {\r\n          return (\r\n            <div className=\"col-sm-6 mb-4\" key={doncho.id}>\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"d-flex align-items-center mb-4\">\r\n                    <img\r\n                      className=\"border border-mute rounded-circle\"\r\n                      src={\r\n                        doncho.avt !== \"images/no-user.jpg\"\r\n                          ? doncho.avt\r\n                          : \"http://localhost:3000/images/no-user.jpg\"\r\n                      }\r\n                      alt=\"Ảnh nhân viên\"\r\n                      width=\"20%\"\r\n                    />\r\n                    <div className=\"d-lex ml-3 align-items-center\">\r\n                      <h5 className=\"card-title mb-1\">{doncho.tennv}</h5>\r\n                      <p className=\"card-text\">{doncho.sdt}</p>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"card-text\">\r\n                    <strong>Lý do nghỉ: </strong> {doncho.lydo}\r\n                  </p>\r\n                </div>\r\n                <ul className=\"list-group list-group-flush\">\r\n                  <li className=\"list-group-item\">\r\n                    <strong>Ngày nghỉ: </strong>\r\n                    {NormalizeDate(doncho.khinao)}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <strong>Thời gian nghỉ: </strong>\r\n                    {renderThoiGianNghi(doncho.baolau)}\r\n                  </li>\r\n                </ul>\r\n                <div className=\"card-body d-flex justify-content-center\">\r\n                  <HanhDongDuyet id={doncho.id} hd=\"dy\" />\r\n                  <HanhDongDuyet id={doncho.id} hd=\"tc\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })\r\n      ) : (\r\n        <div className=\"text-center text-info\">\r\n          Hiện không có đơn xin nghỉ nào\r\n        </div>\r\n      )}\r\n      {/* <div className=\"col-sm-6 mb-4\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <div className=\"d-flex align-items-center mb-4\">\r\n              <img\r\n                className=\"border border-mute rounded-circle\"\r\n                src=\"http://localhost:3000/images/no-user.jpg\"\r\n                alt=\"Ảnh nhân viên\"\r\n                width=\"20%\"\r\n              />\r\n              <div className=\"d-lex ml-3 align-items-center\">\r\n                <h5 className=\"card-title mb-1\">Trần Trọng Văn</h5>\r\n                <p className=\"card-text\">0314234123</p>\r\n              </div>\r\n            </div>\r\n            <p className=\"card-text\">\r\n              <strong>Lý do nghỉ: </strong> Some quick example text to build on\r\n              the card title and make up the bulk of the card's content.\r\n            </p>\r\n          </div>\r\n          <ul className=\"list-group list-group-flush\">\r\n            <li className=\"list-group-item\">\r\n              <strong>Ngày nghỉ: </strong>Cras justo odio\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <strong>Thời gian nghỉ: </strong>Dapibus ac facilisis in\r\n            </li>\r\n          </ul>\r\n          <div className=\"card-body\">\r\n            <button className=\"btn btn-success card-link\">Đồng ý</button>\r\n            <button className=\"btn btn-danger card-link\">Từ chối</button>\r\n          </div>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachCho;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst XoaDanhSachDaDuyet = ({ id, dsdd }) => {\r\n  let hi = useHistory();\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      const res = await XinNghiFinder.delete(`/xoa-da-duyet/${id}`);\r\n      //   console.log(res);\r\n      if (res.data === \"\") {\r\n        ThemLichSu({\r\n          doing: \"Xóa\",\r\n          olddata: { old: dsdd },\r\n          newdata: {},\r\n          tbl: \"Đơn xin nghỉ\",\r\n        });\r\n        hi.push(\"/quan-ly\");\r\n        hi.push(\"/quan-ly/nv-quan-ly/duyet-don\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoadaduyet`}\r\n      >\r\n        &nbsp;Xóa\r\n      </i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoadaduyet`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa đơn xin nghỉ này không ?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaDanhSachDaDuyet;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport Host from \"../../../hosts/Host\";\r\nimport { NormalizeDate } from \"../../../utils/DataHandler\";\r\nimport { useHistory } from \"react-router\";\r\nimport XoaDanhSachDaDuyet from \"./XoaDanhSachDaDuyet\";\r\n\r\nconst DanhSachDaDuyet = () => {\r\n  const [dsDaDuyet, setDsDaDuyet] = useState([]);\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await XinNghiFinder.get(\"/danh-sach-da-duyet\");\r\n        setDsDaDuyet(res.data.data.xinnghi);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleDonSelected = (e, id) => {\r\n    e.stopPropagation();\r\n    hi.push(`/quan-ly/nv-quan-ly/duyet-don/${id}`);\r\n  };\r\n\r\n  const renderTrangThaiDon = (tt) => {\r\n    let result;\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        result = (\r\n          <u>\r\n            <i className=\"fas fa-spinner text-info  \">&nbsp;Đang chờ</i>\r\n          </u>\r\n        );\r\n        break;\r\n      case \"1\":\r\n        result = (\r\n          <u>\r\n            {\" \"}\r\n            <i className=\"fas fa-check-circle text-success\">&nbsp;Đồng ý</i>\r\n          </u>\r\n        );\r\n        break;\r\n      case \"2\":\r\n        result = (\r\n          <u>\r\n            {\" \"}\r\n            <i className=\"fas fa-ban text-danger\">&nbsp;Từ chối</i>\r\n          </u>\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const renderThoiGianNghi = (tg) => {\r\n    let result;\r\n    switch (tg + \"\") {\r\n      case \"0\":\r\n        result = \"Nửa ngày\";\r\n        break;\r\n      case \"1\":\r\n        result = \"Một ngày\";\r\n        break;\r\n      case \"2\":\r\n        result = \"Một ngày rưỡi\";\r\n        break;\r\n      case \"3\":\r\n        result = \"Hai ngày\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-5\">\r\n        <table className=\"table table-hover table-striped table-bordered \">\r\n          <thead className=\"thead-dark text-center\">\r\n            <tr>\r\n              <th>NV xin nghỉ</th>\r\n              <th>Ảnh</th>\r\n              <th>SDT</th>\r\n              <th>Ngày nghỉ</th>\r\n              <th>Thời gian nghỉ</th>\r\n              <th>Trạng thái</th>\r\n              <th>Xem</th>\r\n              <th>Xóa</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {dsDaDuyet.map((don) => {\r\n              return (\r\n                <tr key={don.id} className=\"text-center\">\r\n                  <td className=\"align-middle\">{don.tennv}</td>\r\n                  <td className=\"align-middle\">\r\n                    <img\r\n                      width=\"100\"\r\n                      src={\r\n                        don.avt !== \"images/no-user.jpg\"\r\n                          ? don.avt\r\n                          : Host + don.avt\r\n                      }\r\n                      alt=\"Ảnh nhân viên\"\r\n                    />\r\n                  </td>\r\n                  <td className=\"align-middle\">{don.sdt}</td>\r\n                  <td className=\"text-center align-middle\">\r\n                    {NormalizeDate(don.khinao)}\r\n                  </td>\r\n                  <td className=\"align-middle\">\r\n                    {renderThoiGianNghi(don.baolau)}\r\n                  </td>\r\n                  <td className=\"align-middle \">\r\n                    {renderTrangThaiDon(don.trangthai)}\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {\" \"}\r\n                    <i\r\n                      className=\"far fa-eye text-primary\"\r\n                      onClick={(e) => handleDonSelected(e, don.id)}\r\n                    >\r\n                      &nbsp;Xem\r\n                    </i>\r\n                  </td>\r\n                  <td\r\n                    className=\"align-middle text-center\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <XoaDanhSachDaDuyet id={don.id} dsdd={don} />\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachDaDuyet;\r\n","const Host = \"\";\r\nexport default Host;\r\n","import React from \"react\";\r\nimport DanhSachCho from \"../../../components/quanly/duyetdon/DanhSachCho\";\r\nimport DanhSachDaDuyet from \"../../../components/quanly/duyetdon/DanhSachDaDuyet\";\r\n\r\nconst DonXinNghiPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Duyệt đơn xin nghỉ</h1>\r\n      <DanhSachCho />\r\n      <DanhSachDaDuyet />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DonXinNghiPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport XinNghiFinder from \"../../../apis/XinNghiFinder\";\r\nimport { convertTime, NormalizeDate } from \"../../../utils/DataHandler\";\r\n\r\nconst DanhSachDaDuyetChiTiet = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [donDaDuyetSelected, setDonDaDuyetSelected] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await XinNghiFinder.get(`/danh-sach-da-duyet/${id}`);\r\n        setDonDaDuyetSelected(res.data.data.xinnghi);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id, setDonDaDuyetSelected]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/nv-quan-ly/duyet-don\");\r\n  };\r\n  const renderTrangThaiDon = (tt) => {\r\n    let result;\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        result = (\r\n          <u>\r\n            <i className=\"fas fa-spinner text-info  \">&nbsp;Đang chờ</i>\r\n          </u>\r\n        );\r\n        break;\r\n      case \"1\":\r\n        result = (\r\n          <u>\r\n            {\" \"}\r\n            <i className=\"fas fa-check-circle text-success\">&nbsp;Đồng ý</i>\r\n          </u>\r\n        );\r\n        break;\r\n      case \"2\":\r\n        result = (\r\n          <u>\r\n            {\" \"}\r\n            <i class=\"fas fa-ban text-danger\">&nbsp;Từ chối</i>\r\n          </u>\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const renderThoiGianNghi = (tg) => {\r\n    let result;\r\n    switch (tg + \"\") {\r\n      case \"0\":\r\n        result = \"Nửa ngày\";\r\n        break;\r\n      case \"1\":\r\n        result = \"Một ngày\";\r\n        break;\r\n      case \"2\":\r\n        result = \"Một ngày rưỡi\";\r\n        break;\r\n      case \"3\":\r\n        result = \"Hai ngày\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary mt-5\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n      </div>\r\n      <h4 className=\"mt-3 mb-3\">{donDaDuyetSelected.tennv}</h4>\r\n\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên nhân viên</td>\r\n            <td className=\"col-9 pl-2\">{donDaDuyetSelected.tennv}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ngày xin nghỉ</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NormalizeDate(donDaDuyetSelected.khinao)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Thời gian nghỉ</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {renderThoiGianNghi(donDaDuyetSelected.baolau)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Trạng thái</td>\r\n            <td className=\"col-9 pl-2\">\r\n              <u>{renderTrangThaiDon(donDaDuyetSelected.trangthai)}</u>\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Lý do nghỉ</td>\r\n            <td className=\"col-9 pl-2\">{donDaDuyetSelected.lydo}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên người duyệt đơn</td>\r\n            <td className=\"col-9 pl-2\">{donDaDuyetSelected.nguoiduyet}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ghi chú duyệt đơn</td>\r\n            <td className=\"col-9 pl-2\">{donDaDuyetSelected.ph_nguoiduyet}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Thời gian duyệt</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {\"Ngày: \" +\r\n                NormalizeDate(donDaDuyetSelected.tgduyet) +\r\n                \", lúc \" +\r\n                convertTime(donDaDuyetSelected.tgduyet)}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachDaDuyetChiTiet;\r\n","import React from \"react\";\r\nimport DanhSachDaDuyetChiTiet from \"../../../../components/quanly/duyetdon/DanhSachDaDuyetChiTiet\";\r\n\r\nconst DuyetDonChiTietPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Duyệt đơn xin nghỉ chi tiết</h1>\r\n      <DanhSachDaDuyetChiTiet />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DuyetDonChiTietPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\n\r\nconst ChiTietPhong = () => {\r\n  const { ten } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [phongSelected, setPhongSelected] = useState([]);\r\n  const { msgPhongActionSuccess } = useContext(AccountContext);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await PhongFinder.get(`/danh-sach-phong/${ten}`);\r\n        setPhongSelected(res.data.data.phong);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setPhongSelected, ten]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/danh-muc/phong\");\r\n  };\r\n\r\n  const renderTrangThai = (tt) => {\r\n    let trangthai = \"\";\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        trangthai = \"Sẵn sàng\";\r\n        break;\r\n      case \"1\":\r\n        trangthai = \"Đang được đặt\";\r\n        break;\r\n      case \"2\":\r\n        trangthai = \"Đang sử dụng\";\r\n        break;\r\n      case \"3\":\r\n        trangthai = \"Chờ hóa đơn.\";\r\n        break;\r\n      case \"4\":\r\n        trangthai = \"Chưa thanh toán.\";\r\n        break;\r\n      case \"5\":\r\n        trangthai = \"Chưa dọn.\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return trangthai;\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    hi.push(`/quan-ly/danh-muc/phong/${ten}/sua`);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary mt-5\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        <div className=\"mt-5 ml-2\">\r\n          <button className=\"btn btn-warning px-4\" onClick={handleUpdate}>\r\n            Sửa\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <p className=\"text-center text-success\">{msgPhongActionSuccess}</p>\r\n      <h4 className=\"mt-3 mb-3\">{phongSelected.ten}</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên phòng</td>\r\n            <td className=\"col-9 pl-2\">{phongSelected.ten}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Trạng thái</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {renderTrangThai(phongSelected.trangthai)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Giá phòng theo ngày</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(phongSelected.giaphongtheongay)}&nbsp;<b>VND</b>\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Giá phòng theo giờ</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(phongSelected.giaphongtheogio)}&nbsp;<b>VND</b>\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Loại phòng</td>\r\n            <td className=\"col-9 pl-2\">{phongSelected.loaiphong}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ảnh phòng</td>\r\n            <td className=\"col-9 pl-2\">\r\n              <img src={phongSelected.anh} alt=\"Ảnh phòng\" width=\"300\" />\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tiêu đề phòng</td>\r\n            <td className=\"col-9 pl-2\">{phongSelected.tieude}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Mô tả ngắn gọn</td>\r\n            <td className=\"col-9 pl-2\">{phongSelected.mota_ngangon}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Mô tả chi tiết</td>\r\n            <td\r\n              className=\"col-9 pl-2\"\r\n              dangerouslySetInnerHTML={{ __html: phongSelected.mota_chitiet }}\r\n            ></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietPhong;\r\n","import React from \"react\";\r\nimport ChiTietPhong from \"../../../../components/quanly/phong/ChiTietPhong\";\r\n\r\nconst ChiTietPhongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Thông tin chi tiết phòng</h1>\r\n      <ChiTietPhong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietPhongPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport { storage } from \"../../../firebase\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst SuaPhong = () => {\r\n  let hi = useHistory();\r\n  const { ten } = useParams();\r\n\r\n  const [tenphong, setTenPhong] = useState(\"\");\r\n  const [anhphong, setAnhPhong] = useState(\"\");\r\n  const [filename, setFileName] = useState(\"\");\r\n  const [giaphongtheongay, setGiaPhongTheoNgay] = useState(\"\");\r\n  const [giaphongtheogio, setGiaPhongTheoGio] = useState(\"\");\r\n  const [tieude, setTieuDe] = useState(\"\");\r\n  const [motangangon, setMoTaNganGon] = useState(\"\");\r\n  const [motachitiet, setMoTaChiTiet] = useState(\"\");\r\n  const [trangthai, setTrangThai] = useState(\"\");\r\n  const [loaiphong, setLoaiPhong] = useState(\"\");\r\n\r\n  const [old, setOld] = useState({});\r\n\r\n  const [msgError, setMsgError] = useState(\"\");\r\n  const { setMsgPhongActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await PhongFinder.get(`/danh-sach-phong/${ten}`);\r\n        const phongUpdate = res.data.data.phong;\r\n        setTenPhong(phongUpdate.ten);\r\n        setAnhPhong(phongUpdate.anh);\r\n        setFileName(phongUpdate.filename);\r\n        setGiaPhongTheoGio(phongUpdate.giaphongtheogio);\r\n        setGiaPhongTheoNgay(phongUpdate.giaphongtheongay);\r\n        setTieuDe(phongUpdate.tieude);\r\n        setMoTaNganGon(phongUpdate.mota_ngangon);\r\n        setMoTaChiTiet(phongUpdate.mota_chitiet);\r\n        setTrangThai(phongUpdate.trangthai);\r\n        setLoaiPhong(phongUpdate.loaiphong);\r\n\r\n        setOld({\r\n          ten: phongUpdate.ten,\r\n          trangthai: phongUpdate.trangthai,\r\n          anh: phongUpdate.anh,\r\n          tieude: phongUpdate.tieude,\r\n          mtngangon: phongUpdate.mota_ngangon,\r\n          mtchitiet: phongUpdate.mota_chitiet,\r\n          giaphongtheongay: phongUpdate.giaphongtheongay,\r\n          giaphongtheogio: phongUpdate.giaphongtheogio,\r\n          filename: phongUpdate.filename,\r\n          loaiphong: phongUpdate.loaiphong,\r\n        });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [ten]);\r\n\r\n  const handleDeleteImagePrev = () => {\r\n    storage.ref(\"phong\").child(filename).delete();\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    if (!tenphong) {\r\n      setMsgError(\"Tên phòng không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!giaphongtheongay) {\r\n      setMsgError(\"Giá phòng theo ngày không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!giaphongtheogio) {\r\n      setMsgError(\"Giá phòng theo giờ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!tieude) {\r\n      setMsgError(\"Tiêu đề không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!motangangon) {\r\n      setMsgError(\"Mô tả ngắn gọn không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!motachitiet) {\r\n      setMsgError(\"Mô tả chi tiết không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await PhongFinder.put(\"/sua-phong\", {\r\n          ten: NormalizeString(tenphong),\r\n          trangthai: trangthai,\r\n          anh: anhphong,\r\n          tieude: NormalizeString(tieude),\r\n          mtngangon: motangangon,\r\n          mtchitiet: motachitiet,\r\n          giaphongtheongay: giaphongtheongay,\r\n          giaphongtheogio: giaphongtheogio,\r\n          filename: filename,\r\n          loaiphong: loaiphong,\r\n        });\r\n        // console.log(res);\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            ten: NormalizeString(tenphong),\r\n            trangthai: trangthai,\r\n            anh: anhphong,\r\n            tieude: NormalizeString(tieude),\r\n            mtngangon: motangangon,\r\n            mtchitiet: motachitiet,\r\n            giaphongtheongay: giaphongtheongay,\r\n            giaphongtheogio: giaphongtheogio,\r\n            filename: filename,\r\n            loaiphong: loaiphong,\r\n          };\r\n\r\n          if (JSON.stringify(newd) !== JSON.stringify(old)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old: old },\r\n              newdata: { new: newd },\r\n              tbl: \"Phòng\",\r\n            });\r\n          }\r\n          setMsgPhongActionSuccess(\"Sửa thành công.\");\r\n          setTimeout(() => {\r\n            setMsgPhongActionSuccess(\"\");\r\n          }, 2500);\r\n          hi.push(`/quan-ly/danh-muc/phong/${ten}`);\r\n        } else {\r\n          setMsgError(res.data.status);\r\n          setTimeout(() => {\r\n            setMsgError(\"\");\r\n          }, 4000);\r\n        }\r\n      } catch (er) {\r\n        console.log(er.message);\r\n      }\r\n    }\r\n  };\r\n  const goBack = () => {\r\n    hi.push(`/quan-ly/danh-muc/phong/${ten}`);\r\n  };\r\n\r\n  const handleUpload = (img) => {\r\n    const uploadTask = storage.ref(`phong/${img.name}`).put(img);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {},\r\n      (error) => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        storage\r\n          .ref(\"phong\")\r\n          .child(img.name)\r\n          .getDownloadURL()\r\n          .then((url) => {\r\n            setAnhPhong(url);\r\n          });\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form action=\"\" encType=\"multipart/form-data\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"anhphong\">Ảnh đại diện</label>\r\n          <img src={anhphong} alt=\"Ảnh phòng\" width=\"300\" />\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            id=\"anhphong\"\r\n            className=\"form-control\"\r\n            onChange={(e) => {\r\n              if (e.target.files[0]) {\r\n                handleDeleteImagePrev();\r\n                setFileName(e.target.files[0].name);\r\n                handleUpload(e.target.files[0]);\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"giaphong\">Giá phòng theo ngày</label>\r\n\r\n              <CurrencyInput\r\n                id=\"giaphong\"\r\n                value={giaphongtheongay}\r\n                className=\"form-control text-right\"\r\n                suffix=\" đồng\"\r\n                groupSeparator=\".\"\r\n                onValueChange={(value) => {\r\n                  setGiaPhongTheoNgay(value);\r\n                }}\r\n                step=\"1000\"\r\n                maxLength=\"9\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            {\" \"}\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"giacanhtranh\">Giá phòng theo giờ</label>\r\n\r\n              <CurrencyInput\r\n                id=\"giacanhtranh\"\r\n                value={giaphongtheogio}\r\n                className=\"form-control text-right\"\r\n                suffix=\" đồng\"\r\n                groupSeparator=\".\"\r\n                onValueChange={(value) => {\r\n                  setGiaPhongTheoGio(value);\r\n                }}\r\n                step=\"1000\"\r\n                maxLength=\"9\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"loaiphong\">Loại phòng</label>\r\n              <select\r\n                id=\"loaiphong\"\r\n                className=\"form-control\"\r\n                value={loaiphong}\r\n                onChange={(e) => setLoaiPhong(e.target.value)}\r\n              >\r\n                <option value=\"Phòng đơn\">Phòng đơn</option>\r\n                <option value=\"Phòng đôi\">Phòng đôi</option>\r\n                <option value=\"Gia đình\">Gia đình</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"tieude\">Tiêu đề</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"tieude\"\r\n            className=\"form-control\"\r\n            value={tieude}\r\n            onChange={(e) => setTieuDe(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"motangangon\">Mô tả ngắn gọn</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            id=\"motangangon\"\r\n            rows=\"2\"\r\n            value={motangangon}\r\n            onChange={(e) => setMoTaNganGon(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"motachitiet\">Mô tả chi tiết</label>\r\n          <CKEditor\r\n            data={motachitiet}\r\n            editor={ClassicEditor}\r\n            onChange={(event, editor) => {\r\n              const data = editor.getData();\r\n              setMoTaChiTiet(data);\r\n            }}\r\n            config={{\r\n              ckfinder: {\r\n                uploadUrl: \"http://localhost:3005/api/v1/phong/uploads\",\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <p className=\"text-danger my-2\">{msgError}</p>\r\n\r\n        <div className=\"d-flex flex-row\">\r\n          <button\r\n            className=\"btn btn-warning px-4\"\r\n            type=\"button\"\r\n            onClick={handleUpdate}\r\n          >\r\n            Sửa\r\n          </button>\r\n          <button className=\"btn btn-primary ml-3\" onClick={goBack}>\r\n            Quay lại\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaPhong;\r\n","import React from \"react\";\r\nimport SuaPhong from \"../../../../components/quanly/phong/SuaPhong\";\r\n\r\nconst SuaPhongPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Sửa thông tin phòng</h1>\r\n      <SuaPhong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaPhongPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport DichVuFinder from \"../../../apis/DichVuFinder\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\n\r\nconst ChiTietDichVu = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [dichvuSelected, setDichVuSelected] = useState([]);\r\n  const { msgDichVuActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await DichVuFinder.get(`/danh-sach-dich-vu/${id}`);\r\n        setDichVuSelected(res.data.data.dichvu);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setDichVuSelected, id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/danh-muc/dich-vu\");\r\n  };\r\n  const handleUpdate = () => {\r\n    hi.push(`/quan-ly/danh-muc/dich-vu/${id}/sua`);\r\n  };\r\n\r\n  const renderTrangThai = (tt) => {\r\n    let trangthai = \"\";\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        trangthai = \"Không còn cung cấp\";\r\n        break;\r\n      case \"1\":\r\n        trangthai = \"Có thể cung cấp\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return trangthai;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary mt-5\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        <div className=\"mt-5 ml-2\">\r\n          <button className=\"btn btn-warning px-4\" onClick={handleUpdate}>\r\n            Sửa\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <p className=\"text-center text-success\">{msgDichVuActionSuccess}</p>\r\n      <h4 className=\"mt-3 mb-3\">{dichvuSelected.ten}</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên dịch vụ</td>\r\n            <td className=\"col-9 pl-2\">{dichvuSelected.ten}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Trạng thái</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {renderTrangThai(dichvuSelected.trangthai)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Giá dịch vụ</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(dichvuSelected.giahientai)}&nbsp;<b>VND</b>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ảnh minh họa</td>\r\n            <td className=\"col-9 pl-2\">\r\n              <img\r\n                src={dichvuSelected.anhminhhoa}\r\n                alt=\"Ảnh dịch vụ\"\r\n                width=\"300\"\r\n              />\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Loại dịch vụ</td>\r\n            <td className=\"col-9 pl-2\">{dichvuSelected.label}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ghi chú</td>\r\n            <td\r\n              className=\"col-9 pl-2\"\r\n              dangerouslySetInnerHTML={{ __html: dichvuSelected.ghichu }}\r\n            ></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietDichVu;\r\n","import React from \"react\";\r\nimport ChiTietDichVu from \"../../../../components/quanly/dichvu/ChiTietDichVu\";\r\n\r\nconst ChiTietDichVuPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Thông tin chi tiết dịch vụ</h1>\r\n      <ChiTietDichVu />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietDichVuPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport DichVuFinder from \"../../../apis/DichVuFinder\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport { storage } from \"../../../firebase\";\r\nimport { convertDataTocreatableSelect } from \"../../../utils/DataHandler\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst SuaDichVu = () => {\r\n  let hi = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const [old, setOld] = useState(\"\");\r\n  const [tendv, setTenDV] = useState(\"\");\r\n  const [anhDV, setAnhDV] = useState(\"\");\r\n  const [filename, setFileName] = useState(\"\");\r\n  const [giadichvu, setGiaDichVu] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [loai, setLoai] = useState();\r\n  const [trangthai, setTrangThai] = useState(\"\");\r\n\r\n  const [loadDv, setLoadDv] = useState();\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const [loaiDv, setLoaiDv] = useState([]);\r\n\r\n  const { setMsgDichVuActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await DichVuFinder.get(`/danh-sach-dich-vu/${id}`);\r\n        const dichvuUpdate = res.data.data.dichvu;\r\n        setTenDV(dichvuUpdate.ten);\r\n        setAnhDV(dichvuUpdate.anhminhhoa);\r\n        setFileName(dichvuUpdate.filename);\r\n        setGiaDichVu(dichvuUpdate.giahientai);\r\n        setGhiChu(dichvuUpdate.ghichu);\r\n        setTrangThai(dichvuUpdate.trangthai);\r\n        setLoai(dichvuUpdate.value);\r\n        setLoadDv({ value: dichvuUpdate.value, label: dichvuUpdate.label });\r\n\r\n        setOld({\r\n          id: id,\r\n          ten: dichvuUpdate.ten,\r\n          ghichu: dichvuUpdate.ghichu,\r\n          giadv: dichvuUpdate.giahientai,\r\n          trangthai: dichvuUpdate.trangthai,\r\n          anh: dichvuUpdate.anhminhhoa,\r\n          filename: dichvuUpdate.filename,\r\n          loaidichvu_id: dichvuUpdate.value,\r\n        });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n\r\n    const getDataCategory = async () => {\r\n      try {\r\n        const res = await DichVuFinder.get(\"/danh-sach-loai-dich-vu\");\r\n        setLoaiDv(convertDataTocreatableSelect(res.data.data.loaidv));\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getDataCategory();\r\n  }, [id, setLoaiDv]);\r\n\r\n  const handleDeleteImagePrev = () => {\r\n    storage.ref(\"dichvu\").child(filename).delete();\r\n  };\r\n\r\n  const goBack = () => {\r\n    hi.push(`/quan-ly/danh-muc/dich-vu/${id}`);\r\n  };\r\n\r\n  const handleChange = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setLoai(dataSelected.value);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddCategory(dataSelected.value);\r\n    }\r\n  };\r\n\r\n  const handleAddCategory = async (name) => {\r\n    try {\r\n      const res = await DichVuFinder.post(\"/them-loai-dich-vu\", {\r\n        name: name,\r\n      });\r\n      setLoai(res.data.data.loaidichvu.id);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleUpload = (img) => {\r\n    const uploadTask = storage.ref(`dichvu/${img.name}`).put(img);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {},\r\n      (error) => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        storage\r\n          .ref(\"dichvu\")\r\n          .child(img.name)\r\n          .getDownloadURL()\r\n          .then((url) => {\r\n            setAnhDV(url);\r\n          });\r\n      }\r\n    );\r\n  };\r\n\r\n  const customStyles = {\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      borderBottom: \"1px dotted black\",\r\n      color: state.isSelected ? \"black\" : \"#51515\",\r\n      padding: 5,\r\n    }),\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    if (!tendv) {\r\n      setMsgError(\"Tên dịch vụ không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!giadichvu) {\r\n      setMsgError(\"Giá dịch vụ theo ngày không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await DichVuFinder.put(\"/sua-dich-vu\", {\r\n          id: id,\r\n          ten: NormalizeString(tendv),\r\n          ghichu: ghichu,\r\n          giadv: giadichvu,\r\n          trangthai: trangthai,\r\n          anh: anhDV,\r\n          filename: filename,\r\n          loaidichvu_id: loai,\r\n        });\r\n        // console.log(res);\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: id,\r\n            ten: NormalizeString(tendv),\r\n            ghichu: ghichu,\r\n            giadv: giadichvu,\r\n            trangthai: trangthai,\r\n            anh: anhDV,\r\n            filename: filename,\r\n            loaidichvu_id: loai,\r\n          };\r\n          console.log();\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old },\r\n              newdata: { new: newd },\r\n              tbl: \"Dịch vụ\",\r\n            });\r\n          }\r\n\r\n          setMsgDichVuActionSuccess(\"Sửa thành công.\");\r\n          setTimeout(() => {\r\n            setMsgDichVuActionSuccess(\"\");\r\n          }, 2500);\r\n          hi.push(`/quan-ly/danh-muc/dich-vu/${id}`);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mb-5\">\r\n      <form\r\n        action=\"\"\r\n        encType=\"multipart/form-data\"\r\n        className=\"border border-warning p-3\"\r\n      >\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"tendv\">Tên dịch vụ</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"tendv\"\r\n            className=\"form-control\"\r\n            value={tendv}\r\n            onChange={(e) => setTenDV(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"anhdv\">Ảnh đại diện</label>\r\n          <img src={anhDV} alt=\"Ảnh dịch vụ\" width=\"200\" className=\"mx-3\" />\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            id=\"anhdv\"\r\n            //\r\n            onChange={(e) => {\r\n              if (e.target.files[0]) {\r\n                handleDeleteImagePrev();\r\n                setFileName(e.target.files[0].name);\r\n                handleUpload(e.target.files[0]);\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"giadichvu\">Giá dịch vụ</label>\r\n          {/* <input\r\n            id=\"giadichvu\"\r\n            type=\"number\"\r\n            min=\"10000\"\r\n            step=\"1000\"\r\n            className=\"form-control text-right\"\r\n            value={giadichvu}\r\n            onChange={(e) => setGiaDichVu(e.target.value)}\r\n          /> */}\r\n          <CurrencyInput\r\n            id=\"giadv\"\r\n            value={giadichvu}\r\n            className=\"form-control text-right\"\r\n            suffix=\" đồng\"\r\n            groupSeparator=\".\"\r\n            onValueChange={(value) => {\r\n              setGiaDichVu(value);\r\n            }}\r\n            step=\"1000\"\r\n            maxLength=\"9\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"ghichu\">Ghi chú</label>\r\n          <CKEditor\r\n            data={ghichu}\r\n            editor={ClassicEditor}\r\n            onChange={(event, editor) => {\r\n              const data = editor.getData();\r\n              setGhiChu(data);\r\n            }}\r\n            // config={{\r\n            //   ckfinder: {\r\n            //     uploadUrl: \"http://localhost:3005/api/v1/phong/uploads\",\r\n            //   },\r\n            //\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"loaidv\">Loại dịch vụ</label>\r\n          <CreatableSelect\r\n            id=\"loaidv\"\r\n            isClearable\r\n            onChange={handleChange}\r\n            options={loaiDv}\r\n            styles={customStyles}\r\n            value={loadDv}\r\n          />\r\n        </div>\r\n        <p className=\"text-danger my-2\">{msgError}</p>\r\n\r\n        <div className=\"d-flex flex-row\">\r\n          <button\r\n            className=\"btn btn-warning px-4\"\r\n            type=\"button\"\r\n            onClick={handleUpdate}\r\n          >\r\n            Sửa\r\n          </button>\r\n          <button className=\"btn btn-primary ml-3\" onClick={goBack}>\r\n            Quay lại\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaDichVu;\r\n","import React from \"react\";\r\nimport SuaDichVu from \"../../../../components/quanly/dichvu/SuaDichVu\";\r\n\r\nconst SuaDichVuPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Sửa thông tin dịch vụ</h1>\r\n      <SuaDichVu />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaDichVuPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport TaiSanFinder from \"../../../apis/TaiSanFinder\";\r\nimport { NumberFormat, NormalizeDate } from \"../../../utils/DataHandler\";\r\n\r\nconst ChiTietTaiSan = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [taisanSelected, setTaiSanSelected] = useState([]);\r\n  const { msgTaiSanActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await TaiSanFinder.get(`/danh-sach-tai-san/${id}`);\r\n        setTaiSanSelected(res.data.data.taisan);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setTaiSanSelected, id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/ql-tai-san/thong-tin\");\r\n  };\r\n  const handleUpdate = () => {\r\n    hi.push(`/quan-ly/ql-tai-san/thong-tin/${id}/sua`);\r\n  };\r\n\r\n  const renderTrangThai = (tt) => {\r\n    let trangthai = \"\";\r\n    switch (tt + \"\") {\r\n      case \"0\":\r\n        trangthai = \"Bị hỏng\";\r\n        break;\r\n      case \"1\":\r\n        trangthai = \"Hoạt động tốt\";\r\n        break;\r\n      case \"2\":\r\n        trangthai = \"Đang bảo dưỡng\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return trangthai;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary mt-5\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        <div className=\"mt-5 ml-2\">\r\n          <button className=\"btn btn-warning px-4\" onClick={handleUpdate}>\r\n            Sửa\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <p className=\"text-center text-success\">{msgTaiSanActionSuccess}</p>\r\n      <h4 className=\"mt-3 mb-3\">{taisanSelected.ten}</h4>\r\n\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tên tài sản</td>\r\n            <td className=\"col-9 pl-2\">{taisanSelected.ten}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Trạng thái</td>\r\n            <td className=\"col-9 pl-2\">\r\n              <u>{renderTrangThai(taisanSelected.trangthai)}</u>\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Giá tài sản</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(taisanSelected.giataisan)}&nbsp;<b>VND</b>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ngày mua</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NormalizeDate(taisanSelected.ngaymua)}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Bảo dưỡng lần cuối</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NormalizeDate(taisanSelected.bdlancuoi)}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Vị trí</td>\r\n            <td className=\"col-9 pl-2\">{taisanSelected.vitri}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Loại tài sản</td>\r\n            <td className=\"col-9 pl-2\">{taisanSelected.loaitaisan_name}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Đơn vị tính</td>\r\n            <td className=\"col-9 pl-2\">{taisanSelected.donvitinh_name}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Nhà cung cấp</td>\r\n            <td className=\"col-9 pl-2\">{taisanSelected.nhacc_name}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Địa chỉ nhà cung cấp\r\n            </td>\r\n            <td className=\"col-9 pl-2\">{taisanSelected.nhacc_diachi}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Số điện thoại liên hệ\r\n            </td>\r\n            <td className=\"col-9 pl-2\">{taisanSelected.nhacc_sdt}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ghi chú</td>\r\n            <td\r\n              className=\"col-9 pl-2\"\r\n              dangerouslySetInnerHTML={{ __html: taisanSelected.ghichu }}\r\n            ></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietTaiSan;\r\n","import React from \"react\";\r\nimport ChiTietTaiSan from \"../../../../components/quanly/taisan/ChiTietTaiSan\";\r\n\r\nconst ChiTietTaiSanPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Chi tiết thông tin tài sản</h1>\r\n      <ChiTietTaiSan />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietTaiSanPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport TaiSanFinder from \"../../../apis/TaiSanFinder\";\r\nimport NhaCungCapFinder from \"../../../apis/NhaCungCapFinder\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport DonViTinhFinder from \"../../../apis/DonViTinhFinder\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport {\r\n  convertDataTocreatableSelect,\r\n  convertDate,\r\n} from \"../../../utils/DataHandler\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst SuaTaiSan = () => {\r\n  let hi = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const [tents, setTenTs] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [giataisan, setGiaTaiSan] = useState(\"\");\r\n  const [ngaymua, setNgayMua] = useState(\"\");\r\n  const [vitri, setViTri] = useState(\"--Chọn--\");\r\n  const [loaitsId, setLoaiTsId] = useState(\"\");\r\n  const [dvtId, setDonViTinhId] = useState(\"\");\r\n  const [nhacc, setNhaCC] = useState(\"--Chọn--\");\r\n\r\n  const [phongFilter, setPhongFilter] = useState([]);\r\n  const [nhaccFilter, setNhaCCFilter] = useState([]);\r\n  const [loaiTSSelected, setLoaiTSSelected] = useState();\r\n  const [donvitinhSelected, setDonViTinhSelected] = useState();\r\n\r\n  const [loaiTS, setLoaiTS] = useState([]);\r\n  const [donvitinh, setDonViTinh] = useState([]);\r\n\r\n  const { setMsgTaiSanActionSuccess } = useContext(AccountContext);\r\n  const [msgError, setMsgError] = useState(\"\");\r\n  const [old, setOld] = useState({});\r\n\r\n  const getLoaiTaiSan = async () => {\r\n    try {\r\n      const res = await TaiSanFinder.get(\"/danh-sach-loai-tai-san\");\r\n      setLoaiTS(convertDataTocreatableSelect(res.data.data.loaitaisan));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  const getDonViTinh = async () => {\r\n    try {\r\n      const res = await DonViTinhFinder.get(\"/danh-sach-don-vi-tinh\");\r\n      setDonViTinh(convertDataTocreatableSelect(res.data.data.donvitinh));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await TaiSanFinder.get(`/danh-sach-tai-san/${id}`);\r\n        const taisanSelected = res.data.data.taisan;\r\n        setTenTs(taisanSelected.ten);\r\n        setGhiChu(taisanSelected.ghichu);\r\n        setGiaTaiSan(taisanSelected.giataisan);\r\n        setNgayMua(convertDate(taisanSelected.ngaymua));\r\n        setViTri(taisanSelected.vitri);\r\n        setLoaiTsId(taisanSelected.loaitaisan_id);\r\n        setNhaCC(taisanSelected.nhacc_id);\r\n        setDonViTinhId(taisanSelected.donvitinh);\r\n\r\n        setDonViTinhSelected({\r\n          value: taisanSelected.donvitinh,\r\n          label: taisanSelected.donvitinh_name,\r\n        });\r\n        setLoaiTSSelected({\r\n          value: taisanSelected.loaitaisan_id,\r\n          label: taisanSelected.loaitaisan_name,\r\n        });\r\n\r\n        setOld({\r\n          id: id,\r\n          ten: taisanSelected.ten,\r\n          ghichu: taisanSelected.ghichu,\r\n          giataisan: taisanSelected.giataisan,\r\n          ngaymua: convertDate(taisanSelected.ngaymua),\r\n          trangthai: taisanSelected.trangthai,\r\n          vitri: taisanSelected.vitri,\r\n          bdlancuoi: convertDate(taisanSelected.ngaymua),\r\n          dvt_id: taisanSelected.donvitinh,\r\n          nhacc_id: taisanSelected.nhacc_id,\r\n          loaitaisan_id: taisanSelected.loaitaisan_id,\r\n        });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n    const filterNhaCC = async () => {\r\n      try {\r\n        const res = await NhaCungCapFinder.get(\"/danh-sach-nha-cung-cap\");\r\n        setNhaCCFilter(res.data.data.nhacungcap);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterNhaCC();\r\n\r\n    const filterVitri = async () => {\r\n      try {\r\n        const res = await PhongFinder.get(\"/danh-sach-phong\");\r\n        setPhongFilter(res.data.data.phong);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterVitri();\r\n\r\n    getLoaiTaiSan();\r\n\r\n    getDonViTinh();\r\n  }, [setPhongFilter, setNhaCCFilter, setLoaiTS, setDonViTinh, id]);\r\n\r\n  const customStyles = {\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      color: state.isSelected ? \"black\" : \"#51515\",\r\n      padding: 5,\r\n    }),\r\n  };\r\n\r\n  const handleChangeDonViTinh = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setDonViTinhId(dataSelected.value);\r\n      setDonViTinhSelected(dataSelected);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddDonViTinh(dataSelected.value);\r\n    } else if (actionMeta.action === \"clear\") {\r\n      setDonViTinhId(\"\");\r\n    }\r\n  };\r\n\r\n  const handleAddDonViTinh = async (name) => {\r\n    try {\r\n      const res = await DonViTinhFinder.post(\"/them-don-vi-tinh\", {\r\n        name: name,\r\n      });\r\n      setDonViTinhId(res.data.data.donvitinh.id);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleChangeLoaiTaiSan = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setLoaiTsId(dataSelected.value);\r\n      setLoaiTSSelected(dataSelected);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddLoaiTaiSan(dataSelected.value);\r\n    } else if (actionMeta.action === \"clear\") {\r\n      setLoaiTsId(\"\");\r\n    }\r\n  };\r\n\r\n  const handleAddLoaiTaiSan = async (name) => {\r\n    try {\r\n      const res = await TaiSanFinder.post(\"/them-loai-tai-san\", {\r\n        name: name,\r\n      });\r\n      setLoaiTsId(res.data.data.loaitaisan.id);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const goBack = () => {\r\n    hi.push(`/quan-ly/ql-tai-san/thong-tin/${id}`);\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    if (!tents) {\r\n      setMsgError(\"Tên tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!giataisan) {\r\n      setMsgError(\"Giá tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (/-/.test(giataisan)) {\r\n      setMsgError(\"Giá tài sản không được âm.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ngaymua) {\r\n      setMsgError(\"Ngày mua tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!loaitsId) {\r\n      setMsgError(\"Loại tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!dvtId) {\r\n      setMsgError(\"Đơn vị tính không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await TaiSanFinder.put(\"/sua-tai-san\", {\r\n          id: id,\r\n          ten: NormalizeString(tents),\r\n          ghichu: ghichu,\r\n          giataisan: giataisan,\r\n          ngaymua: ngaymua,\r\n          trangthai: 1,\r\n          vitri: vitri,\r\n          bdlancuoi: ngaymua,\r\n          dvt_id: dvtId,\r\n          nhacc_id: nhacc,\r\n          loaitaisan_id: loaitsId,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: id,\r\n            ten: NormalizeString(tents),\r\n            ghichu: ghichu,\r\n            giataisan: giataisan,\r\n            ngaymua: ngaymua,\r\n            trangthai: 1,\r\n            vitri: vitri,\r\n            bdlancuoi: ngaymua,\r\n            dvt_id: dvtId,\r\n            nhacc_id: nhacc,\r\n            loaitaisan_id: loaitsId,\r\n          };\r\n\r\n          console.log(JSON.stringify(old) !== JSON.stringify(newd));\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old: old },\r\n              newdata: { new: newd },\r\n              tbl: \"Tài sản\",\r\n            });\r\n          }\r\n          setMsgTaiSanActionSuccess(\"Sửa thành công.\");\r\n          setTimeout(() => {\r\n            setMsgTaiSanActionSuccess(\"\");\r\n          }, 2500);\r\n          hi.push(`/quan-ly/ql-tai-san/thong-tin/${id}`);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form action=\"\" encType=\"multipart/form-data\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"tentaisan\">Tên tài sản</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"tentaisan\"\r\n            className=\"form-control\"\r\n            value={tents}\r\n            onChange={(e) => setTenTs(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"giats\">Giá tài sản</label>\r\n              {/* <input\r\n                          type=\"number\"\r\n                          min=\"10000\"\r\n                          step=\"1000\"\r\n                          id=\"giadv\"\r\n                          className=\"form-control text-right\"\r\n                          value={giataisan}\r\n                          onChange={(e) => setGiaTaiSan(e.target.value)}\r\n                        /> */}\r\n              <CurrencyInput\r\n                id=\"giats\"\r\n                value={giataisan}\r\n                className=\"form-control text-right\"\r\n                suffix=\" đồng\"\r\n                groupSeparator=\".\"\r\n                onValueChange={(value) => {\r\n                  setGiaTaiSan(value);\r\n                }}\r\n                step=\"1000\"\r\n                maxLength=\"9\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"ngaymua\">Ngày mua</label>\r\n              <input\r\n                type=\"date\"\r\n                id=\"ngaymua\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setNgayMua(e.target.value)}\r\n                value={ngaymua}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"vitritaisan\">Vị trí tài sản</label>\r\n              <select\r\n                onChange={(e) => setViTri(e.target.value)}\r\n                value={vitri}\r\n                id=\"vitritaisan\"\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"--Chọn--\" disabled>\r\n                  -- Chọn --\r\n                </option>\r\n                {phongFilter.map((phong) => {\r\n                  return (\r\n                    <option key={phong.ten} value={phong.ten}>\r\n                      {phong.ten}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"nhacc\">Nhà cung cấp</label>\r\n              <select\r\n                onChange={(e) => setNhaCC(e.target.value)}\r\n                value={nhacc}\r\n                id=\"nhacc\"\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"--Chọn--\" disabled>\r\n                  -- Chọn --\r\n                </option>\r\n                {nhaccFilter.map((nhacc) => {\r\n                  return (\r\n                    <option key={nhacc.id} value={nhacc.id}>\r\n                      {nhacc.ten}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group \">\r\n              <label htmlFor=\"loaitaisan\">Loại tài sản</label>\r\n              <CreatableSelect\r\n                id=\"loaitaisan\"\r\n                isClearable\r\n                onChange={handleChangeLoaiTaiSan}\r\n                options={loaiTS}\r\n                styles={customStyles}\r\n                value={loaiTSSelected}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            {\" \"}\r\n            <div className=\"form-group \">\r\n              <label htmlFor=\"donvitinh\">Đơn vị tính</label>\r\n              <CreatableSelect\r\n                id=\"donvitinh\"\r\n                isClearable\r\n                onChange={handleChangeDonViTinh}\r\n                options={donvitinh}\r\n                styles={customStyles}\r\n                value={donvitinhSelected}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"ghichu\">Ghi chú</label>\r\n          <CKEditor\r\n            data={ghichu}\r\n            editor={ClassicEditor}\r\n            onChange={(event, editor) => {\r\n              const data = editor.getData();\r\n              setGhiChu(data);\r\n            }}\r\n            // config={{\r\n            //   ckfinder: {\r\n            //     uploadUrl: \"http://localhost:3005/api/v1/phong/uploads\",\r\n            //   },\r\n            //\r\n          />\r\n        </div>\r\n\r\n        <p className=\"text-danger my-2\">{msgError}</p>\r\n\r\n        <div className=\"d-flex flex-row\">\r\n          <button\r\n            className=\"btn btn-warning px-4\"\r\n            type=\"button\"\r\n            onClick={handleUpdate}\r\n          >\r\n            Sửa\r\n          </button>\r\n          <button className=\"btn btn-primary ml-3\" onClick={goBack}>\r\n            Quay lại\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaTaiSan;\r\n","import React from \"react\";\r\nimport SuaTaiSan from \"../../../../components/quanly/taisan/SuaTaiSan\";\r\nconst SuaTaiSanPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Sửa thông tin tài sản</h1>\r\n      <SuaTaiSan />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaTaiSanPage;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport LichSuFinder from \"../../../apis/LichSuFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { NormalizeDate, convertTime } from \"../../../utils/DataHandler\";\r\nimport { useHistory } from \"react-router\";\r\nconst DanhSachLichSu = () => {\r\n  const { dsLichSu, setDsLichSu } = useContext(AccountContext);\r\n\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n  const username = window.localStorage.getItem(\"user_name\");\r\n  let hi = useHistory();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        let res;\r\n        if (userrole === \"Admin\") {\r\n          res = await LichSuFinder.get(\"/danh-sach\");\r\n        } else if (userrole === \"QL\") {\r\n          res = await LichSuFinder.get(\"/danh-sach-cap-quan-ly\");\r\n        } else {\r\n          res = await LichSuFinder.get(`/danh-sach-theo-nv/${username}`);\r\n        }\r\n        setDsLichSu(res.data.data.lichsu);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsLichSu, username, userrole]);\r\n  return (\r\n    <div className=\"mt-3\">\r\n      {dsLichSu.map((ls) => {\r\n        return (\r\n          <div\r\n            className={\r\n              ls.hanhdong === \"Thêm\" ||\r\n              ls.hanhdong === \"Mở\" ||\r\n              ls.hanhdong === \"Lập\" ||\r\n              ls.hanhdong === \"Đồng ý\"\r\n                ? \"alert alert-primary text-dark\"\r\n                : ls.hanhdong === \"Sửa\"\r\n                ? \"alert alert-warning text-dark\"\r\n                : ls.hanhdong === \"Xóa\" ||\r\n                  ls.hanhdong === \"Thanh toán\" ||\r\n                  ls.hanhdong === \"Đổi mật khẩu\" ||\r\n                  ls.hanhdong === \"Từ chối\"\r\n                ? \"alert alert-danger text-dark\"\r\n                : ls.hanhdong === \"Đăng nhập\" || ls.hanhdong === \"Tăng số lượng\"\r\n                ? \"alert alert-dark text-dark\"\r\n                : ls.hanhdong === \"Check In\" ||\r\n                  ls.hanhdong === \"Check Out\" ||\r\n                  ls.hanhdong === \"Sử dụng\"\r\n                ? \"alert alert-info text-dark\"\r\n                : ls.hanhdong === \"Giảm số lượng\" || ls.hanhdong === \"Đăng xuất\"\r\n                ? \"alert alert-secondary text-dark\"\r\n                : \"alert alert-success text-dark\"\r\n            }\r\n            key={ls.id}\r\n          >\r\n            Tài khoản: <strong>{ls.nguoithuchien}</strong>, vào ngày{\" \"}\r\n            <strong>{NormalizeDate(ls.tdthuchien)}</strong>, lúc{\" \"}\r\n            <strong>{convertTime(ls.tdthuchien)}</strong>, đã thực hiện{\" \"}\r\n            <strong>\r\n              {ls.hanhdong} - {ls.doituong}\r\n            </strong>\r\n            <i\r\n              className=\"far fa-eye text-dark ml-3\"\r\n              style={{ cursor: \"pointer\", float: \"right\" }}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                hi.push(`/quan-ly/lich-su-hoat-dong/${ls.id}`);\r\n              }}\r\n            ></i>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachLichSu;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport LichSuFinder from \"../../../apis/LichSuFinder\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nconst LocTheoTaiKhoan = () => {\r\n  const [taikhoan, setTaiKhoan] = useState(\"\");\r\n  const [dsTk, setDsTk] = useState([]);\r\n\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n  const { setDsLichSu } = useContext(AccountContext);\r\n  const username = window.localStorage.getItem(\"user_name\");\r\n\r\n  useEffect(() => {\r\n    const filterTK = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\"/danh-sach-nhan-vien\");\r\n        setDsTk(res.data.data.nhanvien);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterTK();\r\n  }, []);\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <select\r\n        value={taikhoan}\r\n        onChange={async (e) => {\r\n          setTaiKhoan(e.target.value);\r\n          if (e.target.value) {\r\n            try {\r\n              const res = await LichSuFinder.get(\r\n                `/danh-sach-theo-nv/${e.target.value}`\r\n              );\r\n              setDsLichSu(res.data.data.lichsu);\r\n            } catch (err) {\r\n              console.log(err.message);\r\n            }\r\n          } else {\r\n            try {\r\n              let res;\r\n              if (userrole === \"QL\") {\r\n                res = await LichSuFinder.get(\"/danh-sach-cap-quan-ly\");\r\n              } else {\r\n                res = await LichSuFinder.get(\"/danh-sach\");\r\n              }\r\n\r\n              setDsLichSu(res.data.data.lichsu);\r\n            } catch (err) {\r\n              console.log(err.message);\r\n            }\r\n          }\r\n        }}\r\n        className=\"form-control\"\r\n      >\r\n        <option value=\"\">-- Tất cả --</option>\r\n        {userrole === \"Admin\" ? <option value={username}>Admin</option> : \"\"}\r\n        {dsTk.map((tk) => {\r\n          return (\r\n            <option key={tk.id} value={tk.account}>\r\n              {tk.account} - {tk.name} - {tk.vaitro}\r\n            </option>\r\n          );\r\n        })}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocTheoTaiKhoan;\r\n","import React from \"react\";\r\nimport DanhSachLichSu from \"../../components/quanly/lshoatdong/DanhSachLichSu\";\r\nimport LocTheoTaiKhoan from \"../../components/quanly/lshoatdong/LocTheoTaiKhoan\";\r\n\r\nconst LichSuHoatDongPage = () => {\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">LỊCH SỬ HOẠT ĐỘNG</h1>\r\n      {userrole === \"QL\" || userrole === \"Admin\" ? <LocTheoTaiKhoan /> : \"\"}\r\n      <DanhSachLichSu />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LichSuHoatDongPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport PhieuMuaFinder from \"../../../apis/PhieuMuaFinder\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport { convertDate } from \"../../../utils/DataHandler\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst SuaPhieuMua = () => {\r\n  let hi = useHistory();\r\n  const [old, setOld] = useState({});\r\n  const { id } = useParams();\r\n  const [ngaymua, setNgayMua] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [idNV, setIDNV] = useState(\"--Chọn--\");\r\n\r\n  const [nhanvienFilter, setNhanVienFilter] = useState([]);\r\n\r\n  const { setMsgPhieuMuaActionSuccess } = useContext(AccountContext);\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const filterNhanVien = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\"/danh-sach-nhan-vien\");\r\n        setNhanVienFilter(res.data.data.nhanvien);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterNhanVien();\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await PhieuMuaFinder.get(`/danh-sach/${id}`);\r\n        const phieumuaSelected = res.data.data.phieumua;\r\n        setNgayMua(convertDate(phieumuaSelected.ngaymua));\r\n        setGhiChu(phieumuaSelected.ghichu);\r\n        setIDNV(phieumuaSelected.idnv);\r\n\r\n        setOld({\r\n          id: id,\r\n          ngaymua: convertDate(phieumuaSelected.ngaymua),\r\n          ghichu: phieumuaSelected.ghichu,\r\n          nvtiepnhan: phieumuaSelected.idnv,\r\n        });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setNhanVienFilter, id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(`/quan-ly/ql-hang-hoa/phieu-mua/${id}`);\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    if (!ngaymua) {\r\n      setMsgError(\"Ngày mua không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await PhieuMuaFinder.put(\"/sua\", {\r\n          id: id,\r\n          ngaymua: ngaymua,\r\n          ghichu: ghichu,\r\n          nvtiepnhan: idNV,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: id,\r\n            ngaymua: ngaymua,\r\n            ghichu: ghichu,\r\n            nvtiepnhan: idNV,\r\n          };\r\n\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old },\r\n              newdata: { new: newd },\r\n              tbl: \"Phiếu mua hàng\",\r\n            });\r\n          }\r\n          setMsgPhieuMuaActionSuccess(\"Sửa thành công.\");\r\n          setTimeout(() => {\r\n            setMsgPhieuMuaActionSuccess(\"\");\r\n          }, 2500);\r\n          hi.push(`/quan-ly/ql-hang-hoa/phieu-mua/${id}`);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <form action=\"\" encType=\"multipart/form-data\">\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"nhacc\">Nhân viên tiếp nhận</label>\r\n              <select\r\n                onChange={(e) => {\r\n                  setIDNV(e.target.value);\r\n                }}\r\n                value={idNV}\r\n                id=\"nhacc\"\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"--Chọn--\" disabled>\r\n                  -- Chọn --\r\n                </option>\r\n                {nhanvienFilter.map((nhanvien) => {\r\n                  return (\r\n                    <option key={nhanvien.id} value={nhanvien.id}>\r\n                      {nhanvien.name}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"ngaymua\">Ngày mua</label>\r\n              <input\r\n                type=\"date\"\r\n                id=\"ngaymua\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setNgayMua(e.target.value)}\r\n                value={ngaymua}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"ghichu\">Ghi chú</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            id=\"ghichu\"\r\n            rows=\"3\"\r\n            value={ghichu}\r\n            onChange={(e) => setGhiChu(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n\r\n        <p className=\"text-danger my-2\">{msgError}</p>\r\n\r\n        <div className=\"d-flex flex-row\">\r\n          <button\r\n            className=\"btn btn-warning px-4\"\r\n            type=\"button\"\r\n            onClick={handleUpdate}\r\n          >\r\n            Sửa\r\n          </button>\r\n          <button className=\"btn btn-primary ml-3\" onClick={goBack}>\r\n            Quay lại\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaPhieuMua;\r\n","import React from \"react\";\r\nimport SuaPhieuMua from \"../../../../components/quanly/phieumua/SuaPhieuMua\";\r\n\r\nconst SuaPhieuMuaPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Sửa thông tin phiếu mua</h1>\r\n      <SuaPhieuMua />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaPhieuMuaPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport PhieuMuaFinder from \"../../../apis/PhieuMuaFinder\";\r\nimport { NumberFormat, NormalizeDate } from \"../../../utils/DataHandler\";\r\nconst ChiTietPhieuMua = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [phieumuaSelected, setPhieuMuaSelected] = useState([]);\r\n  const { msgPhieuMuaActionSuccess } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await PhieuMuaFinder.get(`/danh-sach/${id}`);\r\n        setPhieuMuaSelected(res.data.data.phieumua);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setPhieuMuaSelected, id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/ql-hang-hoa/phieu-mua\");\r\n  };\r\n  const handleUpdate = () => {\r\n    hi.push(`/quan-ly/ql-hang-hoa/phieu-mua/${id}/sua`);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary mt-5\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        <div className=\"mt-5 ml-2\">\r\n          <button className=\"btn btn-warning px-4\" onClick={handleUpdate}>\r\n            Sửa\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <p className=\"text-center text-success\">{msgPhieuMuaActionSuccess}</p>\r\n      <h4 className=\"mt-3 mb-3\">MÃ PHIẾU : {phieumuaSelected.id}</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Nhân viên tiếp nhận</td>\r\n            <td className=\"col-9 pl-2\">{phieumuaSelected.tennv}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ngày mua</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NormalizeDate(phieumuaSelected.ngaymua)}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tổng tiền</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(phieumuaSelected.tongtien)}&nbsp;<b>VND</b>\r\n            </td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ghi chú</td>\r\n            <td className=\"col-9 pl-2\">{phieumuaSelected.ghichu}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietPhieuMua;\r\n","import React, { useContext } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport PhieuMuaFinder from \"../../../apis/PhieuMuaFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst XoaPhieuMuaChiTiet = ({ id, pmid, pmct }) => {\r\n  let hi = useHistory();\r\n  const { dsPhieuMuaChiTiet, setDsPhieuMuaChiTiet } =\r\n    useContext(AccountContext);\r\n\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      const res = await PhieuMuaFinder.delete(`/xoa-chi-tiet/${id}`);\r\n      //   console.log(res);\r\n      if (res.data === \"\") {\r\n        ThemLichSu({\r\n          doing: \"Xóa\",\r\n          olddata: { old: pmct },\r\n          newdata: {},\r\n          tbl: \"Hàng hóa trong phiếu mua\",\r\n        });\r\n        setDsPhieuMuaChiTiet(\r\n          dsPhieuMuaChiTiet.filter((pmchitiet) => {\r\n            return pmchitiet.id !== id;\r\n          })\r\n        );\r\n        hi.push(\"/quan-ly/ql-hang-hoa/phieu-mua\");\r\n        hi.push(`/quan-ly/ql-hang-hoa/phieu-mua/${pmid}`);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-trash p-1 text-danger\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}xoa`}\r\n      ></i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}xoa`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">\r\n                Bạn có thực sự muốn xóa mặt hàng này không?\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaPhieuMuaChiTiet;\r\n","import React, { useState } from \"react\";\r\nimport PhieuMuaFinder from \"../../../apis/PhieuMuaFinder\";\r\nimport NhaCungCapFinder from \"../../../apis/NhaCungCapFinder\";\r\nimport DonViTinhFinder from \"../../../apis/DonViTinhFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport { convertDataTocreatableSelect } from \"../../../utils/DataHandler\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst SuaPhieuMuaChiTiet = ({ id, pmid }) => {\r\n  let hi = useHistory();\r\n  const [old, setOld] = useState({});\r\n  const [tenhh, setTenHh] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [dongia, setDonGia] = useState(\"\");\r\n  const [soluong, setSoLuong] = useState(\"1\");\r\n  const [loaihhId, setLoaiHhId] = useState(\"\");\r\n  const [dvtId, setDonViTinhId] = useState(\"\");\r\n  const [nhacc, setNhaCC] = useState(\"--Chọn--\");\r\n\r\n  const [nhaccFilter, setNhaCCFilter] = useState([]);\r\n  const [loaiHH, setLoaiHH] = useState([]);\r\n  const [donvitinh, setDonViTinh] = useState([]);\r\n\r\n  const [loaiHHSelected, setLoaiHHSelected] = useState();\r\n  const [donvitinhSelected, setDonViTinhSelected] = useState();\r\n\r\n  const getLoaiHangHoa = async () => {\r\n    try {\r\n      const res = await PhieuMuaFinder.get(\"/danh-sach-loai-hang-hoa\");\r\n      setLoaiHH(convertDataTocreatableSelect(res.data.data.loaihh));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  const getDonViTinh = async () => {\r\n    try {\r\n      const res = await DonViTinhFinder.get(\"/danh-sach-don-vi-tinh\");\r\n      setDonViTinh(convertDataTocreatableSelect(res.data.data.donvitinh));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const filterNhaCC = async () => {\r\n    try {\r\n      const res = await NhaCungCapFinder.get(\"/danh-sach-nha-cung-cap\");\r\n      setNhaCCFilter(res.data.data.nhacungcap);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const res = await PhieuMuaFinder.get(`/chi-tiet-theo-id/${id}`);\r\n      if (res.data.status === \"ok\") {\r\n        const pmCtSelected = res.data.data.phieumua_chitiet;\r\n        setTenHh(pmCtSelected.ten);\r\n        setGhiChu(pmCtSelected.ghichu);\r\n        setDonGia(pmCtSelected.dongia);\r\n        setSoLuong(pmCtSelected.soluong);\r\n        setLoaiHhId(pmCtSelected.loaihang_id);\r\n        setNhaCC(pmCtSelected.nhacc_id);\r\n        setDonViTinhId(pmCtSelected.donvitinh_id);\r\n\r\n        setDonViTinhSelected({\r\n          value: pmCtSelected.donvitinh_id,\r\n          label: pmCtSelected.donvitinh_name,\r\n        });\r\n        setLoaiHHSelected({\r\n          value: pmCtSelected.loaihang_id,\r\n          label: pmCtSelected.loaihang_name,\r\n        });\r\n\r\n        setOld({\r\n          id: id,\r\n          ten: pmCtSelected.ten,\r\n          dongia: pmCtSelected.dongia,\r\n          soluong: pmCtSelected.soluong,\r\n          thanhtien: pmCtSelected.thanhtien,\r\n          ghichu: pmCtSelected.ghichu,\r\n          donvitinh: pmCtSelected.donvitinh_id,\r\n          loaihang_id: pmCtSelected.loaihang_id,\r\n          nhacc_id: pmCtSelected.nhacc_id,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const customStyles = {\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      color: state.isSelected ? \"black\" : \"#51515\",\r\n      padding: 5,\r\n    }),\r\n  };\r\n\r\n  const handleChangeDonViTinh = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setDonViTinhId(dataSelected.value);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddDonViTinh(dataSelected.value);\r\n    } else if (actionMeta.action === \"clear\") {\r\n      setDonViTinhId(\"\");\r\n    }\r\n  };\r\n\r\n  const handleAddDonViTinh = async (name) => {\r\n    try {\r\n      const res = await DonViTinhFinder.post(\"/them-don-vi-tinh\", {\r\n        name: name,\r\n      });\r\n      ThemLichSu({\r\n        doing: \"Thêm\",\r\n        olddata: {},\r\n        newdata: { new: res.data.data.donvitinh },\r\n        tbl: \"Đơn vị tính\",\r\n      });\r\n      setDonViTinhId(res.data.data.donvitinh.id);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleChangeLoaiHangHoa = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setLoaiHhId(dataSelected.value);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddLoaiHangHoa(dataSelected.value);\r\n    } else if (actionMeta.action === \"clear\") {\r\n      setLoaiHhId(\"\");\r\n    }\r\n  };\r\n\r\n  const handleAddLoaiHangHoa = async (name) => {\r\n    try {\r\n      const res = await PhieuMuaFinder.post(\"/them-loai-hang-hoa\", {\r\n        name: name,\r\n      });\r\n      setLoaiHhId(res.data.data.loaihh.id);\r\n      ThemLichSu({\r\n        doing: \"Thêm\",\r\n        olddata: {},\r\n        newdata: { new: res.data.data.loaihh },\r\n        tbl: \"Loại hàng hóa\",\r\n      });\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleClickUpdate = () => {\r\n    fetchData();\r\n    filterNhaCC();\r\n    getDonViTinh();\r\n    getLoaiHangHoa();\r\n  };\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.stopPropagation();\r\n    if (tenhh && dongia && soluong && ghichu && dvtId && loaiHH && nhacc) {\r\n      try {\r\n        const res = await PhieuMuaFinder.put(\"/sua-chi-tiet\", {\r\n          id: id,\r\n          ten: NormalizeString(tenhh),\r\n          dongia: dongia,\r\n          soluong: soluong,\r\n          thanhtien: parseInt(dongia) * parseInt(soluong),\r\n          ghichu: ghichu,\r\n          donvitinh: dvtId,\r\n          loaihang_id: loaihhId,\r\n          nhacc_id: nhacc,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: id,\r\n            ten: NormalizeString(tenhh),\r\n            dongia: dongia,\r\n            soluong: soluong,\r\n            thanhtien: \"\" + parseInt(dongia) * parseInt(soluong),\r\n            ghichu: ghichu,\r\n            donvitinh: dvtId,\r\n            loaihang_id: loaihhId,\r\n            nhacc_id: nhacc,\r\n          };\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old },\r\n              newdata: { new: newd },\r\n              tbl: \"Hàng hóa trong phiếu mua\",\r\n            });\r\n          }\r\n          hi.push(\"/quan-ly/ql-hang-hoa/phieu-mua\");\r\n          hi.push(`/quan-ly/ql-hang-hoa/phieu-mua/${pmid}`);\r\n        }\r\n        //   console.log(\r\n        //     id,\r\n        //     NormalizeString(tenhh),\r\n        //     dongia,\r\n        //     soluong,\r\n        //     parseInt(dongia) * parseInt(soluong),\r\n        //     ghichu,\r\n        //     dvtId,\r\n        //     loaihhId,\r\n        //     nhacc\r\n        //   );\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <i\r\n        className=\"fas fa-pencil-alt p-1 text-primary\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${id}sua`}\r\n        onClick={handleClickUpdate}\r\n      ></i>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${id}sua`}>\r\n        <div className=\"modal-dialog modal-lg modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">\r\n                Sửa thông tin phiếu mua hàng chi tiết\r\n              </h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor={`tenhanghoa${id}`}>Tên hàng hóa</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id={`tenhanghoa${id}`}\r\n                  className=\"form-control\"\r\n                  value={tenhh}\r\n                  onChange={(e) => setTenHh(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-row\">\r\n                <div className=\"col\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor={`dongia${id}`}>Đơn giá</label>\r\n                    <CurrencyInput\r\n                      id={`dongia${id}`}\r\n                      value={dongia}\r\n                      className=\"form-control text-right\"\r\n                      suffix=\" đồng\"\r\n                      groupSeparator=\".\"\r\n                      onValueChange={(value) => {\r\n                        setDonGia(value);\r\n                      }}\r\n                      step=\"1000\"\r\n                      maxLength=\"9\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"form-group \">\r\n                    <label htmlFor={`donvitinh${id}`}>Đơn vị tính</label>\r\n                    <CreatableSelect\r\n                      id={`donvitinh${id}`}\r\n                      isClearable\r\n                      onChange={handleChangeDonViTinh}\r\n                      options={donvitinh}\r\n                      styles={customStyles}\r\n                      value={donvitinhSelected}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor={`soluong${id}`}>Số lượng</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      id={`soluong${id}`}\r\n                      className=\"form-control\"\r\n                      value={soluong}\r\n                      min=\"1\"\r\n                      max=\"1000\"\r\n                      onChange={(e) => setSoLuong(e.target.value)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-row\">\r\n                <div className=\"col\">\r\n                  <div className=\"form-group \">\r\n                    <label htmlFor={`loaihanghoa${id}`}>Loại hàng hóa</label>\r\n                    <CreatableSelect\r\n                      id={`loaihanghoa${id}`}\r\n                      isClearable\r\n                      onChange={handleChangeLoaiHangHoa}\r\n                      options={loaiHH}\r\n                      styles={customStyles}\r\n                      value={loaiHHSelected}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor={`nhacc${id}`}>Nhà cung cấp</label>\r\n                    <select\r\n                      onChange={(e) => setNhaCC(e.target.value)}\r\n                      value={nhacc}\r\n                      id={`nhacc${id}`}\r\n                      className=\"form-control\"\r\n                    >\r\n                      <option value=\"--Chọn--\" disabled>\r\n                        -- Chọn --\r\n                      </option>\r\n                      {nhaccFilter.map((nhacc) => {\r\n                        return (\r\n                          <option key={nhacc.id} value={nhacc.id}>\r\n                            {nhacc.ten}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor={`ghichu${id}`}>Ghi chú</label>\r\n                <textarea\r\n                  id={`ghichu${id}`}\r\n                  rows=\"6\"\r\n                  className=\"form-control\"\r\n                  value={ghichu}\r\n                  onChange={(e) => setGhiChu(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleUpdate(e)}\r\n              >\r\n                Sửa\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaPhieuMuaChiTiet;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport PhieuMuaFinder from \"../../../apis/PhieuMuaFinder\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\nimport { useParams } from \"react-router\";\r\nimport XoaPhieuMuaChiTiet from \"./XoaPhieuMuaChiTiet\";\r\nimport SuaPhieuMuaChiTiet from \"./SuaPhieuMuaChiTiet\";\r\n\r\nconst DanhSachPhieuMuaChiTiet = () => {\r\n  const { dsPhieuMuaChiTiet, setDsPhieuMuaChiTiet } =\r\n    useContext(AccountContext);\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await PhieuMuaFinder.get(`/danh-sach-chi-tiet/${id}`);\r\n        if (res.data.status === \"ok\") {\r\n          setDsPhieuMuaChiTiet(res.data.data.phieumua_chitiet);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setDsPhieuMuaChiTiet, id]);\r\n  return (\r\n    <div className=\"row mt-5 \">\r\n      {dsPhieuMuaChiTiet.map((pmchitiet) => {\r\n        return (\r\n          <div className=\"col-sm-6 mb-4\" key={pmchitiet.id}>\r\n            <div className=\"card border border-dark\">\r\n              <div className=\"card-header d-flex justify-content-between \">\r\n                <h5>{pmchitiet.ten}</h5>\r\n                <span className=\"d-flex\">\r\n                  <SuaPhieuMuaChiTiet\r\n                    id={pmchitiet.id}\r\n                    pmid={pmchitiet.phieumua_id}\r\n                  />\r\n                  <XoaPhieuMuaChiTiet\r\n                    id={pmchitiet.id}\r\n                    pmid={pmchitiet.phieumua_id}\r\n                    pmct={pmchitiet}\r\n                  />\r\n\r\n                  {/* <i className=\"fas fa-pencil-alt p-1 text-primary\"></i>\r\n                  <i className=\"fas fa-trash p-1 text-danger\"></i> */}\r\n                </span>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <p className=\"card-text\">\r\n                  <strong>Ghi chú: </strong> {pmchitiet.ghichu}\r\n                </p>\r\n              </div>\r\n              <ul className=\"list-group list-group-flush\">\r\n                <li className=\"list-group-item\">\r\n                  <strong>Đơn giá: </strong>\r\n                  <u>{NumberFormat(pmchitiet.dongia)}</u> <strong>VND</strong> /\r\n                  1 <em>{pmchitiet.donvitinh_name}</em>\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                  <strong>Số lượng: </strong> {pmchitiet.soluong}\r\n                  <em> {pmchitiet.donvitinh_name}</em>\r\n                </li>\r\n\r\n                <li className=\"list-group-item\">\r\n                  <strong>Thành tiền: </strong>\r\n                  <u>{NumberFormat(pmchitiet.thanhtien)}</u>{\" \"}\r\n                  <strong>VND</strong>\r\n                </li>\r\n\r\n                <li className=\"list-group-item\">\r\n                  <strong>Loại hàng: </strong>\r\n                  {pmchitiet.loaihang_name}\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                  <strong>Nhà cung cấp: </strong> {pmchitiet.nhacc_name}\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                  <strong>SDT: </strong> {pmchitiet.nhacc_sdt}\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                  <strong>Địa chỉ: </strong> {pmchitiet.nhacc_diachi}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      {/* <div className=\"col-sm-6 mb-4\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header d-flex justify-content-between \">\r\n            <h5>Dday la tenhang hoa</h5>\r\n            <span>\r\n              <i className=\"fas fa-pencil-alt p-1 text-primary\"></i>\r\n              <i className=\"fas fa-trash p-1 text-danger\"></i>\r\n            </span>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <p className=\"card-text\">\r\n              <strong>Ghi chú: </strong> Some quick example text to build on the\r\n              card title and make up the bulk of the card's content.\r\n            </p>\r\n          </div>\r\n          <ul className=\"list-group list-group-flush\">\r\n            <li className=\"list-group-item\">\r\n              <strong>Đơn giá: </strong>\r\n              <u>190000</u> VND / 1 chiếc\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <strong>Số lượng: </strong>12\r\n            </li>\r\n\r\n            <li className=\"list-group-item\">\r\n              <strong>Thành tiền: </strong>12\r\n            </li>\r\n\r\n            <li className=\"list-group-item\">\r\n              <strong>Loại hàng: </strong>12\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <strong>Nhà cung cấp: </strong> sjfsdkfs kfjaskldja dfdsj dsfjsdk\r\n              skdj fklsd s sdlk\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <strong>SDT: </strong> 0123131312312\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <strong>Địa chỉ: </strong> THủy nguyên hải phòng\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DanhSachPhieuMuaChiTiet;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PhieuMuaFinder from \"../../../apis/PhieuMuaFinder\";\r\nimport NhaCungCapFinder from \"../../../apis/NhaCungCapFinder\";\r\nimport DonViTinhFinder from \"../../../apis/DonViTinhFinder\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport { useParams, useHistory } from \"react-router\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport { convertDataTocreatableSelect } from \"../../../utils/DataHandler\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst ThemPhieuMuaChiTiet = () => {\r\n  const { id } = useParams();\r\n  const [tenhh, setTenHh] = useState(\"\");\r\n  const [ghichu, setGhiChu] = useState(\"\");\r\n  const [dongia, setDonGia] = useState(\"\");\r\n  const [soluong, setSoLuong] = useState(\"1\");\r\n  const [loaihhId, setLoaiHhId] = useState(\"\");\r\n  const [dvtId, setDonViTinhId] = useState(\"\");\r\n  const [nhacc, setNhaCC] = useState(\"--Chọn--\");\r\n\r\n  const [nhaccFilter, setNhaCCFilter] = useState([]);\r\n  const [loaiHH, setLoaiHH] = useState([]);\r\n  const [donvitinh, setDonViTinh] = useState([]);\r\n\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  let hi = useHistory();\r\n  const getLoaiHangHoa = async () => {\r\n    try {\r\n      const res = await PhieuMuaFinder.get(\"/danh-sach-loai-hang-hoa\");\r\n      setLoaiHH(convertDataTocreatableSelect(res.data.data.loaihh));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  const getDonViTinh = async () => {\r\n    try {\r\n      const res = await DonViTinhFinder.get(\"/danh-sach-don-vi-tinh\");\r\n      setDonViTinh(convertDataTocreatableSelect(res.data.data.donvitinh));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const filterNhaCC = async () => {\r\n      try {\r\n        const res = await NhaCungCapFinder.get(\"/danh-sach-nha-cung-cap\");\r\n        setNhaCCFilter(res.data.data.nhacungcap);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    filterNhaCC();\r\n    getLoaiHangHoa();\r\n    getDonViTinh();\r\n  }, [setNhaCCFilter, setLoaiHH, setDonViTinh]);\r\n\r\n  const customStyles = {\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      color: state.isSelected ? \"black\" : \"#51515\",\r\n      padding: 5,\r\n    }),\r\n  };\r\n\r\n  const handleChangeDonViTinh = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setDonViTinhId(dataSelected.value);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddDonViTinh(dataSelected.value);\r\n    } else if (actionMeta.action === \"clear\") {\r\n      setDonViTinhId(\"\");\r\n    }\r\n  };\r\n\r\n  const handleAddDonViTinh = async (name) => {\r\n    try {\r\n      const res = await DonViTinhFinder.post(\"/them-don-vi-tinh\", {\r\n        name: name,\r\n      });\r\n      ThemLichSu({\r\n        doing: \"Thêm\",\r\n        olddata: {},\r\n        newdata: { new: res.data.data.donvitinh },\r\n        tbl: \"Đơn vị tính\",\r\n      });\r\n      setDonViTinhId(res.data.data.donvitinh.id);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleChangeLoaiHangHoa = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setLoaiHhId(dataSelected.value);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddLoaiHangHoa(dataSelected.value);\r\n    } else if (actionMeta.action === \"clear\") {\r\n      setLoaiHhId(\"\");\r\n    }\r\n  };\r\n\r\n  const handleAddLoaiHangHoa = async (name) => {\r\n    try {\r\n      const res = await PhieuMuaFinder.post(\"/them-loai-hang-hoa\", {\r\n        name: name,\r\n      });\r\n      ThemLichSu({\r\n        doing: \"Thêm\",\r\n        olddata: {},\r\n        newdata: { new: res.data.data.loaihh },\r\n        tbl: \"Loại hàng hóa\",\r\n      });\r\n      setLoaiHhId(res.data.data.loaihh.id);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!tenhh) {\r\n      setMsgError(\"Tên hàng hóa không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!dongia) {\r\n      setMsgError(\"Đơn giá không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (/-/.test(dongia)) {\r\n      setMsgError(\"Đơn giá không được âm.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!dvtId) {\r\n      setMsgError(\"Đơn vị tính không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (/-/.test(soluong + \"\")) {\r\n      setMsgError(\"Số lượng không được âm.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!loaihhId) {\r\n      setMsgError(\"Loại tài sản không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (nhacc === \"--Chọn--\") {\r\n      setMsgError(\"Nhà cung cấp không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else if (!ghichu) {\r\n      setMsgError(\"Ghi chú không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n    } else {\r\n      try {\r\n        const res = await PhieuMuaFinder.post(\"/them-chi-tiet\", {\r\n          ten: NormalizeString(tenhh),\r\n          dongia: dongia,\r\n          soluong: soluong,\r\n          thanhtien: parseInt(dongia) * parseInt(soluong),\r\n          ghichu: ghichu,\r\n          phieumua_id: id,\r\n          donvitinh: dvtId,\r\n          loaihang_id: loaihhId,\r\n          nhacc_id: nhacc,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          ThemLichSu({\r\n            doing: \"Thêm\",\r\n            olddata: {},\r\n            newdata: { new: res.data.data.phieumua_chitiet },\r\n            tbl: \"Hàng hóa trong phiếu mua\",\r\n          });\r\n          hi.push(\"/quan-ly/ql-hang-hoa/phieu-mua\");\r\n          hi.push(`/quan-ly/ql-hang-hoa/phieu-mua/${id}`);\r\n        } else {\r\n          setMsgError(res.data.status);\r\n          setTimeout(() => {\r\n            setMsgError(\"\");\r\n          }, 3000);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"mt-5 mb-2 \">\r\n        <div id=\"themphieumuachitiet\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\" id=\"pmchitietcard\">\r\n              <h5 className=\"mb-0\">\r\n                <div\r\n                  className=\"text-primary collapsed\"\r\n                  data-toggle=\"collapse\"\r\n                  data-target=\"#formthemphieumuachitiet\"\r\n                  aria-expanded=\"false\"\r\n                  aria-controls=\"formthemphieumuachitiet\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Thêm hàng hóa\r\n                </div>\r\n              </h5>\r\n            </div>\r\n            <div\r\n              id=\"formthemphieumuachitiet\"\r\n              className=\"collapse\"\r\n              aria-labelledby=\"pmchitietcard\"\r\n              data-parent=\"#themphieumuachitiet\"\r\n            >\r\n              <div className=\"card-body px-5\">\r\n                <form action=\"\" encType=\"multipart/form-data\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"tenhanghoa\">Tên hàng hóa</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"tenhanghoa\"\r\n                      className=\"form-control\"\r\n                      value={tenhh}\r\n                      onChange={(e) => setTenHh(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"dongia\">Đơn giá</label>\r\n                        <CurrencyInput\r\n                          id=\"dongia\"\r\n                          value={dongia}\r\n                          className=\"form-control text-right\"\r\n                          suffix=\" đồng\"\r\n                          groupSeparator=\".\"\r\n                          onValueChange={(value) => {\r\n                            setDonGia(value);\r\n                          }}\r\n                          step=\"1000\"\r\n                          maxLength=\"9\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group \">\r\n                        <label htmlFor=\"donvitinh\">Đơn vị tính</label>\r\n                        <CreatableSelect\r\n                          id=\"donvitinh\"\r\n                          isClearable\r\n                          onChange={handleChangeDonViTinh}\r\n                          options={donvitinh}\r\n                          styles={customStyles}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"soluong\">Số lượng</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          id=\"soluong\"\r\n                          className=\"form-control\"\r\n                          value={soluong}\r\n                          min=\"1\"\r\n                          max=\"1000\"\r\n                          onChange={(e) => setSoLuong(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group \">\r\n                        <label htmlFor=\"loaihanghoa\">Loại hàng hóa</label>\r\n                        <CreatableSelect\r\n                          id=\"loaihanghoa\"\r\n                          isClearable\r\n                          onChange={handleChangeLoaiHangHoa}\r\n                          options={loaiHH}\r\n                          styles={customStyles}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"nhacc\">Nhà cung cấp</label>\r\n                        <select\r\n                          onChange={(e) => setNhaCC(e.target.value)}\r\n                          value={nhacc}\r\n                          id=\"nhacc\"\r\n                          className=\"form-control\"\r\n                        >\r\n                          <option value=\"--Chọn--\" disabled>\r\n                            -- Chọn --\r\n                          </option>\r\n                          {nhaccFilter.map((nhacc) => {\r\n                            return (\r\n                              <option key={nhacc.id} value={nhacc.id}>\r\n                                {nhacc.ten}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"ghichu\">Ghi chú</label>\r\n                    <textarea\r\n                      id=\"ghichu\"\r\n                      rows=\"6\"\r\n                      className=\"form-control\"\r\n                      value={ghichu}\r\n                      onChange={(e) => setGhiChu(e.target.value)}\r\n                    ></textarea>\r\n                  </div>\r\n\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary py-2 px-4\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Thêm\r\n                  </button>\r\n                  <p className=\"text-danger my-2\">{msgError}</p>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemPhieuMuaChiTiet;\r\n","import React from \"react\";\r\nimport ChiTietPhieuMua from \"../../../../components/quanly/phieumua/ChiTietPhieuMua\";\r\nimport DanhSachPhieuMuaChiTiet from \"../../../../components/quanly/phieumua/DanhSachPhieuMuaChiTiet\";\r\nimport ThemPhieuMuaChiTiet from \"../../../../components/quanly/phieumua/ThemPhieuMuaChiTiet\";\r\n\r\nconst ChiTietPhieuMuaPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Chi tiết phiếu mua</h1>\r\n      <ThemPhieuMuaChiTiet />\r\n      <DanhSachPhieuMuaChiTiet />\r\n      <ChiTietPhieuMua />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietPhieuMuaPage;\r\n","import axios from \"axios\";\r\nimport Server from \"../hosts/Server\";\r\n\r\nexport default axios.create({\r\n  baseURL: Server + \"/api/v1/doi-huy\",\r\n});\r\n","import React, { useState } from \"react\";\r\nimport PhongFinder from \"../../../../apis/PhongFinder\";\r\nimport DoiHuyFinder from \"../../../../apis/DoiHuyFinder\";\r\nimport { NumberFormat } from \"../../../../utils/DataHandler\";\r\nimport { useHistory } from \"react-router\";\r\nimport DatPhongFinder from \"../../../../apis/DatPhongFinder\";\r\nimport ThemLichSu from \"../../../../utils/ThemLichSu\";\r\nconst DoiPhong = ({ phongid, dpid }) => {\r\n  const [lydo, setLyDo] = useState(\"\");\r\n  const [phongden, setPhongDen] = useState(\"\");\r\n  const [giathue, setGiaThue] = useState(\"\");\r\n  const [kieuthue, setKieuThue] = useState(\"\");\r\n\r\n  const [dsPhong, setDsPhong] = useState([]);\r\n\r\n  let hi = useHistory();\r\n  const username = window.localStorage.getItem(\"user_name\");\r\n\r\n  const handleDoiPhong = async (e) => {\r\n    e.stopPropagation();\r\n    if (lydo && phongden) {\r\n      try {\r\n        const res = await DoiHuyFinder.post(\"/them-doi-phong\", {\r\n          tuphong: phongid,\r\n          denphong: phongden,\r\n          lydodoi: lydo,\r\n          nguoidoi: username,\r\n          datphong_id: dpid,\r\n          giathue: giathue,\r\n        });\r\n        if (res.data.data.doiphong) {\r\n          ThemLichSu({\r\n            doing: \"Đổi\",\r\n            olddata: {},\r\n            newdata: { new: res.data.data.doiphong },\r\n            tbl: \"Phòng\",\r\n          });\r\n          hi.push(\"/quan-ly/phong/tinh-trang\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  const handleClick = async () => {\r\n    try {\r\n      const res = await PhongFinder.get(`/danh-sach-phong-ss/${phongid}`);\r\n      setDsPhong(res.data.data.phong);\r\n\r\n      const res_dp = await DatPhongFinder.get(`/danh-sach-full/${dpid}`);\r\n      setKieuThue(res_dp.data.data.datphong.kieuthue);\r\n      setPhongDen(\"\");\r\n      setGiaThue(\"\");\r\n      setLyDo(\"\");\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const handleChangePhongDen = async (e) => {\r\n    setPhongDen(e.target.value);\r\n\r\n    const res = await PhongFinder.get(`/danh-sach-phong/${e.target.value}`);\r\n    if (res.data.data.phong) {\r\n      //   console.log(res.data.data.phong);\r\n      if (kieuthue === \"Thuê theo ngày\") {\r\n        setGiaThue(res.data.data.phong.giaphongtheongay);\r\n      } else {\r\n        setGiaThue(res.data.data.phong.giaphongtheogio);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-warning mt-3 ml-2\"\r\n        type=\"button\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${phongid}doiphong`}\r\n        onClick={handleClick}\r\n      >\r\n        Đổi phòng\r\n      </button>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${phongid}doiphong`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận đổi phòng</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"phongden\">Phòng muốn đổi</label>\r\n                <select\r\n                  id=\"phongden\"\r\n                  className=\"form-control\"\r\n                  value={phongden}\r\n                  onChange={(e) => handleChangePhongDen(e)}\r\n                >\r\n                  <option value=\"\" disabled>\r\n                    --Chọn--\r\n                  </option>\r\n                  {dsPhong.map((phong) => {\r\n                    return (\r\n                      <option\r\n                        value={phong.ten}\r\n                        key={phong.ten}\r\n                        className=\"form-control\"\r\n                      >\r\n                        {phong.ten} - Giá phòng:{\" \"}\r\n                        {NumberFormat(phong.giaphongtheongay)} VND/1 ngày,{\" \"}\r\n                        {NumberFormat(phong.giaphongtheogio)} VND/ 1 giờ\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"lydodoi\">Lý do đổi</label>\r\n                <textarea\r\n                  id=\"lydodoi\"\r\n                  rows=\"3\"\r\n                  className=\"form-control\"\r\n                  value={lydo}\r\n                  onChange={(e) => setLyDo(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDoiPhong(e)}\r\n              >\r\n                OK\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoiPhong;\r\n","import React, { useState } from \"react\";\r\nimport DoiHuyFinder from \"../../../../apis/DoiHuyFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport ThemLichSu from \"../../../../utils/ThemLichSu\";\r\nconst HuyPhong = ({ phongid, dpid, tiencoc }) => {\r\n  const [lydo, setLyDo] = useState(\"\");\r\n  let hi = useHistory();\r\n  const username = window.localStorage.getItem(\"user_name\");\r\n  const handleHuyPhong = async (e) => {\r\n    e.stopPropagation();\r\n\r\n    if (lydo) {\r\n      try {\r\n        const res = await DoiHuyFinder.post(\"/them-huy-phong\", {\r\n          phonghuy: phongid,\r\n          lydohuy: lydo,\r\n          nguoihuy: username,\r\n          datphong_id: dpid,\r\n          tiencoc: tiencoc,\r\n        });\r\n        if (res.data.data.huyphong) {\r\n          ThemLichSu({\r\n            doing: \"Hủy\",\r\n            olddata: {},\r\n            newdata: { new: res.data.data.huyphong },\r\n            tbl: \"Phòng\",\r\n          });\r\n          hi.push(\"/quan-ly/phong/tinh-trang\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-danger mt-3 ml-2\"\r\n        type=\"button\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${phongid}huyphong`}\r\n      >\r\n        Hủy phòng\r\n      </button>\r\n      <div className=\"modal fade mb-5\" id={`id${phongid}huyphong`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận hủy phòng</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"lydohuy\">Lý do hủy</label>\r\n                <textarea\r\n                  id=\"lydohuy\"\r\n                  rows=\"3\"\r\n                  className=\"form-control\"\r\n                  value={lydo}\r\n                  onChange={(e) => setLyDo(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleHuyPhong(e)}\r\n              >\r\n                OK\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HuyPhong;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useHistory } from \"react-router\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport KhachHangFinder from \"../../../apis/KhachHangFinder\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport {\r\n  NormalizeDate,\r\n  convertTime,\r\n  NumberFormat,\r\n} from \"../../../utils/DataHandler\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nimport DoiPhong from \"./doihuy/DoiPhong\";\r\nimport HuyPhong from \"./doihuy/HuyPhong\";\r\nconst CheckIn = () => {\r\n  const { phongid } = useParams();\r\n  let hi = useHistory();\r\n  const [dpSelected, setDpSelected] = useState([]);\r\n\r\n  const [tenKh, setTenKh] = useState(\"\");\r\n  const [cmndKH, setCmndKh] = useState(\"\");\r\n  const [sdtKh, setSdtKh] = useState(\"\");\r\n  const [khId, setKhId] = useState(\"\");\r\n  const [dpId, setDpId] = useState(\"\");\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const [old, setOld] = useState({});\r\n  useEffect(() => {\r\n    const getDatPhong = async () => {\r\n      try {\r\n        const res = await DatPhongFinder.get(`/danh-sach/${phongid}`);\r\n        if (res.data.status) {\r\n          setDpSelected(res.data.data.datphong);\r\n          const datPhongSelected = res.data.data.datphong;\r\n          setTenKh(datPhongSelected.kh_name);\r\n          setCmndKh(datPhongSelected.kh_cmnd);\r\n          setSdtKh(datPhongSelected.kh_sdt);\r\n          setKhId(datPhongSelected.kh_id);\r\n          setDpId(datPhongSelected.id);\r\n          setOld({\r\n            id: datPhongSelected.kh_id,\r\n            ten: datPhongSelected.kh_name,\r\n            cmnd: datPhongSelected.kh_cmnd,\r\n            sdt: datPhongSelected.kh_sdt,\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getDatPhong();\r\n  }, [phongid]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/phong/tinh-trang\");\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!tenKh) {\r\n      setMsgError(\"Tên khách hàng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (!cmndKH) {\r\n      setMsgError(\"Chứng minh nhân dân không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (cmndKH.length !== 12) {\r\n      setMsgError(\"Chứng minh nhân dân không hợp lệ. (gồm 12 số). \");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3500);\r\n    } else if (!sdtKh) {\r\n      setMsgError(\"Số điện thoại không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (sdtKh.length < 10 || sdtKh.length > 11) {\r\n      setMsgError(\r\n        \"Số điện thoại không hợp lệ. (gồm 10 số với di động, 11 số với máy bàn).\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 5000);\r\n    } else {\r\n      try {\r\n        const res = await KhachHangFinder.put(\"/sua-checkin\", {\r\n          id: khId,\r\n          ten: tenKh,\r\n          cmnd: cmndKH,\r\n          sdt: sdtKh,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: khId,\r\n            ten: tenKh,\r\n            cmnd: cmndKH,\r\n            sdt: sdtKh,\r\n          };\r\n\r\n          if (JSON.stringify(newd) !== JSON.stringify(old)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old },\r\n              newdata: {\r\n                new: newd,\r\n              },\r\n              tbl: \"Khách hàng\",\r\n            });\r\n          }\r\n          hi.push(\"/quan-ly/phong/tinh-trang\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCheckIn = async () => {\r\n    if (!tenKh) {\r\n      setMsgError(\"Tên khách hàng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (!cmndKH) {\r\n      setMsgError(\"Chứng minh nhân dân không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (cmndKH.length !== 12) {\r\n      setMsgError(\"Chứng minh nhân dân không hợp lệ. (gồm 12 số). \");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3500);\r\n    } else if (!sdtKh) {\r\n      setMsgError(\"Số điện thoại không được để trống\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (sdtKh.length < 10 || sdtKh.length > 11) {\r\n      setMsgError(\r\n        \"Số điện thoại không hợp lệ. (gồm 10 số với di động, 11 số với máy bàn).\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 5000);\r\n    } else {\r\n      try {\r\n        await KhachHangFinder.put(\"/sua-checkin\", {\r\n          id: khId,\r\n          ten: tenKh,\r\n          cmnd: cmndKH,\r\n          sdt: sdtKh,\r\n        });\r\n        const newd = {\r\n          id: khId,\r\n          ten: tenKh,\r\n          cmnd: cmndKH,\r\n          sdt: sdtKh,\r\n        };\r\n\r\n        if (JSON.stringify(newd) !== JSON.stringify(old)) {\r\n          ThemLichSu({\r\n            doing: \"Sửa\",\r\n            olddata: { old },\r\n            newdata: {\r\n              new: newd,\r\n            },\r\n            tbl: \"Khách hàng\",\r\n          });\r\n        }\r\n\r\n        await DatPhongFinder.put(\"/check-in\", {\r\n          id: dpId,\r\n        });\r\n        ThemLichSu({\r\n          doing: \"Check In\",\r\n          olddata: {},\r\n          newdata: {},\r\n          tbl: \"Phòng\",\r\n        });\r\n\r\n        await PhongFinder.put(\"/update-tt\", {\r\n          ten: phongid,\r\n          trangthai: 2,\r\n        });\r\n\r\n        hi.push(`/quan-ly/phong/tinh-trang/${phongid}/su-dung-dich-vu`);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center mb-5\">THÔNG TIN ĐẶT PHÒNG</h1>\r\n\r\n      <div className=\"form-row\">\r\n        <div className=\"col-6\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"tenkh\">Tên khách hàng</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"tenkh\"\r\n              className=\"form-control\"\r\n              value={tenKh}\r\n              onChange={(e) => setTenKh(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"cmnd\">Chứng minh nhân dân</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"cmnd\"\r\n              onChange={(e) => setCmndKh(e.target.value)}\r\n              value={cmndKH}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"sdt\">Số điện thoại</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"sdt\"\r\n              onChange={(e) => setSdtKh(e.target.value)}\r\n              value={sdtKh}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <p className=\"text-danger\">{msgError}</p>\r\n      <div className=\"d-flex flex-row\">\r\n        <button className=\"btn btn-primary  mt-3 mr-2\" onClick={handleCheckIn}>\r\n          Check In\r\n        </button>\r\n        <button className=\"btn btn-info px-4 mt-3 mr-2\" onClick={handleSave}>\r\n          Lưu\r\n        </button>\r\n        <button className=\"btn btn-secondary mt-3\" onClick={goBack}>\r\n          Quay lại\r\n        </button>\r\n        <DoiPhong phongid={phongid} dpid={dpId} />\r\n        <HuyPhong phongid={phongid} dpid={dpId} tiencoc={dpSelected.tiencoc} />\r\n      </div>\r\n\r\n      <h4 className=\"mt-3 mb-3\">PHÒNG : {dpSelected.phong_id}</h4>\r\n      <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n        <tbody>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Hình thức đặt phòng</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.hinhthucdp}</td>\r\n          </tr>\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Ngày đặt phòng</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {\" \"}\r\n              Ngày: {NormalizeDate(dpSelected.ngaydat)}, lúc{\" \"}\r\n              {convertTime(dpSelected.ngaydat)}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Check In</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {\" \"}\r\n              Ngày: {NormalizeDate(dpSelected.checkin)}, lúc{\" \"}\r\n              {convertTime(dpSelected.checkin)}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Check out</td>\r\n            <td className=\"col-9 pl-2\">\r\n              {\" \"}\r\n              Ngày: {NormalizeDate(dpSelected.checkout)}, lúc{\" \"}\r\n              {convertTime(dpSelected.checkout)}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Nhân viên tiếp nhận</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.nv}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Hình thức thuê</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.kieuthue}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Giá thuê </td>\r\n            <td className=\"col-9 pl-2\">\r\n              {NumberFormat(dpSelected.giathue)} VND /{\" \"}\r\n              {dpSelected.kieuthue === \"Thuê theo ngày\" ? \"ngày\" : \"giờ\"}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">\r\n              Số {dpSelected.kieuthue === \"Thuê theo ngày\" ? \"ngày\" : \"giờ\"}{\" \"}\r\n              thuê{\" \"}\r\n            </td>\r\n            <td className=\"col-9 pl-2\">\r\n              {dpSelected.sotgthue}&nbsp;\r\n              {dpSelected.kieuthue === \"Thuê theo ngày\" ? \"ngày\" : \"giờ\"}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Nhân viên tiếp nhận</td>\r\n            <td className=\"col-9 pl-2\">{dpSelected.nv}</td>\r\n          </tr>\r\n\r\n          <tr className=\"d-flex\">\r\n            <td className=\"col-3 pl-2 font-weight-bold\">Tiền cọc</td>\r\n            <td className=\"col-9 pl-2\">{NumberFormat(dpSelected.tiencoc)}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckIn;\r\n","import React from \"react\";\r\nimport CheckIn from \"../../../../components/quanly/datphong/CheckIn\";\r\n\r\nconst CheckInPage = () => {\r\n  return (\r\n    <div>\r\n      <CheckIn />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckInPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n// import DateTimePicker from \"react-datetime-picker\";\r\nimport CurrencyInput from \"react-currency-input-field\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport NhanVienFinder from \"../../../apis/NhanVienFinder\";\r\nimport { useParams, useHistory } from \"react-router\";\r\nimport { convertDate, convertTime } from \"../../../utils/DataHandler\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst ThongTinDatPhong = () => {\r\n  let hi = useHistory();\r\n\r\n  const user_name = window.localStorage.getItem(\"user_name\");\r\n  const user_displayname = window.localStorage.getItem(\"user_displayname\");\r\n\r\n  const [htdatphong, setHtDatPhong] = useState(\"Trực tiếp\");\r\n  const [checkin, setCheckIn] = useState(\"\");\r\n  const [checkout, setCheckOut] = useState(\"\");\r\n  const [htthue, setHtThue] = useState(\"\");\r\n  const [giathue, setGiaThue] = useState(\"\");\r\n  const [sotgThue, setSoTgThue] = useState(\"1\");\r\n  const [tiencoc, setTienCoc] = useState(\"\");\r\n  const [nv, setNV] = useState(\"\");\r\n  const [msgError, setMsgError] = useState(\"\");\r\n\r\n  const { khID } = useContext(AccountContext);\r\n  const [thuetheongay, setThueTheoNgay] = useState(\"d-none\");\r\n  const [thuetheogio, setThueTheoGio] = useState(\"d-none\");\r\n\r\n  const [phongSelected, setPhongSelected] = useState([]);\r\n  const { phongid } = useParams();\r\n\r\n  useEffect(() => {\r\n    const getPhong = async () => {\r\n      try {\r\n        const res = await PhongFinder.get(`/danh-sach-phong/${phongid}`);\r\n        if (res.data.status === \"ok\") {\r\n          setPhongSelected(res.data.data.phong);\r\n        }\r\n      } catch (er) {\r\n        console.log(er.message);\r\n      }\r\n    };\r\n\r\n    const getNhanVien = async () => {\r\n      try {\r\n        const res = await NhanVienFinder.get(\r\n          `/danh-sach-nhan-vien-theo-acc/${user_name}`\r\n        );\r\n        if (res.data.status === \"ok\") {\r\n          if (res.data.data.nhanvien) {\r\n            setNV(res.data.data.nhanvien.name);\r\n          } else {\r\n            setNV(user_displayname);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    getNhanVien();\r\n    getPhong();\r\n  }, [phongid, setPhongSelected, user_name, setNV, user_displayname]);\r\n\r\n  const handleChangeHtThue = (e) => {\r\n    setHtThue(e.target.value);\r\n    if (e.target.value === \"Thuê theo ngày\") {\r\n      setThueTheoNgay(\"\");\r\n      setSoTgThue(\"1\");\r\n\r\n      setThueTheoGio(\"d-none\");\r\n      setGiaThue(phongSelected.giaphongtheongay);\r\n      let tc = parseInt(phongSelected.giaphongtheongay / 5);\r\n      setTienCoc(Math.round(tc / 1000) * 1000);\r\n    } else if (e.target.value === \"Thuê theo giờ\") {\r\n      setThueTheoGio(\"\");\r\n      setSoTgThue(\"1\");\r\n      setThueTheoNgay(\"d-none\");\r\n\r\n      setGiaThue(phongSelected.giaphongtheogio);\r\n      let tc = parseInt(phongSelected.giaphongtheogio / 5);\r\n      setTienCoc(Math.round(tc / 1000) * 1000);\r\n    } else {\r\n      setThueTheoNgay(\"d-none\");\r\n      setThueTheoGio(\"d-none\");\r\n      setGiaThue(\"\");\r\n      setSoTgThue(\"\");\r\n      setTienCoc(\"\");\r\n      setGiaThue(\"\");\r\n    }\r\n  };\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/phong/tinh-trang\");\r\n  };\r\n\r\n  const handleOpenRoom = async () => {\r\n    if (khID === \"\") {\r\n      setMsgError(\"Bạn phải chọn khách hàng để thực hiện đặt phòng.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else if (!checkin) {\r\n      setMsgError(\"Ngày-giờ Check-in không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else if (!checkout) {\r\n      setMsgError(\"Ngày-giờ Check-out không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else if (htthue === \"\") {\r\n      setMsgError(\"Hình thức thuê không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else if (\r\n      htthue === \"Thuê theo ngày\" &&\r\n      sotgThue <\r\n        Math.floor(\r\n          (new Date(checkout) - new Date(checkin)) / (1000 * 3600 * 24)\r\n        )\r\n    ) {\r\n      setMsgError(\"Số ngày thuê không hợp lệ. (trước khi checkout)\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else if (\r\n      htthue === \"Thuê theo giờ\" &&\r\n      sotgThue <\r\n        Math.floor((new Date(checkout) - new Date(checkin)) / (1000 * 3600))\r\n    ) {\r\n      setMsgError(\"Số giờ thuê không hợp lệ. (trước khi checkout)\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else if (!giathue) {\r\n      setMsgError(\"Giá thuê không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else if (!tiencoc) {\r\n      setMsgError(\"Tiền cọc không được để trống.\");\r\n      setTimeout(() => {\r\n        setMsgError(\"\");\r\n      }, 4000);\r\n    } else {\r\n      try {\r\n        const res = await DatPhongFinder.post(\"/them\", {\r\n          khachhang_id: khID,\r\n          hinhthucdp: htdatphong,\r\n          checkin: convertDate(checkin) + \" \" + convertTime(checkin) + \"-07\",\r\n          checkout: convertDate(checkout) + \" \" + convertTime(checkout) + \"-07\",\r\n          phong_id: phongid,\r\n          kieuthue: htthue,\r\n          giathue: giathue,\r\n          sotgthue: sotgThue,\r\n          nv: nv,\r\n          tongtien: 0,\r\n          trangthai: 1,\r\n          tiencoc: tiencoc,\r\n        });\r\n        if (res.data.status === \"ok\") {\r\n          if (res.data.data.datphong) {\r\n            ThemLichSu({\r\n              doing: \"Mở\",\r\n              olddata: {},\r\n              newdata: { new: res.data.data.datphong },\r\n              tbl: \"Đặt phòng\",\r\n            });\r\n            const r = await PhongFinder.put(\"/update-tt\", {\r\n              ten: phongid,\r\n              trangthai: 1,\r\n            });\r\n            if (r.data.status === \"ok\") {\r\n              hi.push(`/quan-ly/phong/tinh-trang/${phongid}/checkin`);\r\n            }\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-center\">Thông tin đặt phòng</h3>\r\n\r\n      <form className=\"mt-5\">\r\n        <h5 className=\"form-group\">PHÒNG THUÊ : {phongid}</h5>\r\n        <div className=\"form-group input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <label htmlFor=\"htdatphong\" className=\"input-group-text\">\r\n              Hình thức đặt phòng:{\" \"}\r\n            </label>\r\n          </div>\r\n          <select\r\n            id=\"htdatphong\"\r\n            className=\"custom-select\"\r\n            value={htdatphong}\r\n            onChange={(e) => setHtDatPhong(e.target.value)}\r\n          >\r\n            <option value=\"Trực tiếp\">Trực tiếp</option>\r\n            <option value=\"Online\">Online</option>\r\n            <option value=\"Gọi điện\">Gọi điện</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"checkin\">Check In</label>\r\n              {/* <DateTimePicker\r\n                className=\"form-control\"\r\n                value={checkin}\r\n                onChange={setCheckIn}\r\n                locale=\"vi-VN\"\r\n                format=\"dd-MM-y h:mm a\"\r\n                id=\"checkin\"\r\n                minDate={new Date()}\r\n              /> */}\r\n              <input\r\n                className=\"form-control\"\r\n                type=\"datetime-local\"\r\n                id=\"checkin\"\r\n                value={checkin}\r\n                onChange={(e) => {\r\n                  const today = new Date();\r\n                  if (new Date(e.target.value) - today > 0)\r\n                    setCheckIn(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"checkout\">Check Out</label>\r\n              {/* <DateTimePicker\r\n                className=\"form-control\"\r\n                value={checkout}\r\n                onChange={setCheckOut}\r\n                locale=\"vi-VN\"\r\n                format=\"dd-MM-y h:mm a\"\r\n                id=\"checkout\"\r\n                minDate={new Date()}\r\n              /> */}\r\n              <input\r\n                className=\"form-control\"\r\n                type=\"datetime-local\"\r\n                id=\"chekout-date\"\r\n                value={checkout}\r\n                onChange={(e) => {\r\n                  if (!checkin) {\r\n                    setMsgError(\"Bạn nên chọn thời gian nhận phòng trước.\");\r\n                    setTimeout(() => {\r\n                      setMsgError(\"\");\r\n                    }, 3000);\r\n                  } else {\r\n                    if (\r\n                      new Date(e.target.value) - new Date(checkin) >=\r\n                      2 * 3600 * 1000\r\n                    )\r\n                      setCheckOut(e.target.value);\r\n                    else {\r\n                      setMsgError(\r\n                        \"Bạn nên chọn thời gian trả phòng sau 2 giờ kể từ thời điểm nhận phòng.\"\r\n                      );\r\n                      setTimeout(() => {\r\n                        setMsgError(\"\");\r\n                      }, 3000);\r\n                    }\r\n                  }\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"htthue\">Hình thức thuê</label>\r\n          <select\r\n            id=\"htthue\"\r\n            className=\"form-control\"\r\n            value={htthue}\r\n            onChange={(e) => handleChangeHtThue(e)}\r\n          >\r\n            <option value=\"\">-- Chọn --</option>\r\n            <option value=\"Thuê theo ngày\">Theo ngày</option>\r\n            <option value=\"Thuê theo giờ\">Theo giờ</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className={`form-row ${thuetheongay}`}>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"giathuetheongay\">Giá thuê theo ngày</label>\r\n              <CurrencyInput\r\n                id=\"giathuetheongay\"\r\n                value={giathue}\r\n                className=\"form-control text-right\"\r\n                suffix=\" đồng\"\r\n                groupSeparator=\".\"\r\n                onValueChange={(value) => {\r\n                  setGiaThue(value);\r\n                }}\r\n                step=\"1000\"\r\n                maxLength=\"9\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"songaythue\">Số ngày thuê</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"songaythue\"\r\n                className=\"form-control\"\r\n                value={sotgThue}\r\n                min=\"1\"\r\n                max=\"100\"\r\n                onChange={(e) => {\r\n                  setSoTgThue(e.target.value);\r\n                  let tc = (parseInt(e.target.value) * parseInt(giathue)) / 5;\r\n                  setTienCoc(Math.round(tc / 1000) * 1000);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={`form-row ${thuetheogio}`}>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"giathuetheogio\">Giá thuê theo giờ</label>\r\n              <CurrencyInput\r\n                id=\"giathuetheogio\"\r\n                value={giathue}\r\n                className=\"form-control text-right\"\r\n                suffix=\" đồng\"\r\n                groupSeparator=\".\"\r\n                onValueChange={(value) => {\r\n                  setGiaThue(value);\r\n                }}\r\n                step=\"1000\"\r\n                maxLength=\"9\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"sogiothue\">Số giờ thuê</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"sogiothue\"\r\n                className=\"form-control\"\r\n                value={sotgThue}\r\n                min=\"1\"\r\n                max=\"24\"\r\n                onChange={(e) => {\r\n                  setSoTgThue(e.target.value);\r\n                  let tc = (parseInt(e.target.value) * parseInt(giathue)) / 5;\r\n                  setTienCoc(Math.round(tc / 1000) * 1000);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"tiencoc\">Tiền cọc (20% tiền phòng)</label>\r\n          <CurrencyInput\r\n            id=\"tiencoc\"\r\n            value={tiencoc}\r\n            className=\"form-control text-right\"\r\n            suffix=\" đồng\"\r\n            groupSeparator=\".\"\r\n            onValueChange={(value) => {\r\n              setTienCoc(value);\r\n            }}\r\n            step=\"1000\"\r\n            maxLength=\"9\"\r\n          />\r\n        </div>\r\n        <p className=\"text-danger\">{msgError}</p>\r\n\r\n        <div className=\"d-flex flex-row\">\r\n          <div className=\" \">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary \"\r\n              onClick={handleOpenRoom}\r\n            >\r\n              Mở phòng\r\n            </button>\r\n\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary ml-2 px-3\"\r\n              onClick={goBack}\r\n            >\r\n              Quay lại\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThongTinDatPhong;\r\n","\timport React, { useContext, useEffect, useState } from \"react\";\r\nimport KhachHangFinder from \"../../../apis/KhachHangFinder\";\r\nimport TaiKhoanFinder from \"../../../apis/TaiKhoanFinder\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport Select from \"react-select\";\r\nimport {\r\n  convertDate,\r\n  convertDataTocreatableSelect,\r\n} from \"../../../utils/DataHandler\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport NormalizeString from \"../../../utils/NormalizeString\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst ThongTinKhachHang = () => {\r\n  //   const [dsKhachHang, setDsKhachHang] = useState([]);\r\n  const [khID, setKhId] = useState(\"\");\r\n\r\n  const [tenKH, setTenKH] = useState(\"\");\r\n  const [gioitinh, setGioiTinh] = useState(\"\");\r\n  const [ngaysinh, setNgaySinh] = useState(\"\");\r\n  const [diachi, setDiaChi] = useState(\"\");\r\n  const [cmnd, setCMND] = useState(\"\");\r\n  const [sdt, setSdt] = useState(\"\");\r\n  const [acc, setAcc] = useState(\"\");\r\n  const [stk, setStk] = useState(\"\");\r\n\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [successMsg, setSuccessMsg] = useState(\"\");\r\n  const [buttonThem, setButtonThem] = useState(\"\");\r\n  const [buttonSua, setButtonSua] = useState(\"d-none\");\r\n  const [disableAccount, setDisableAccount] = useState(false);\r\n\r\n  const [kieukhID, setKieuKhID] = useState(\"\");\r\n  const [kieuKH, setKieuKH] = useState([]);\r\n  const [kieuKHSelected, setKieuKHSelected] = useState([]);\r\n\r\n  const { setKHID } = useContext(AccountContext);\r\n\r\n  const [optionsKH, setOptionsKH] = useState([]);\r\n  const [valueKh, setValueKh] = useState({\r\n    label: \"-- Chưa có --\",\r\n    value: \"\",\r\n  });\r\n\r\n  const [old, setOld] = useState({});\r\n  //   const validateData = async (data, type) => {\r\n  //     if (type === \"SDT\") {\r\n  //       const res = await KhachHangFinder.get(`/kiem-tra-sdt/${data}`);\r\n  //       if (res.data.data.khachhang.count === 0) return true;\r\n  //     } else if (type === \"CMND\") {\r\n  //       const res = await KhachHangFinder.get(`/kiem-tra-cmnd/${data}`);\r\n  //       console.log(res.data.data.khachhang);\r\n  //       if (res.data.data.khachhang.count === 0) return true;\r\n  //     } else if (type === \"STK\") {\r\n  //       const res = await KhachHangFinder.get(`/kiem-tra-stk/${data}`);\r\n  //       if (res.data.data.khachhang.count === 0) return true;\r\n  //     }\r\n  //     return false;\r\n  //   };\r\n\r\n  const getKieuKhachHang = async () => {\r\n    try {\r\n      const res = await KhachHangFinder.get(\"/danh-sach-kieu\");\r\n      setKieuKH(convertDataTocreatableSelect(res.data.data.kieukh));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const getListKh = async () => {\r\n    try {\r\n      const res = await KhachHangFinder.get(\"/danh-sach\");\r\n      //   setDsKhachHang(res.data.data.khachhang);\r\n      const options = [\r\n        {\r\n          label: \"-- Chưa có --\",\r\n          value: \"\",\r\n        },\r\n      ];\r\n      res.data.data.khachhang.forEach((item) => {\r\n        const option = {\r\n          label: item.sdt + \" - \" + item.ten,\r\n          value: item.id,\r\n        };\r\n        options.push(option);\r\n      });\r\n      setOptionsKH(options);\r\n      //   setKHID(\"\");\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getListKh();\r\n    getKieuKhachHang();\r\n  }, []);\r\n\r\n  const getMotKH = async (id) => {\r\n    try {\r\n      const res = await KhachHangFinder.get(`/danh-sach/${id}`);\r\n      //   console.log(res.data.data.khachhang);\r\n      const khachhangSelected = res.data.data.khachhang;\r\n      setTenKH(khachhangSelected.ten);\r\n      setGioiTinh(khachhangSelected.gioitinh);\r\n      setNgaySinh(convertDate(khachhangSelected.ngaysinh));\r\n      setDiaChi(khachhangSelected.diachi);\r\n      setCMND(khachhangSelected.cmnd);\r\n      setSdt(khachhangSelected.sdt);\r\n      setAcc(khachhangSelected.account);\r\n      setKieuKhID(khachhangSelected.kieukhachhang_id);\r\n      setStk(khachhangSelected.stk);\r\n      setKieuKHSelected({\r\n        value: khachhangSelected.kieukhachhang_id,\r\n        label: khachhangSelected.kieukhachhang_name,\r\n      });\r\n\r\n      //Lich su hoat dong\r\n      setOld({\r\n        id: khachhangSelected.id + \"\",\r\n        ten: khachhangSelected.ten,\r\n        cmnd: khachhangSelected.cmnd,\r\n        gioitinh: khachhangSelected.gioitinh,\r\n        ngaysinh: convertDate(khachhangSelected.ngaysinh),\r\n        diachi: khachhangSelected.diachi,\r\n        sdt: khachhangSelected.sdt,\r\n        kieukhachhang_id: khachhangSelected.kieukhachhang_id,\r\n        stk: khachhangSelected.stk,\r\n      });\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const customStyles = {\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      color: state.isSelected ? \"black\" : \"#51515\",\r\n      padding: 5,\r\n    }),\r\n  };\r\n\r\n  const handleChangeKieuKhachHang = (dataSelected, actionMeta) => {\r\n    if (actionMeta.action === \"select-option\") {\r\n      setKieuKhID(dataSelected.value);\r\n      setKieuKHSelected(dataSelected);\r\n    } else if (actionMeta.action === \"create-option\") {\r\n      handleAddKieuKhachHang(dataSelected.value);\r\n    } else if (actionMeta.action === \"clear\") {\r\n      setKieuKhID(\"\");\r\n      setKieuKHSelected({});\r\n    }\r\n  };\r\n\r\n  const handleAddKieuKhachHang = async (name) => {\r\n    try {\r\n      const res = await KhachHangFinder.post(\"/them-kieu\", {\r\n        name: name,\r\n      });\r\n      ThemLichSu({\r\n        doing: \"Thêm\",\r\n        olddata: {},\r\n        newdata: { new: res.data.data.kieukh },\r\n        tbl: \"Kiểu khách hàng\",\r\n      });\r\n      setKieuKhID(res.data.data.kieukh.id);\r\n      setKieuKHSelected({\r\n        value: res.data.data.kieukh.id,\r\n        label: res.data.data.kieukh.name,\r\n      });\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleChangeSelectKh = (value, action) => {\r\n    setValueKh(value);\r\n    setKhId(value.value);\r\n    setKHID(value.value);\r\n    if (action.action === \"select-option\") {\r\n      if (value.value !== \"\") {\r\n        getMotKH(value.value);\r\n        setButtonThem(\"d-none\");\r\n        setButtonSua(\"\");\r\n        setDisableAccount(true);\r\n      } else {\r\n        setTenKH(\"\");\r\n        setGioiTinh(\"\");\r\n        setNgaySinh(\"\");\r\n        setDiaChi(\"\");\r\n        setCMND(\"\");\r\n        setSdt(\"\");\r\n        setAcc(\"\");\r\n        setStk(\"\");\r\n        setButtonSua(\"d-none\");\r\n        setButtonThem(\"\");\r\n        setDisableAccount(false);\r\n        setKieuKhID(\"\");\r\n        setKieuKHSelected([]);\r\n      }\r\n    }\r\n    console.log(value, action);\r\n  };\r\n  //   const handleChangeDsKH = (e) => {\r\n  //     setKhId(e.target.value);\r\n  //     setKHID(e.target.value);\r\n  //     if (e.target.value !== \"0\") {\r\n  //       getMotKH(e.target.value);\r\n  //       setButtonThem(\"d-none\");\r\n  //       setButtonSua(\"\");\r\n  //       setDisableAccount(true);\r\n  //     } else {\r\n  //       setTenKH(\"\");\r\n  //       setGioiTinh(\"\");\r\n  //       setNgaySinh(\"\");\r\n  //       setDiaChi(\"\");\r\n  //       setCMND(\"\");\r\n  //       setSdt(\"\");\r\n  //       setAcc(\"\");\r\n  //       setButtonSua(\"d-none\");\r\n  //       setButtonThem(\"\");\r\n  //       setDisableAccount(false);\r\n  //       setKieuKhID(\"\");\r\n  //       setKieuKHSelected([]);\r\n  //     }\r\n  //   };\r\n\r\n  const handleInsertKh = async () => {\r\n    if (!tenKH) {\r\n      setMsg(\"Tên khách hàng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (gioitinh === \"\") {\r\n      setMsg(\"Giới tính không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (!ngaysinh) {\r\n      setMsg(\"Ngày sinh không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (!cmnd) {\r\n      setMsg(\"Chứng minh nhân dân không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (cmnd.length !== 12) {\r\n      setMsg(\"Chứng minh nhân dân không hợp lệ. (gồm 12 số). \");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (!sdt) {\r\n      setMsg(\"Số điện thoại không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (sdt.length < 10 || sdt.length > 11) {\r\n      setMsg(\r\n        \"Số điện thoại không hợp lệ. (gồm 10 số với di động, 11 số với máy bàn).\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 5000);\r\n    } else if (!diachi) {\r\n      setMsg(\"Địa chỉ không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (stk.length < 9 || stk.length > 15) {\r\n      setMsg(\"Số tài khoản không hợp lệ.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 5000);\r\n    } else if (!kieukhID) {\r\n      setMsg(\"Kiểu khách hàng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (!acc) {\r\n      setMsg(\"Tên tài khoản không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else {\r\n      try {\r\n        const res_check_cmnd = await KhachHangFinder.get(\r\n          `/kiem-tra-cmnd/${cmnd}`\r\n        );\r\n        const res_check_sdt = await KhachHangFinder.get(`/kiem-tra-sdt/${sdt}`);\r\n        const res_check_stk = await KhachHangFinder.get(`/kiem-tra-stk/${stk}`);\r\n        console.log(res_check_stk.data.data.khachhang.count);\r\n        if (res_check_cmnd.data.data.khachhang.count === \"1\") {\r\n          setMsg(\"Chứng minh nhân dân đã tồn tại.  \");\r\n          setTimeout(() => {\r\n            setMsg(\"\");\r\n          }, 3500);\r\n        } else if (res_check_sdt.data.data.khachhang.count === \"1\") {\r\n          setMsg(\"Số điện thoại đã tồn tại.  \");\r\n          setTimeout(() => {\r\n            setMsg(\"\");\r\n          }, 3500);\r\n        } else if (res_check_stk.data.data.khachhang.count === \"1\") {\r\n          setMsg(\"Số tài khoản đã tồn tại.  \");\r\n          setTimeout(() => {\r\n            setMsg(\"\");\r\n          }, 3500);\r\n        } else {\r\n          const res = await TaiKhoanFinder.post(\"/them-tai-khoan-khach-hang\", {\r\n            ten: acc,\r\n            mk: \"12345678\",\r\n            ten_hienthi: NormalizeString(tenKH),\r\n          });\r\n          if (res.data.status === \"ok\") {\r\n            ThemLichSu({\r\n              doing: \"Thêm\",\r\n              olddata: {},\r\n              newdata: {\r\n                new: {\r\n                  ten: res.data.data.acc.ten,\r\n                  ten_hienthi: res.data.data.acc.ten_hienthi,\r\n                  vaitro: res.data.data.acc.vaitro,\r\n                },\r\n              },\r\n              tbl: \"Người dùng\",\r\n            });\r\n            const r = await KhachHangFinder.post(\"/them\", {\r\n              ten: NormalizeString(tenKH),\r\n              cmnd: cmnd,\r\n              gioitinh: gioitinh,\r\n              ngaysinh: ngaysinh,\r\n              diachi: NormalizeString(diachi),\r\n              sdt: sdt,\r\n              kieukhachhang_id: kieukhID,\r\n              account: res.data.data.acc.ten,\r\n              stk: stk,\r\n            });\r\n            console.log(r);\r\n            if (r.data.status === \"ok\") {\r\n              ThemLichSu({\r\n                doing: \"Thêm\",\r\n                olddata: {},\r\n                newdata: {\r\n                  new: r.data.data.khachhang,\r\n                },\r\n                tbl: \"Khách hàng\",\r\n              });\r\n              getListKh();\r\n              setKHID(r.data.data.khachhang.id);\r\n              setKhId(r.data.data.khachhang.id);\r\n              setValueKh({\r\n                label:\r\n                  r.data.data.khachhang.sdt + \" - \" + r.data.data.khachhang.ten,\r\n                value: r.data.data.khachhang.id,\r\n              });\r\n              getMotKH(r.data.data.khachhang.id);\r\n              setButtonThem(\"d-none\");\r\n              setButtonSua(\"\");\r\n              setDisableAccount(true);\r\n              setSuccessMsg(\"Thêm thành công\");\r\n              setTimeout(() => {\r\n                setSuccessMsg(\"\");\r\n              }, 3000);\r\n            } else {\r\n              setMsg(r.data.status);\r\n              setTimeout(() => {\r\n                setMsg(\"\");\r\n              }, 3000);\r\n            }\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUpdateKh = async () => {\r\n    if (!tenKH) {\r\n      setMsg(\"Tên khách hàng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (gioitinh === \"\") {\r\n      setMsg(\"Giới tính không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (!ngaysinh) {\r\n      setMsg(\"Ngày sinh không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (!cmnd) {\r\n      setMsg(\"Chứng minh nhân dân không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (cmnd.length !== 12) {\r\n      setMsg(\"Chứng minh nhân dân không hợp lệ. (gồm 12 số). \");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3500);\r\n    } else if (!sdt) {\r\n      setMsg(\"Số điện thoại không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (sdt.length < 10 || sdt.length > 11) {\r\n      setMsg(\r\n        \"Số điện thoại không hợp lệ. (gồm 10 số với di động, 11 số với máy bàn).\"\r\n      );\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 5000);\r\n    } else if (!diachi) {\r\n      setMsg(\"Địa chỉ không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else if (stk.length < 9 || sdt.length > 15) {\r\n      setMsg(\"Số tài khoản không hợp lệ.\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 5000);\r\n    } else if (!kieukhID) {\r\n      setMsg(\"Kiểu khách hàng không được để trống\");\r\n      setTimeout(() => {\r\n        setMsg(\"\");\r\n      }, 3000);\r\n      //\r\n    } else {\r\n      try {\r\n        const res = await KhachHangFinder.put(\"/sua\", {\r\n          id: khID,\r\n          ten: NormalizeString(tenKH),\r\n          cmnd: cmnd,\r\n          gioitinh: gioitinh,\r\n          ngaysinh: ngaysinh,\r\n          diachi: NormalizeString(diachi),\r\n          sdt: sdt,\r\n          kieukhachhang_id: kieukhID,\r\n          stk: stk,\r\n        });\r\n        console.log(res);\r\n        if (res.data.status === \"ok\") {\r\n          const newd = {\r\n            id: khID,\r\n            ten: NormalizeString(tenKH),\r\n            cmnd: cmnd,\r\n            gioitinh: gioitinh,\r\n            ngaysinh: ngaysinh,\r\n            diachi: NormalizeString(diachi),\r\n            sdt: sdt,\r\n            kieukhachhang_id: kieukhID,\r\n            stk: stk,\r\n          };\r\n          if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n            ThemLichSu({\r\n              doing: \"Sửa\",\r\n              olddata: { old },\r\n              newdata: {\r\n                new: newd,\r\n              },\r\n              tbl: \"Khách hàng\",\r\n            });\r\n          }\r\n\r\n          getListKh();\r\n          setSuccessMsg(\"Sửa thành công\");\r\n          setTimeout(() => {\r\n            setSuccessMsg(\"\");\r\n          }, 3000);\r\n        } else {\r\n          setMsg(res.data.status);\r\n          setTimeout(() => {\r\n            setMsg(\"\");\r\n          }, 3000);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-center\">Thông tin khách hàng</h3>\r\n\r\n      <form action=\"\" className=\"mt-5\">\r\n        <Select\r\n          className=\"form-group\"\r\n          options={optionsKH}\r\n          value={valueKh}\r\n          onChange={handleChangeSelectKh}\r\n        />\r\n        {/* <div className=\"input-group-prepend form-group\">\r\n          <label className=\"input-group-text\" htmlFor=\"dskhachhang\">\r\n            Khách hàng\r\n          </label>\r\n          <select\r\n            id=\"dskhachhang\"\r\n            value={khID}\r\n            className=\"custom-select\"\r\n            onChange={(e) => handleChangeDsKH(e)}\r\n          >\r\n            <option value=\"0\">-- Chưa có --</option>\r\n            {dsKhachHang.map((kh) => {\r\n              return (\r\n                <option value={kh.id} key={kh.id}>\r\n                  {kh.ten} - {kh.cmnd} - {kh.account}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div> */}\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"tenkh\">Tên khách hàng</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"tenkh\"\r\n            className=\"form-control\"\r\n            value={tenKH}\r\n            onChange={(e) => setTenKH(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"gioitinh\">Giới tính</label>\r\n              <select\r\n                id=\"giotinh\"\r\n                value={gioitinh}\r\n                className=\"form-control\"\r\n                onChange={(e) => setGioiTinh(e.target.value)}\r\n              >\r\n                <option value=\"\">-- Chọn --</option>\r\n                <option value=\"0\">Nam</option>\r\n                <option value=\"1\">Nữ</option>\r\n                <option value=\"2\">KXD</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"ngaysinh\">Ngày sinh</label>\r\n              <input\r\n                type=\"date\"\r\n                id=\"ngaysinh\"\r\n                className=\"form-control\"\r\n                value={ngaysinh}\r\n                onChange={(e) => setNgaySinh(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"cmnd\">Chứng minh nhân dân</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"cmnd\"\r\n                onChange={(e) => setCMND(e.target.value)}\r\n                value={cmnd}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"sdt\">Số điện thoại</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"sdt\"\r\n                onChange={(e) => setSdt(e.target.value)}\r\n                value={sdt}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"diachi\">Địa chỉ</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            id=\"diachi\"\r\n            rows=\"2\"\r\n            onChange={(e) => setDiaChi(e.target.value)}\r\n            value={diachi}\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"stk\">Số tài khoản</label>\r\n          <input\r\n            type=\"\"\r\n            className=\"form-control\"\r\n            id=\"stk\"\r\n            onChange={(e) => setStk(e.target.value)}\r\n            value={stk}\r\n          />\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group \">\r\n              <label htmlFor=\"kieukh\">Kiểu khách hàng</label>\r\n              <CreatableSelect\r\n                id=\"kieukh\"\r\n                isClearable\r\n                onChange={handleChangeKieuKhachHang}\r\n                options={kieuKH}\r\n                styles={customStyles}\r\n                value={kieuKHSelected}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"taikhoan\">Tài khoản sử dụng</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"taikhoan\"\r\n                onChange={(e) => setAcc(e.target.value)}\r\n                value={acc}\r\n                disabled={disableAccount}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"text-danger\">{msg}</p>\r\n        <p className=\"text-success\">{successMsg}</p>\r\n        <div className=\"d-flex flex-row mb-5\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleInsertKh}\r\n            className={`btn btn-primary ${buttonThem}`}\r\n          >\r\n            Thêm\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleUpdateKh}\r\n            className={`btn btn-warning px-4 ${buttonSua}`}\r\n          >\r\n            Sửa\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThongTinKhachHang;\r\n","import React from \"react\";\r\nimport ThongTinDatPhong from \"../../../../components/quanly/datphong/ThongTinDatPhong\";\r\nimport ThongTinKhachHang from \"../../../../components/quanly/datphong/ThongTinKhachHang\";\r\n\r\nconst DatPhongPage = () => {\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      <div className=\"col border border-top-0 border-bottom-0 border-left-0\">\r\n        <ThongTinKhachHang />\r\n      </div>\r\n      <div className=\"col border border-top-0 border-bottom-0 border-right-0\">\r\n        <ThongTinDatPhong />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DatPhongPage;\r\n","import React, { useState } from \"react\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport { NumberFormat } from \"../../../utils/DataHandler\";\r\n\r\nconst XemThanhToan = ({ phongid }) => {\r\n  const [dpSelected, setDpSelected] = useState([]);\r\n  const handleClick = async (e) => {\r\n    try {\r\n      const res = await DatPhongFinder.get(`/danh-sach/${phongid}`);\r\n      if (res.data.status === \"ok\") {\r\n        setDpSelected(res.data.data.datphong);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-primary mx-3 py-2\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${phongid}xemtt`}\r\n        onClick={handleClick}\r\n      >\r\n        Xem thanh toán\r\n      </button>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${phongid}xemtt`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Tổng tiền trước thuế và phạt</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p>\r\n                Tiền SD dịch vụ:{\" \"}\r\n                <strong>{NumberFormat(dpSelected.tongtien)} </strong>VND\r\n              </p>\r\n              <p>\r\n                Tiền phòng:{\" \"}\r\n                <strong>\r\n                  {NumberFormat(\r\n                    parseInt(dpSelected.giathue) * parseInt(dpSelected.sotgthue)\r\n                  )}{\" \"}\r\n                </strong>\r\n                VND\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-start\">\r\n              <p>\r\n                Tổng cộng:{\" \"}\r\n                <strong>\r\n                  {NumberFormat(\r\n                    parseInt(dpSelected.giathue) *\r\n                      parseInt(dpSelected.sotgthue) +\r\n                      parseInt(dpSelected.tongtien)\r\n                  )}\r\n                </strong>{\" \"}\r\n                VND\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XemThanhToan;\r\n","import React, { useState } from \"react\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport PhongFinder from \"../../../apis/PhongFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst CheckOut = ({ phongid }) => {\r\n  const [dpSelected, setDpSelected] = useState([]);\r\n  let hi = useHistory();\r\n  const handleClick = async () => {\r\n    try {\r\n      const res = await DatPhongFinder.get(`/danh-sach/${phongid}`);\r\n      if (res.data.status === \"ok\") {\r\n        setDpSelected(res.data.data.datphong);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const handleCheckOut = async () => {\r\n    try {\r\n      await DatPhongFinder.put(\"/check-out\", {\r\n        id: dpSelected.id,\r\n      });\r\n      ThemLichSu({\r\n        doing: \"Check Out\",\r\n        olddata: {},\r\n        newdata: {},\r\n        tbl: \"Phòng\",\r\n      });\r\n\r\n      await PhongFinder.put(\"/update-tt\", {\r\n        ten: phongid,\r\n        trangthai: 3,\r\n      });\r\n\r\n      hi.push(\"/quan-ly/phong/hoa-don\");\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-danger px-5 py-2\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${phongid}checkout`}\r\n        onClick={handleClick}\r\n      >\r\n        Check Out\r\n      </button>\r\n\r\n      <div className=\"modal fade mb-5\" id={`id${phongid}checkout`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p className=\"text-left\">Khách hàng đến checkout đúng không?</p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-3\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleCheckOut(e)}\r\n              >\r\n                Đúng\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckOut;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport DichVuFinder from \"../../../apis/DichVuFinder\";\r\nimport DatPhongFinder from \"../../../apis/DatPhongFinder\";\r\nimport {\r\n  convertTime,\r\n  NumberFormat,\r\n  NormalizeDate,\r\n} from \"../../../utils/DataHandler\";\r\nimport { useParams, useHistory } from \"react-router\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport XemThanhToan from \"./XemThanhToan\";\r\nimport CheckOut from \"./CheckOut\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst SuDungDichVu = () => {\r\n  const [ldvIdSelected, setLdvIdSelected] = useState(\"\");\r\n\r\n  let hi = useHistory();\r\n  const [dsDichVu, setDsDichVu] = useState([]);\r\n  const [dsLoaiDv, setDsLoaiDv] = useState([]);\r\n  const [dpSelected, setDpSelected] = useState([]);\r\n\r\n  const { dsDvSuDung, setDsDvSuDung, themDvSd } = useContext(AccountContext);\r\n\r\n  //   const [msgSuccess, setMsgSuccess] = useState(\"\");\r\n  const [khName, setKhName] = useState(\"\");\r\n  const [khSdt, setKhSdt] = useState(\"\");\r\n  const { phongid } = useParams();\r\n\r\n  const getDichVu = async () => {\r\n    try {\r\n      const res = await DichVuFinder.get(\"/danh-sach-dich-vu\");\r\n      setDsDichVu(res.data.data.dichvu);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const getLoaiDichVu = async () => {\r\n    try {\r\n      const res = await DichVuFinder.get(\"/danh-sach-loai-dich-vu\");\r\n      setDsLoaiDv(res.data.data.loaidv);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const getDatPhong = async () => {\r\n      try {\r\n        const res = await DatPhongFinder.get(`/danh-sach/${phongid}`);\r\n        if (res.data.status === \"ok\") {\r\n          setDpSelected(res.data.data.datphong);\r\n          setKhName(res.data.data.datphong.kh_name);\r\n          setKhSdt(res.data.data.datphong.kh_sdt);\r\n          const res2 = await DatPhongFinder.get(\r\n            `/danh-sach-dich-vu/${res.data.data.datphong.id}`\r\n          );\r\n          setDsDvSuDung(res2.data.data.datphong_chitiet);\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    getDatPhong();\r\n    getDichVu();\r\n    getLoaiDichVu();\r\n  }, [setDsDichVu, setDsLoaiDv, phongid, setDpSelected, setDsDvSuDung]);\r\n\r\n  const handleChangeLDVFilter = async (e) => {\r\n    setLdvIdSelected(e.target.value);\r\n    if (e.target.value) {\r\n      try {\r\n        const res = await DichVuFinder.get(`/loc-theo-loai/${e.target.value}`);\r\n        setDsDichVu(res.data.data.loaidv);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    } else {\r\n      getDichVu();\r\n    }\r\n  };\r\n\r\n  const handleClickImg = async (e, dv) => {\r\n    e.stopPropagation();\r\n    try {\r\n      const res = await DatPhongFinder.post(\"/them-chi-tiet\", {\r\n        datphong_id: dpSelected.id,\r\n        dichvu_id: dv.id,\r\n        gia: dv.giahientai,\r\n        thanhtien: parseInt(dv.giahientai),\r\n      });\r\n      if (res.data.status === \"ok\") {\r\n        ThemLichSu({\r\n          doing: \"Sử dụng\",\r\n          olddata: {},\r\n          newdata: { new: res.data.data.datphong_chitiet },\r\n          tbl: \"Dịch vụ\",\r\n        });\r\n        // setMsgSuccess(\"Thêm thành công\");\r\n        // setTimeout(() => {\r\n        //   setMsgSuccess(\"\");\r\n        // }, 2000);\r\n        const res_dpchitiet = await DatPhongFinder.get(\r\n          `/danh-sach-dich-vu-theo-id/${res.data.data.datphong_chitiet.id}`\r\n        );\r\n\r\n        themDvSd(res_dpchitiet.data.data.datphong_chitiet);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/phong/tinh-trang\");\r\n  };\r\n\r\n  const handleDelete = async (e, id) => {\r\n    e.stopPropagation();\r\n    try {\r\n      await DatPhongFinder.delete(`/xoa-chi-tiet/${id}`);\r\n      setDsDvSuDung(\r\n        dsDvSuDung.filter((dv) => {\r\n          return dv.id !== id;\r\n        })\r\n      );\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {\" \"}\r\n      <h2 className=\"text-center\">Sử dụng dịch vụ phòng {phongid}</h2>\r\n      <div className=\"text-center\">\r\n        <u>\r\n          Khách hàng: {khName} - {khSdt}\r\n        </u>\r\n      </div>\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col-6 border border-dark\">\r\n          <div style={{ height: \"550px\", overflow: \"auto\" }}>\r\n            {/* Tìm kiếm */}\r\n            <div className=\"input-group mb-4 mt-3\">\r\n              <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\" id=\"locdv\">\r\n                  <i className=\"fas fa-search text-primary\"></i>\r\n                </span>\r\n              </div>\r\n              <select\r\n                className=\"custom-select\"\r\n                id=\"locdv\"\r\n                value={ldvIdSelected}\r\n                onChange={(e) => handleChangeLDVFilter(e)}\r\n              >\r\n                <option value=\"\">Tất cả ...</option>\r\n                {dsLoaiDv.map((ldv) => {\r\n                  return (\r\n                    <option value={ldv.id} key={ldv.id}>\r\n                      {ldv.name}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n\r\n            {/* <p className=\"text-success\">{msgSuccess}</p> */}\r\n            {/* Danh sách dịch vụ */}\r\n            <div className=\"row mt-3 \">\r\n              {dsDichVu.map((dv) => {\r\n                return (\r\n                  <div className=\"col-3\" key={dv.id}>\r\n                    <img\r\n                      src={dv.anhminhhoa}\r\n                      alt=\"Ảnh dịch vụ\"\r\n                      width=\"112px\"\r\n                      onClick={(e) => handleClickImg(e, dv)}\r\n                    />\r\n                    <p\r\n                      className=\"text-center\"\r\n                      style={{\r\n                        fontSize: \"0.8rem\",\r\n                        marginBottom: \"0px\",\r\n                      }}\r\n                    >\r\n                      {dv.ten}\r\n                    </p>\r\n                    <p\r\n                      className=\"text-danger text-center\"\r\n                      style={{ fontSize: \"0.6rem\" }}\r\n                    >\r\n                      Giá : {NumberFormat(dv.giahientai)} VND\r\n                    </p>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-6 p-0 border border-left-0 border-dark\">\r\n          <div style={{ height: \"555px\", overflow: \"auto\" }}>\r\n            <table className=\"table table-hover  \">\r\n              <thead>\r\n                <tr>\r\n                  <th>Tên dịch vụ</th>\r\n                  <th>Đơn giá</th>\r\n                  <th>Ngày sử dụng</th>\r\n                  <th>Xóa</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dsDvSuDung.map((dvsd) => {\r\n                  return (\r\n                    <tr\r\n                      className=\"border border-left-0 border-right-0 border-top-0 \"\r\n                      key={dvsd.id}\r\n                    >\r\n                      <td className=\"align-middle\">{dvsd.dvname}</td>\r\n                      <td className=\"align-middle \">\r\n                        <strong>{NumberFormat(dvsd.gia)}</strong> VND\r\n                      </td>\r\n                      <td className=\"align-middle \">\r\n                        {NormalizeDate(dvsd.ngaysd)}&nbsp;\r\n                        {convertTime(dvsd.ngaysd)}\r\n                      </td>\r\n                      <td style={{ cursor: \"pointer\" }}>\r\n                        <i\r\n                          className=\"fas fa-trash text-danger\"\r\n                          onClick={(e) => handleDelete(e, dvsd.id)}\r\n                        >\r\n                          &nbsp;Xóa\r\n                        </i>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex flex-row mb-5 pt-4 justify-content-center\">\r\n        <CheckOut phongid={phongid} />\r\n        <XemThanhToan phongid={phongid} />\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-secondary px-5\"\r\n          onClick={goBack}\r\n        >\r\n          Quay lại\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuDungDichVu;\r\n","import React from \"react\";\r\nimport SuDungDichVu from \"../../../../components/quanly/datphong/SuDungDichVu\";\r\n\r\nconst SuDungDichVuPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <SuDungDichVu />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuDungDichVuPage;\r\n","import React, { useContext } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\n\r\nconst Controller = () => {\r\n  const { controllerPhieuXacNhan, setControllerPhieuXacNhan } =\r\n    useContext(AccountContext);\r\n  return (\r\n    <div className=\"mt-5 mb-4 row\">\r\n      <div className=\"col-3\"></div>\r\n\r\n      <div className=\"input-group mb-3 col-6\">\r\n        <div className=\"input-group-prepend\">\r\n          <label className=\"input-group-text\" htmlFor=\"controllerpxn\">\r\n            Chọn loại phiếu\r\n          </label>\r\n        </div>\r\n        <select\r\n          className=\"custom-select\"\r\n          id=\"controllerpxn\"\r\n          value={controllerPhieuXacNhan}\r\n          onChange={(e) => setControllerPhieuXacNhan(e.target.value)}\r\n        >\r\n          <option value=\"dp\">Đổi phòng</option>\r\n          <option value=\"hp\">Hủy phòng</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"col-3\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Controller;\r\n","import React, { useState } from \"react\";\r\nimport DoiHuyFinder from \"../../../apis/DoiHuyFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\nconst SuaPhieuXacNhan = ({ type, id }) => {\r\n  const [lydo, setLydo] = useState(\"\");\r\n  let hi = useHistory();\r\n\r\n  const [old, setOld] = useState({});\r\n\r\n  const onClick = async () => {\r\n    try {\r\n      if (type === \"dp\") {\r\n        const res = await DoiHuyFinder.get(`/danh-sach-doi/${id}`);\r\n        setLydo(res.data.data.doiphong.lydodoi);\r\n        setOld({\r\n          id: id,\r\n          lydodoi: res.data.data.doiphong.lydodoi,\r\n        });\r\n      } else if (type === \"hp\") {\r\n        const res = await DoiHuyFinder.get(`/danh-sach-huy/${id}`);\r\n        setLydo(res.data.data.huyphong.lydohuy);\r\n        setOld({\r\n          id: id,\r\n          lydohuy: res.data.data.huyphong.lydohuy,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.stopPropagation();\r\n    if (lydo) {\r\n      try {\r\n        if (type === \"dp\") {\r\n          const res = await DoiHuyFinder.put(\"/sua-ly-do-doi\", {\r\n            id: id,\r\n            lydodoi: lydo,\r\n          });\r\n          if (res.data.status === \"ok\") {\r\n            const newd = { id: id, lydodoi: lydo };\r\n            if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n              ThemLichSu({\r\n                doing: \"Sửa lý do\",\r\n                olddata: { old },\r\n                newdata: { new: newd },\r\n                tbl: \"Phiếu xác đổi\",\r\n              });\r\n            }\r\n            hi.push(\"/quan-ly/phong\");\r\n            hi.push(\"/quan-ly/phong/phieu-xac-nhan\");\r\n          }\r\n        } else if (type === \"hp\") {\r\n          const res = await DoiHuyFinder.put(\"/sua-ly-do-huy\", {\r\n            id: id,\r\n            lydohuy: lydo,\r\n          });\r\n          if (res.data.status === \"ok\") {\r\n            const newd = { id: id, lydohuy: lydo };\r\n            if (JSON.stringify(old) !== JSON.stringify(newd)) {\r\n              ThemLichSu({\r\n                doing: \"Sửa lý do\",\r\n                olddata: { old },\r\n                newdata: { new: newd },\r\n                tbl: \"Phiếu xác nhận hủy\",\r\n              });\r\n            }\r\n            hi.push(\"/quan-ly/phong\");\r\n            hi.push(\"/quan-ly/phong/phieu-xac-nhan\");\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-warning mr-2\"\r\n        type=\"button\"\r\n        data-target={`#id${id}${type}phong`}\r\n        data-toggle=\"modal\"\r\n        onClick={onClick}\r\n      >\r\n        Sửa\r\n      </button>\r\n      <div className=\"modal fade mb-5\" id={`id${id}${type}phong`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Sửa lý do</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor={`sualydo${type}`}></label>{\" \"}\r\n                <textarea\r\n                  id={`sualydo${type}`}\r\n                  rows=\"3\"\r\n                  className=\"form-control\"\r\n                  value={lydo}\r\n                  onChange={(e) => setLydo(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-warning font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleUpdate(e)}\r\n              >\r\n                Sửa\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuaPhieuXacNhan;\r\n","import React from \"react\";\r\nimport DoiHuyFinder from \"../../../apis/DoiHuyFinder\";\r\nimport { useHistory } from \"react-router\";\r\nimport ThemLichSu from \"../../../utils/ThemLichSu\";\r\n\r\nconst XoaPhieuXacNhan = ({ dp, type }) => {\r\n  let hi = useHistory();\r\n  const handleDelete = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      if (type === \"dp\") {\r\n        await DoiHuyFinder.delete(`/xoa-doi-phong/${dp.id}`);\r\n        ThemLichSu({\r\n          doing: \"Xóa\",\r\n          olddata: { old: dp },\r\n          newdata: {},\r\n          tbl: \"Phiếu xác nhận đổi\",\r\n        });\r\n        hi.push(\"/quan-ly/phong\");\r\n        hi.push(\"/quan-ly/phong/phieu-xac-nhan\");\r\n      } else if (type === \"hp\") {\r\n        await DoiHuyFinder.delete(`/xoa-huy-phong/${dp.id}`);\r\n        ThemLichSu({\r\n          doing: \"Xóa\",\r\n          olddata: { old: dp },\r\n          newdata: {},\r\n          tbl: \"Phiếu xác nhận hủy\",\r\n        });\r\n        hi.push(\"/quan-ly/phong\");\r\n        hi.push(\"/quan-ly/phong/phieu-xac-nhan\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-danger mr-2\"\r\n        type=\"button\"\r\n        data-target={`#id${dp.id}${type}xoaphong`}\r\n        data-toggle=\"modal\"\r\n      >\r\n        Xóa\r\n      </button>\r\n      <div className=\"modal fade mb-5\" id={`id${dp.id}${type}xoaphong`}>\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Xác nhận</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <p>Bạn có thực sự muốn xóa phiếu xác nhận này không?</p>\r\n            </div>\r\n\r\n            <div className=\"modal-footer justify-content-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary font-weight-bold mr-2 px-4\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => handleDelete(e)}\r\n              >\r\n                Có\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary font-weight-bold ml-2\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Không\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default XoaPhieuXacNhan;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport DoiHuyFinder from \"../../../apis/DoiHuyFinder\";\r\nimport { NormalizeDate, convertTime } from \"../../../utils/DataHandler\";\r\nimport SuaPhieuXacNhan from \"./SuaPhieuXacNhan\";\r\nimport XoaPhieuXacNhan from \"./XoaPhieuXacNhan\";\r\nconst PhieuDoiPhong = () => {\r\n  const { controllerPhieuXacNhan } = useContext(AccountContext);\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n  const [dsDoiPhong, setDsDoiPhong] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await DoiHuyFinder.get(\"/danh-sach-doi\");\r\n        setDsDoiPhong(res.data.data.doiphong);\r\n      } catch (er) {\r\n        console.log(er.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  return (\r\n    <div className={controllerPhieuXacNhan === \"dp\" ? \"row\" : \"row d-none\"}>\r\n      {dsDoiPhong.map((dp) => {\r\n        return (\r\n          <div className=\"col-4\" key={dp.id}>\r\n            <div className=\"card mb-4\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"text-center\">\r\n                  {dp.kh_name} - {dp.kh_sdt}\r\n                </h5>\r\n              </div>\r\n              <div className=\"card-body \">\r\n                <ul className=\"list-group list-group-flush\">\r\n                  <li className=\"list-group-item\">\r\n                    Đổi từ : <strong>{dp.tuphong}</strong> sang{\" \"}\r\n                    <strong>{dp.denphong}</strong>\r\n                  </li>\r\n                  <li className=\"list-group-item\">Lý do : {dp.lydodoi}</li>\r\n                  <li className=\"list-group-item\">\r\n                    Ngày đổi: {NormalizeDate(dp.ngaydoi)}, lúc{\" \"}\r\n                    {convertTime(dp.ngaydoi)}\r\n                  </li>\r\n                  <li className=\"list-group-item\">Người đổi : {dp.nguoidoi}</li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"card-footer d-flex flex-row justify-content-center\">\r\n                <SuaPhieuXacNhan type=\"dp\" id={dp.id} />\r\n                {userrole === \"QL\" || userrole === \"Admin\" ? (\r\n                  <XoaPhieuXacNhan type=\"dp\" dp={dp} />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhieuDoiPhong;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../../contexts/AccountContext\";\r\nimport DoiHuyFinder from \"../../../apis/DoiHuyFinder\";\r\nimport {\r\n  NormalizeDate,\r\n  convertTime,\r\n  NumberFormat,\r\n} from \"../../../utils/DataHandler\";\r\nimport SuaPhieuXacNhan from \"./SuaPhieuXacNhan\";\r\nimport XoaPhieuXacNhan from \"./XoaPhieuXacNhan\";\r\n\r\nconst PhieuHuyPhong = () => {\r\n  const { controllerPhieuXacNhan } = useContext(AccountContext);\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n\r\n  const [dsHuyPhong, setDsHuyPhong] = useState([]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await DoiHuyFinder.get(\"/danh-sach-huy\");\r\n        setDsHuyPhong(res.data.data.huyphong);\r\n      } catch (er) {\r\n        console.log(er.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  return (\r\n    <div className={controllerPhieuXacNhan === \"hp\" ? \"row\" : \"row d-none\"}>\r\n      {dsHuyPhong.map((hp) => {\r\n        return (\r\n          <div className=\"col-4\" key={hp.id}>\r\n            <div className=\"card mb-4\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"text-center\">\r\n                  {hp.kh_name} - {hp.kh_sdt}\r\n                </h5>\r\n              </div>\r\n              <div className=\"card-body \">\r\n                <ul className=\"list-group list-group-flush\">\r\n                  <li className=\"list-group-item\">\r\n                    Phòng hủy : <strong>{hp.phonghuy}</strong>\r\n                  </li>\r\n                  <li className=\"list-group-item\">Lý do : {hp.lydohuy}</li>\r\n                  <li className=\"list-group-item\">\r\n                    Ngày hủy: {NormalizeDate(hp.ngayhuy)}, lúc{\" \"}\r\n                    {convertTime(hp.ngayhuy)}\r\n                  </li>\r\n                  <li className=\"list-group-item\">Người hủy : {hp.nguoihuy}</li>\r\n                  <li className=\"list-group-item\">\r\n                    Tiền cọc KH : <strong>{NumberFormat(hp.tiencoc)}</strong>\r\n                    &nbsp;VND\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"card-footer d-flex flex-row justify-content-center\">\r\n                <SuaPhieuXacNhan type=\"hp\" id={hp.id} />\r\n                {userrole === \"QL\" || userrole === \"Admin\" ? (\r\n                  <XoaPhieuXacNhan type=\"hp\" dp={hp} />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhieuHuyPhong;\r\n","import React from \"react\";\r\nimport Controller from \"../../../components/quanly/phieuxacnhan/Controller\";\r\nimport PhieuDoiPhong from \"../../../components/quanly/phieuxacnhan/PhieuDoiPhong\";\r\nimport PhieuHuyPhong from \"../../../components/quanly/phieuxacnhan/PhieuHuyPhong\";\r\n\r\nconst PhieuXacNhanPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">QUẢN LÝ PHIẾU XÁC NHẬN</h1>\r\n      <Controller />\r\n      <PhieuDoiPhong />\r\n      <PhieuHuyPhong />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhieuXacNhanPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport KhachHangFinder from \"../../../apis/KhachHangFinder\";\r\nimport { NumberFormat, NormalizeDate } from \"../../../utils/DataHandler\";\r\n\r\nconst ChiTietKhachHang = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n\r\n  const [khSelected, setKhSelected] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await KhachHangFinder.get(`/danh-sach/${id}`);\r\n        setKhSelected(res.data.data.khachhang);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [setKhSelected, id]);\r\n\r\n  const goBack = () => {\r\n    hi.push(\"/quan-ly/khach-hang\");\r\n  };\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div className=\"d-flex flex-row\">\r\n          <button className=\"btn btn-secondary mt-5\" onClick={goBack}>\r\n            Quay lại\r\n          </button>\r\n        </div>\r\n        <h4 className=\"mt-3 mb-3\">TÊN KHÁCH HÀNG: {khSelected.ten}</h4>\r\n\r\n        <table className=\"table table-striped table-hover table-bordered mb-5\">\r\n          <tbody>\r\n            <tr className=\"d-flex\">\r\n              <td className=\"col-3 pl-2 font-weight-bold\">\r\n                Chứng minh nhân dân\r\n              </td>\r\n              <td className=\"col-9 pl-2\">{NumberFormat(khSelected.cmnd)}</td>\r\n            </tr>\r\n            <tr className=\"d-flex\">\r\n              <td className=\"col-3 pl-2 font-weight-bold\">Số điện thoại</td>\r\n              <td className=\"col-9 pl-2\">{khSelected.sdt}</td>\r\n            </tr>\r\n            <tr className=\"d-flex\">\r\n              <td className=\"col-3 pl-2 font-weight-bold\">Giới tính</td>\r\n              <td className=\"col-9 pl-2\">\r\n                {khSelected.gioitinh === 0\r\n                  ? \"Nam\"\r\n                  : khSelected.gioitinh === 1\r\n                  ? \"Nữ\"\r\n                  : \"KXD\"}\r\n              </td>\r\n            </tr>\r\n\r\n            <tr className=\"d-flex\">\r\n              <td className=\"col-3 pl-2 font-weight-bold\">Ngày sinh</td>\r\n              <td className=\"col-9 pl-2\">\r\n                {NormalizeDate(khSelected.ngaysinh)}\r\n              </td>\r\n            </tr>\r\n\r\n            <tr className=\"d-flex\">\r\n              <td className=\"col-3 pl-2 font-weight-bold\">Địa chỉ</td>\r\n              <td className=\"col-9 pl-2\">{khSelected.diachi}</td>\r\n            </tr>\r\n\r\n            <tr className=\"d-flex\">\r\n              <td className=\"col-3 pl-2 font-weight-bold\">Tài khoản sử dụng</td>\r\n              <td className=\"col-9 pl-2\">{khSelected.account}</td>\r\n            </tr>\r\n\r\n            <tr className=\"d-flex\">\r\n              <td className=\"col-3 pl-2 font-weight-bold\">Kiểu khách hàng</td>\r\n              <td className=\"col-9 pl-2\">{khSelected.kieukhachhang_name}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietKhachHang;\r\n","import React from \"react\";\r\nimport ChiTietKhachHang from \"../../../components/quanly/khachhang/ChiTietKhachHang\";\r\n\r\nconst ChiTietKhachHangPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Thông tin chi tiết khách hàng</h1>\r\n      <ChiTietKhachHang />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietKhachHangPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport LichSuFinder from \"../../../apis/LichSuFinder\";\r\nimport ReactJson from \"react-json-view\";\r\nconst ChiTietLichSu = () => {\r\n  const { id } = useParams();\r\n  let hi = useHistory();\r\n  //   const [dsLs, setDsLs] = useState([]);\r\n  const [oldData, setOldData] = useState(\"\");\r\n  const [newData, setNewData] = useState(\"\");\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await LichSuFinder.get(`/danh-sach/${id}`);\r\n        // setDsLs(res.data.data.lichsu);\r\n        setOldData(JSON.parse(res.data.data.lichsu.dulieucu));\r\n        setNewData(JSON.parse(res.data.data.lichsu.dulieumoi));\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [id]);\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex flex-row mt-5 justify-content-center\">\r\n        <div className=\"px-4 py-2 border border-secondary mr-2\">\r\n          <h5 className=\"mb-3\">Dữ liệu cũ</h5>\r\n          <ReactJson\r\n            src={oldData.old}\r\n            name=\"old\"\r\n            indentWidth=\"8\"\r\n            displayObjectSize={false}\r\n            displayDataTypes={false}\r\n          />\r\n        </div>\r\n        <div className=\"px-4 py-2 border border-secondary  \">\r\n          <h5 className=\"mb-3\">Dữ liệu mới</h5>\r\n          <ReactJson\r\n            src={newData.new}\r\n            name=\"new\"\r\n            indentWidth=\"8\"\r\n            displayObjectSize={false}\r\n            displayDataTypes={false}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"btn btn-secondary\" onClick={() => hi.push(\"/\")}>\r\n        Quay lại\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietLichSu;\r\n","import React from \"react\";\r\nimport ChiTietLichSu from \"../../../components/quanly/lshoatdong/ChiTietLichSu\";\r\n\r\nconst ChiTietLichSuPage = () => {\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h1 className=\"text-center\">Dữ liệu thay đổi</h1>\r\n      <ChiTietLichSu />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChiTietLichSuPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport HoaDonFinder from \"../../../../apis/HoaDonFinder\";\r\nimport DatPhongFinder from \"../../../../apis/DatPhongFinder\";\r\nimport {\r\n  NormalizeDate,\r\n  convertTime,\r\n  NumberFormat,\r\n} from \"../../../../utils/DataHandler\";\r\nconst InHoaDon = () => {\r\n  let hi = useHistory();\r\n  const [hoadon, setHoaDon] = useState([]);\r\n  const [hoadonct, setHoaDonCt] = useState([]);\r\n\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const getHoaDon = async () => {\r\n      try {\r\n        const res = await HoaDonFinder.get(`/danh-sach/${id}`);\r\n        setHoaDon(res.data.data.hoadon);\r\n        console.log(res.data.data.hoadon);\r\n      } catch (er) {\r\n        console.log(er.message);\r\n      }\r\n    };\r\n    const getHoaDonCT = async () => {\r\n      try {\r\n        const res = await HoaDonFinder.get(`/danh-sach-theo-hoa-don-2/${id}`);\r\n\r\n        res.data.data.hoadon_chitiet.forEach(async (item) => {\r\n          item.dichvu = [];\r\n          const res_dv = await DatPhongFinder.get(\r\n            `danh-sach-dich-vu-so-luong/${item.datphong_id}`\r\n          );\r\n          item.dichvu = res_dv.data.data.datphong_chitiet;\r\n          setHoaDonCt((hoadonct) => [item, ...hoadonct]);\r\n        });\r\n      } catch (er) {\r\n        console.log(er.message);\r\n      }\r\n    };\r\n\r\n    getHoaDon();\r\n    getHoaDonCT();\r\n  }, [id, setHoaDonCt, hi]);\r\n\r\n  //   const printBill = () => {\r\n  //     const divContents = document.getElementById(\"printbill\").innerHTML;\r\n  //     const a = window.open(\"\", \"\", \"height=500, width=1000\");\r\n  //     a.document.write(\"<html>\");\r\n  //     a.document.write(\"<body >\");\r\n  //     a.document.write(divContents);\r\n  //     a.document.write(\"</body></html>\");\r\n  //     a.document.close();\r\n  //     a.focus();\r\n  //     a.print();\r\n  //   };\r\n  return (\r\n    <div className=\"mt-5\" id=\"printbill\">\r\n      <div\r\n        className=\"w-50 py-3\"\r\n        style={{ border: \"3px solid #515151\", borderRadius: \"4px\" }}\r\n      >\r\n        <h3 className=\"text-center mb-4\" onClick={() => window.print()}>\r\n          HÓA ĐƠN\r\n        </h3>\r\n\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item border border-dark border-bottom-0 border-left-0 border-right-0\">\r\n            <p>Đơn vị: KHÁCH SẠN MINH LONG</p>\r\n            <p>Sô điện thoại: 1800 6145 - 0904 579 079</p>\r\n            <p>\r\n              Địa chỉ: Số 11 khu A, Tập thể Quân Đội, Cầu Niệm, đường Trần\r\n              Nguyên Hãn, quận Lê Chân, Hải Phòng\r\n            </p>\r\n          </li>\r\n          <li className=\"list-group-item border border-dark border-bottom-0 border-left-0 border-right-0\">\r\n            <div className=\"row\">\r\n              <div className=\"col\">\r\n                <p>Khách hàng: {hoadon.kh_name}</p>\r\n              </div>\r\n              <div className=\"col\">\r\n                <p>Số điện thoại: {hoadon.kh_sdt}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col\">\r\n                <p>Nhân viên: {hoadon.nv_name}</p>\r\n              </div>\r\n              <div className=\"col\">\r\n                <p>Số điện thoại: {hoadon.nv_sdt}</p>\r\n              </div>\r\n            </div>\r\n            <p>\r\n              Ngày lập phiếu: {NormalizeDate(hoadon.ngaylap)}&nbsp;\r\n              {convertTime(hoadon.ngaylap)}\r\n            </p>\r\n          </li>\r\n          {hoadonct.map((hdct) => {\r\n            return (\r\n              <li\r\n                className=\"list-group-item border border-dark border-bottom-0 border-left-0 border-right-0\"\r\n                key={hdct.id}\r\n              >\r\n                Phòng: <strong>{hdct.phong}</strong>\r\n                <table className=\"table table-bordered\">\r\n                  <thead>\r\n                    <tr className=\"text-center\">\r\n                      <th>Tên</th>\r\n                      <th>Đơn giá</th>\r\n                      <th>SL</th>\r\n                      <th>ĐVT</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>Tiền thuê phòng</td>\r\n                      <td className=\"text-right\">\r\n                        <strong>{NumberFormat(hdct.giathue)}</strong> VND\r\n                      </td>\r\n                      <td className=\"text-center\">{hdct.sotgthue}</td>\r\n                      <td className=\"text-center\">\r\n                        {hdct.kieuthue === \"Thuê theo ngày\" ? \"ngày\" : \"giờ\"}\r\n                      </td>\r\n                    </tr>\r\n                    {hdct.dichvu.map((dv) => {\r\n                      return (\r\n                        <tr key={dv.dichvu_id}>\r\n                          <td>{dv.dv_name}</td>\r\n                          <td className=\"text-right\">\r\n                            <strong>{NumberFormat(dv.gia)}</strong> VND\r\n                          </td>\r\n                          <td className=\"text-center\">{dv.soluong}</td>\r\n                          <td className=\"text-center\">lần</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                    <tr>\r\n                      <td colSpan=\"4\">\r\n                        Tiền cọc :{\" \"}\r\n                        <strong>{NumberFormat(hdct.dp_tiencoc)}</strong> VND\r\n                      </td>\r\n                    </tr>\r\n                    {hdct.tienphat + \"\" !== \"0\" ? (\r\n                      <tr>\r\n                        <td colSpan=\"4\">\r\n                          Tiền phạt :{\" \"}\r\n                          <strong>{NumberFormat(hdct.tienphat)}</strong> VND\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </li>\r\n            );\r\n          })}\r\n          <li className=\"list-group-item border border-dark border-bottom-0 border-left-0 border-right-0\">\r\n            <table className=\"table table-bordered\">\r\n              <tbody>\r\n                <tr>\r\n                  <td>Thành tiền: </td>\r\n                  <td className=\"text-right\">\r\n                    +<strong>{NumberFormat(hoadon.thanhtien)}</strong> VND\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Thuế GTGT: </td>\r\n                  <td className=\"text-right\">\r\n                    +\r\n                    <strong>\r\n                      {NumberFormat(\r\n                        parseInt(hoadon.thanhtien) * (hoadon.vat / 100)\r\n                      )}\r\n                    </strong>{\" \"}\r\n                    VND\r\n                  </td>\r\n                </tr>\r\n\r\n                {hoadon.tongphat + \"\" !== \"0\" ? (\r\n                  <tr>\r\n                    <td>Tổng phạt: </td>\r\n                    <td className=\"text-right\">\r\n                      +<strong>{NumberFormat(hoadon.tongphat)}</strong> VND\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n\r\n                <tr>\r\n                  <td>Tổng cọc: </td>\r\n                  <td className=\"text-right\">\r\n                    -<strong>{NumberFormat(hoadon.tongcoc)}</strong> VND\r\n                  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                  <td>Thanh toán: </td>\r\n                  <td className=\"text-right\">\r\n                    =<strong>{NumberFormat(hoadon.tongtien)}</strong> VND\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InHoaDon;\r\n","import React from \"react\";\r\nimport InHoaDon from \"../../../../components/quanly/hoadon/hoadonct/InHoaDon\";\r\n\r\nconst InHoaDonPage = () => {\r\n  return (\r\n    <div>\r\n      <InHoaDon />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InHoaDonPage;\r\n","import React from \"react\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nimport TaiKhoanPage from \"./admin/TaiKhoanPage\";\r\n\r\nimport NhaCungCapPage from \"./danhmuc/NhaCungCapPage\";\r\nimport NhanVienPage from \"./danhmuc/NhanVienPage\";\r\nimport DetailPageNhanVien from \"./danhmuc/nhanvien/DetailPageNhanVien\";\r\nimport SuaPageNhanVien from \"./danhmuc/nhanvien/SuaPageNhanVien\";\r\nimport DichVuPage from \"./danhmuc/DichVuPage\";\r\nimport PhongPage from \"./danhmuc/PhongPage\";\r\nimport LoaiPage from \"./danhmuc/LoaiPage\";\r\n\r\nimport TinhTrangPhongPage from \"./phong/TinhTrangPhongPage\";\r\nimport DanhSachDatPhongPage from \"./phong/datphong/DanhSachDatPhongPage\";\r\nimport ChiTietDatPhongPage from \"./phong/datphong/ChiTietDatPhongPage\";\r\n\r\nimport DatPhongOnlinePage from \"./phong/DatPhongOnlinePage\";\r\nimport DatPhongOnlineChiTietPage from \"./phong/datphong/DatPhongOnlineChiTietPage\";\r\nimport HoaDonPage from \"./phong/HoaDonPage\";\r\nimport ChiTietHoaDonPage from \"./phong/hoadon/ChiTietHoaDonPage\";\r\n\r\nimport ThongTinKHPage from \"./qlkhachhang/ThongTinKHPage\";\r\n\r\nimport TaiSanPage from \"./qltaisan/TaiSanPage\";\r\nimport BaoDuongPage from \"./qltaisan/BaoDuongPage\";\r\nimport ChiTietBaoDuongPage from \"./qltaisan/baoduong/ChiTietBaoDuongPage\";\r\nimport SuaBaoDuongPage from \"./qltaisan/baoduong/SuaBaoDuongPage\";\r\n\r\nimport PhieuMuaPage from \"./qlhanghoa/PhieuMuaPage\";\r\n\r\nimport XinNghiPage from \"./qlnhanvien/XinNghiPage\";\r\nimport ChiTietDonXinNghiPage from \"./qlnhanvien/xinnghi/ChiTietDonXinNghiPage\";\r\nimport SuaDonXinNghiPage from \"./qlnhanvien/xinnghi/SuaDonXinNghiPage\";\r\nimport BangLuongPage from \"./qlnhanvien/BangLuongPage\";\r\nimport ProfileNhanVienPage from \"./qlnhanvien/ProfileNhanVienPage\";\r\n\r\nimport ChamCongPage from \"./nvquanly/ChamCongPage\";\r\nimport DuyetDonPage from \"./nvquanly/DonXinNghiPage\";\r\nimport DuyetDonChiTietPage from \"./nvquanly/duyetdon/DuyetDonChiTietPage\";\r\nimport ChiTietPhongPage from \"./danhmuc/phong/ChiTietPhongPage\";\r\nimport SuaPhongPage from \"./danhmuc/phong/SuaPhongPage\";\r\nimport ChiTietDichVuPage from \"./danhmuc/dichvu/ChiTietDichVuPage\";\r\nimport SuaDichVuPage from \"./danhmuc/dichvu/SuaDichVuPage\";\r\nimport ChiTietTaiSanPage from \"./qltaisan/thongtintaisan/ChiTietTaiSanPage\";\r\nimport SuaTaiSanPage from \"./qltaisan/thongtintaisan/SuaTaiSanPage\";\r\nimport LichSuHoatDongPage from \"./LichSuHoatDongPage\";\r\nimport SuaPhieuMuaPage from \"./qlhanghoa/phieumua/SuaPhieuMuaPage\";\r\nimport ChiTietPhieuMuaPage from \"./qlhanghoa/phieumua/ChiTietPhieuMuaPage\";\r\nimport CheckInPage from \"./phong/datphong/CheckInPage\";\r\nimport DatPhongPage from \"./phong/datphong/DatPhongPage\";\r\nimport SuDungDichVuPage from \"./phong/datphong/SuDungDichVuPage\";\r\nimport PhieuXacNhanPage from \"./phong/PhieuXacNhanPage\";\r\nimport ChiTietKhachHangPage from \"./qlkhachhang/ChiTietKhachHangPage\";\r\nimport ChiTietLichSuPage from \"./lshoatdong/ChiTietLichSuPage\";\r\n// import PhieuThuPage from \"./thuchi/PhieuThuPage\";\r\n// import PhieuChiPage from \"./thuchi/PhieuChiPage\";\r\n// import PhieuThuChiTietPage from \"./thuchi/PhieuThuChiTietPage\";\r\nimport InHoaDonPage from \"./phong/hoadon/InHoaDonPage\";\r\n\r\nconst MenuQuanLy = () => {\r\n  const userrole = window.localStorage.getItem(\"user_role\");\r\n  return (\r\n    <div>\r\n      <Sidebar />\r\n      <div className=\"container pt-5\">\r\n        {/* <Route path=\"/quan-ly/*\" component={LichSuHoatDongPage} /> */}\r\n        {/* lich su hoat dong */}\r\n        {userrole !== \"\" ? (\r\n          <>\r\n            <Route path=\"/\" exact component={LichSuHoatDongPage} />\r\n            <Route\r\n              path=\"/quan-ly/lich-su-hoat-dong/:id\"\r\n              exact\r\n              component={ChiTietLichSuPage}\r\n            />\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {/* Admin */}\r\n        {userrole === \"Admin\" ? (\r\n          <Route\r\n            path=\"/quan-ly/admin/tai-khoan\"\r\n            exact\r\n            component={TaiKhoanPage}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {/* Phong */}\r\n        {userrole === \"Admin\" || userrole === \"QL\" || userrole === \"NVLT\" ? (\r\n          <>\r\n            <Route\r\n              path=\"/quan-ly/phong/tinh-trang\"\r\n              exact\r\n              component={TinhTrangPhongPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/phong/dat-phong\"\r\n              exact\r\n              component={DanhSachDatPhongPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/phong/dat-phong/:id\"\r\n              exact\r\n              component={ChiTietDatPhongPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/phong/tinh-trang/:phongid/mophong\"\r\n              exact\r\n              component={DatPhongPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/phong/tinh-trang/:phongid/checkin\"\r\n              exact\r\n              component={CheckInPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/phong/tinh-trang/:phongid/su-dung-dich-vu\"\r\n              exact\r\n              component={SuDungDichVuPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/phong/phieu-xac-nhan\"\r\n              exact\r\n              component={PhieuXacNhanPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/phong/dat-phong-online\"\r\n              exact\r\n              component={DatPhongOnlinePage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/phong/dat-phong-online/:id\"\r\n              exact\r\n              component={DatPhongOnlineChiTietPage}\r\n            />\r\n            <Route path=\"/quan-ly/phong/hoa-don\" exact component={HoaDonPage} />\r\n            <Route\r\n              path=\"/quan-ly/phong/hoa-don/:id\"\r\n              exact\r\n              component={ChiTietHoaDonPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/phong/hoa-don/:id/in\"\r\n              exact\r\n              component={InHoaDonPage}\r\n            />\r\n            {/* Ql khach hang */}\r\n            <Route\r\n              path=\"/quan-ly/khach-hang\"\r\n              exact\r\n              component={ThongTinKHPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/khach-hang/:id\"\r\n              exact\r\n              component={ChiTietKhachHangPage}\r\n            />\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {userrole === \"Admin\" || userrole === \"QL\" ? (\r\n          <>\r\n            {/* Danh muc */}\r\n            <Route\r\n              path=\"/quan-ly/danh-muc/nha-cung-cap\"\r\n              exact\r\n              component={NhaCungCapPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/danh-muc/nhan-vien\"\r\n              exact\r\n              component={NhanVienPage}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/quan-ly/danh-muc/nhan-vien/:id\"\r\n              component={DetailPageNhanVien}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/quan-ly/danh-muc/nhan-vien/:id/sua\"\r\n              component={SuaPageNhanVien}\r\n            ></Route>\r\n            <Route\r\n              path=\"/quan-ly/danh-muc/dich-vu\"\r\n              exact\r\n              component={DichVuPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/danh-muc/dich-vu/:id\"\r\n              exact\r\n              component={ChiTietDichVuPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/danh-muc/dich-vu/:id/sua\"\r\n              exact\r\n              component={SuaDichVuPage}\r\n            />\r\n            <Route path=\"/quan-ly/danh-muc/phong\" exact component={PhongPage} />\r\n            <Route\r\n              path=\"/quan-ly/danh-muc/phong/:ten\"\r\n              exact\r\n              component={ChiTietPhongPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/danh-muc/phong/:ten/sua\"\r\n              exact\r\n              component={SuaPhongPage}\r\n            />\r\n            <Route path=\"/quan-ly/danh-muc/loai\" exact component={LoaiPage} />\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        {userrole === \"Admin\" || userrole === \"QL\" || userrole === \"NVK\" ? (\r\n          <>\r\n            {\" \"}\r\n            {/* Ql tai san */}\r\n            <Route\r\n              path=\"/quan-ly/ql-tai-san/thong-tin\"\r\n              exact\r\n              component={TaiSanPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/ql-tai-san/thong-tin/:id\"\r\n              exact\r\n              component={ChiTietTaiSanPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/ql-tai-san/thong-tin/:id/sua\"\r\n              exact\r\n              component={SuaTaiSanPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/ql-tai-san/bao-duong\"\r\n              exact\r\n              component={BaoDuongPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/ql-tai-san/bao-duong/:id\"\r\n              exact\r\n              component={ChiTietBaoDuongPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/ql-tai-san/bao-duong/:id/sua\"\r\n              exact\r\n              component={SuaBaoDuongPage}\r\n            />\r\n            {/* ql Hanghoa */}\r\n            <Route\r\n              path=\"/quan-ly/ql-hang-hoa/phieu-mua\"\r\n              exact\r\n              component={PhieuMuaPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/ql-hang-hoa/phieu-mua/:id\"\r\n              exact\r\n              component={ChiTietPhieuMuaPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/ql-hang-hoa/phieu-mua/:id/sua\"\r\n              exact\r\n              component={SuaPhieuMuaPage}\r\n            />\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        {userrole !== \"Admin\" && userrole !== \"QL\" ? (\r\n          <>\r\n            {\" \"}\r\n            {/* Ql nhan vien */}\r\n            <Route\r\n              path=\"/quan-ly/nhan-vien/thong-tin\"\r\n              exact\r\n              component={ProfileNhanVienPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/nhan-vien/xin-nghi\"\r\n              exact\r\n              component={XinNghiPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/nhan-vien/xin-nghi/:id\"\r\n              exact\r\n              component={ChiTietDonXinNghiPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/nhan-vien/xin-nghi/:id/sua\"\r\n              exact\r\n              component={SuaDonXinNghiPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/nhan-vien/bang-luong\"\r\n              exact\r\n              component={BangLuongPage}\r\n            />\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {userrole === \"Admin\" || userrole === \"QL\" ? (\r\n          <>\r\n            {/* Nv Quan ly */}\r\n            <Route\r\n              path=\"/quan-ly/nv-quan-ly/duyet-don\"\r\n              exact\r\n              component={DuyetDonPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/nv-quan-ly/duyet-don/:id\"\r\n              exact\r\n              component={DuyetDonChiTietPage}\r\n            />\r\n            <Route\r\n              path=\"/quan-ly/nv-quan-ly/cham-cong-nv\"\r\n              exact\r\n              component={ChamCongPage}\r\n            />{\" \"}\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {/* Thu chi */}\r\n        {/* <Route\r\n            path=\"/quan-ly/thu-chi/phieu-thu\"\r\n            exact\r\n            component={PhieuThuPage}\r\n          />\r\n          <Route\r\n            path=\"/quan-ly/thu-chi/phieu-thu/:id\"\r\n            exact\r\n            component={PhieuThuChiTietPage}\r\n          />\r\n          <Route\r\n            path=\"/quan-ly/thu-chi/phieu-chi\"\r\n            exact\r\n            component={PhieuChiPage}\r\n          /> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuQuanLy;\r\n","import React, { useContext } from \"react\";\r\nimport LoginBackEnd from \"../components/login/LoginBackEnd\";\r\nimport MenuQuanLy from \"./backend/MenuQuanLy\";\r\nimport { AccountContext } from \"../contexts/AccountContext\";\r\n\r\nconst BackEnd = () => {\r\n  const { signedIn } = useContext(AccountContext);\r\n\r\n  if (signedIn === \"true\") {\r\n    // da dang nhap\r\n    return (\r\n      <>\r\n        <MenuQuanLy />\r\n      </>\r\n    );\r\n  } else if (signedIn === \"false\") {\r\n    //chua dang nhap\r\n    return (\r\n      <>\r\n        <LoginBackEnd />\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default BackEnd;\r\n","import React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport BackEnd from \"./pages/BackEnd\";\nimport { AccountContextProvider } from \"./contexts/AccountContext\";\n\nfunction App() {\n  return (\n    <AccountContextProvider>\n      <div>\n        <Router>\n          <BackEnd />\n        </Router>\n      </div>\n    </AccountContextProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// const NormalizeDate = (date) => {\r\n//   return (date + \"\").substring(0, 10).split(\"-\").reverse().join(\"-\");\r\n// };\r\n\r\nconst NormalizeDate = (date) => {\r\n  let d = new Date(date);\r\n  return d.toLocaleDateString(\"vi-VN\");\r\n};\r\n\r\nconst convertTime = (dt) => {\r\n  let d = new Date(dt);\r\n  return d.toLocaleTimeString(\"vi-VN\");\r\n};\r\n\r\nconst convertDate = (date) => {\r\n  let d = NormalizeDate(date);\r\n  const arr = d.split(\"/\");\r\n  let result = arr[2] + \"-\";\r\n  arr[1] < 10 ? (result += \"0\" + arr[1]) : (result += arr[1]);\r\n  result += \"-\";\r\n  arr[0] < 10 ? (result += \"0\" + arr[0]) : (result += arr[0]);\r\n  return result;\r\n};\r\n\r\nconst RenderGioiTinh = (i) => {\r\n  let result = \"\";\r\n  switch (i) {\r\n    case 0:\r\n      result = \"Nữ\";\r\n      break;\r\n    case 1:\r\n      result = \"Nam\";\r\n      break;\r\n    case 2:\r\n      result = \"KXD\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return result;\r\n};\r\n\r\nconst NumberFormat = (num) => {\r\n  return (num + \"\").replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n};\r\n\r\nconst CMNDFormat = (cmnd) => {\r\n  return cmnd.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" - \");\r\n};\r\n\r\nconst checkSpecialCharacter = (str) => {\r\n  let regex = /`~,.<>;':\"\\/\\[\\]\\|{}()=_+-]/;\r\n  return regex.test(str);\r\n};\r\n\r\nconst validateEmail = (email) => {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n};\r\n\r\nconst dontSignEmail = (str) => {\r\n  const english = /^[A-Za-z0-9@.]*$/;\r\n  return english.test(str);\r\n};\r\n\r\nconst convertDataTocreatableSelect = (arr) => {\r\n  const result = [];\r\n  arr.map((item) => {\r\n    const obj = { value: item.id, label: item.name };\r\n    result.push(obj);\r\n    return item;\r\n  });\r\n  return result;\r\n};\r\n\r\nconst dateInPast = (firstDate, secondDate) =>\r\n  firstDate.setHours(0, 0, 0, 0) <= secondDate.setHours(0, 0, 0, 0);\r\n\r\nmodule.exports = {\r\n  NormalizeDate,\r\n  RenderGioiTinh,\r\n  NumberFormat,\r\n  CMNDFormat,\r\n  checkSpecialCharacter,\r\n  validateEmail,\r\n  dontSignEmail,\r\n  convertDataTocreatableSelect,\r\n  dateInPast,\r\n  convertDate,\r\n  convertTime,\r\n};\r\n"],"sourceRoot":""}